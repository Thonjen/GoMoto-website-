import{r as E,z as re,c as w,f as r,o as l,b as e,i as u,t as n,n as b,F as T,h as M,l as ne,g as ee,v as te,u as $,a as ae,w as de,e as m,d as R,Q as f}from"./app-BJQR1LEl.js";import{A as ue}from"./AuthenticatedLayout-BrqIq1Jk.js";import{S as O}from"./sweetalert2.esm.all-ePrzfkxH.js";import{M as ce}from"./map-pin-BKEgKeuc.js";import{S as oe}from"./star-CHnAmmsB.js";import"./Footer-Clo5IcIT.js";import"./Header-CJO43HsM.js";import"./createLucideIcon-B5JPBdvx.js";const me={class:"glass-card border border-white/20 rounded-lg p-6 bg-white/5 backdrop-blur-sm shadow-glow"},ge={class:"space-y-4 mb-6"},be={class:"flex items-center"},xe={class:"ml-4"},he={class:"text-sm text-gray-300"},ve={class:"flex items-center"},fe={class:"ml-4"},ke={key:0,class:"text-xs text-red-400 font-medium"},we={key:0,class:"flex items-center"},ye={class:"ml-4"},pe={class:"text-sm text-gray-300"},$e={key:0,class:"border-t border-gray-600/30 pt-4"},Ce={class:"space-y-2"},Be={class:"text-sm font-medium text-red-300"},Re={class:"text-xs text-red-400"},Te={class:"text-right"},Me={class:"text-sm font-bold text-red-300"},Se={key:0,class:"mt-3 pt-3 border-t border-red-500/20"},je={class:"flex justify-between items-center"},Pe={class:"text-lg font-bold text-red-300"},De={key:1,class:"border-t border-gray-600/30 pt-4"},Oe={class:"space-y-2"},Ee={class:"text-sm font-medium text-yellow-300"},_e={class:"text-xs text-yellow-400"},Le={class:"text-right"},Ae={class:"text-sm font-bold text-yellow-300"},Ne={key:2,class:"border-t border-gray-600/30 pt-4 mt-4"},ze={key:0,class:"mb-4 space-y-3"},Ve={class:"flex"},Ue={class:"flex-shrink-0"},Fe={key:0,class:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor"},He={key:1,class:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},Ie={key:2,class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},Ye={class:"ml-3"},qe={key:0,class:"mt-1"},Qe={key:1,class:"mt-1"},Ke={key:2,class:"mt-1"},We={key:3,class:"mt-2 font-medium"},Ge=["max"],Je={class:"mt-1 text-xs text-gray-400"},Xe={key:0,class:"bg-blue-500/10 border border-blue-500/20 p-3 rounded-md"},Ze={class:"text-sm text-blue-300"},et={class:"text-sm text-blue-400"},tt=["disabled"],ot={__name:"OverchargeInfo",props:{booking:Object,expectedReturnTime:String,potentialOvercharges:Array,canExtend:{type:Boolean,default:!1}},setup(t){const a=t,g=E(4),y=E(""),h=re({requested_hours:4,reason:""}),v=w(()=>a.booking.return_time?new Date(a.booking.return_time)>new Date(a.expectedReturnTime):new Date>new Date(a.expectedReturnTime)),k=d=>d?new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",S=()=>{const d=new Date,s=new Date(a.expectedReturnTime),i=Math.floor((d-s)/(1e3*60*60));return i<1?"Overdue by less than an hour":`Overdue by ${i} hour${i>1?"s":""}`},p=d=>d==null||isNaN(d)?"0.00":parseFloat(d).toFixed(2),j=d=>({1:"Late Return",2:"Out of City Use"})[d]||"Unknown",P=()=>{if(!g.value||!a.booking.pricing_tier)return 0;let d=a.booking.pricing_tier.price;return a.booking.pricing_tier.duration_unit==="days"?d=a.booking.pricing_tier.price/24:a.booking.pricing_tier.duration_unit==="minutes"&&(d=a.booking.pricing_tier.price*60),(g.value*d).toFixed(2)},D=()=>{if(!g.value)return"N/A";const d=new Date(a.expectedReturnTime);return d.setHours(d.getHours()+parseInt(g.value)),k(d.toISOString())},C=w(()=>{var d;return((d=a.booking.vehicle)==null?void 0:d.max_extension_hours)||72}),B=()=>{h.requested_hours=g.value,h.reason=y.value,h.post(route("bookings.requestExtension",a.booking.id),{onSuccess:()=>{alert("Extension request submitted successfully! The vehicle owner will review your request."),location.reload()},onError:d=>{console.error("Extension request failed:",d);const s=Object.values(d)[0]||"Failed to submit extension request. Please try again.";alert(s)}})};return(d,s)=>(l(),r("div",me,[s[19]||(s[19]=e("h4",{class:"text-lg font-medium text-white mb-4"}," Booking Timeline & Overcharges ",-1)),e("div",ge,[e("div",be,[s[3]||(s[3]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),e("div",xe,[s[2]||(s[2]=e("p",{class:"text-sm font-medium text-white"},"Pickup Time",-1)),e("p",he,n(k(t.booking.pickup_datetime)),1)])]),e("div",ve,[e("div",{class:b(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",v.value?"bg-red-500/20":"bg-yellow-500/20"])},[(l(),r("svg",{class:b(["w-4 h-4",v.value?"text-red-400":"text-yellow-400"]),fill:"currentColor",viewBox:"0 0 20 20"},s[4]||(s[4]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"},null,-1)]),2))],2),e("div",fe,[e("p",{class:b(["text-sm font-medium",v.value?"text-red-400":"text-white"])}," Expected Return ",2),e("p",{class:b(["text-sm",v.value?"text-red-300":"text-gray-300"])},n(k(t.expectedReturnTime)),3),v.value?(l(),r("p",ke,n(S()),1)):u("",!0)])]),t.booking.return_time?(l(),r("div",we,[s[6]||(s[6]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-gray-500/20 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),e("div",ye,[s[5]||(s[5]=e("p",{class:"text-sm font-medium text-white"},"Actual Return",-1)),e("p",pe,n(k(t.booking.return_time)),1)])])):u("",!0)]),t.booking.overcharges&&t.booking.overcharges.length>0?(l(),r("div",$e,[s[8]||(s[8]=e("h5",{class:"text-md font-medium text-red-300 mb-3"},"Applied Overcharges",-1)),e("div",Ce,[(l(!0),r(T,null,M(t.booking.overcharges,i=>(l(),r("div",{key:i.id,class:"flex justify-between items-center p-3 bg-red-500/10 border border-red-500/20 rounded-md"},[e("div",null,[e("p",Be,n(i.overcharge_type.description),1),e("p",Re,n(i.details),1)]),e("div",Te,[e("p",Me,"â‚±"+n(p(i.amount)),1),e("p",{class:b(["text-xs",i.is_paid?"text-green-400":"text-red-400"])},n(i.is_paid?"Paid":"Unpaid"),3)])]))),128))]),t.booking.total_overcharges>0?(l(),r("div",Se,[e("div",je,[s[7]||(s[7]=e("span",{class:"text-sm font-medium text-red-300"},"Total Overcharges:",-1)),e("span",Pe,"â‚±"+n(p(t.booking.total_overcharges)),1)])])):u("",!0)])):t.potentialOvercharges&&t.potentialOvercharges.length>0?(l(),r("div",De,[s[10]||(s[10]=e("h5",{class:"text-md font-medium text-yellow-300 mb-3"},"Potential Overcharges",-1)),e("div",Oe,[(l(!0),r(T,null,M(t.potentialOvercharges,i=>(l(),r("div",{key:`potential-${i.overcharge_type_id}`,class:"flex justify-between items-center p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-md"},[e("div",null,[e("p",Ee,n(j(i.overcharge_type_id)),1),e("p",_e,n(i.details),1)]),e("div",Le,[e("p",Ae,"â‚±"+n(i.amount),1),s[9]||(s[9]=e("p",{class:"text-xs text-yellow-400"},"If charged now",-1))])]))),128))])])):u("",!0),t.canExtend?(l(),r("div",Ne,[s[17]||(s[17]=e("h5",{class:"text-md font-medium text-blue-300 mb-3"},"Request Booking Extension",-1)),s[18]||(s[18]=e("p",{class:"text-sm text-gray-300 mb-4"}," Request additional time from the vehicle owner to avoid late return charges. ",-1)),t.booking.extension_requests&&t.booking.extension_requests.length>0?(l(),r("div",ze,[(l(!0),r(T,null,M(t.booking.extension_requests,i=>(l(),r("div",{key:i.id,class:b([{"bg-yellow-500/10 border-yellow-500/20":i.status==="pending","bg-green-500/10 border-green-500/20":i.status==="approved","bg-red-500/10 border-red-500/20":i.status==="rejected"},"border rounded-md p-4"])},[e("div",Ve,[e("div",Ue,[i.status==="pending"?(l(),r("svg",Fe,s[11]||(s[11]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"},null,-1)]))):i.status==="approved"?(l(),r("svg",He,s[12]||(s[12]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)]))):(l(),r("svg",Ie,s[13]||(s[13]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])))]),e("div",Ye,[e("h3",{class:b([{"text-yellow-300":i.status==="pending","text-green-300":i.status==="approved","text-red-300":i.status==="rejected"},"text-sm font-medium"])}," Extension Request "+n(i.status==="pending"?"Pending":i.status==="approved"?"Approved":"Rejected"),3),e("div",{class:b([{"text-yellow-200":i.status==="pending","text-green-200":i.status==="approved","text-red-200":i.status==="rejected"},"mt-2 text-sm"])},[e("p",null,n(i.requested_hours)+" hours extension (â‚±"+n(p(i.calculated_cost))+")",1),i.status==="pending"?(l(),r("p",qe,"Waiting for owner approval.")):i.status==="approved"?(l(),r("p",Qe,"Your extension has been approved!")):(l(),r("p",Ke,"Extension request was rejected.")),i.owner_notes?(l(),r("p",We," Owner notes: "+n(i.owner_notes),1)):u("",!0)],2)])])],2))),128))])):u("",!0),t.booking.pending_extension_request?u("",!0):(l(),r("form",{key:1,onSubmit:ne(B,["prevent"]),class:"space-y-4"},[e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-300"}," Request extension (hours) ",-1)),ee(e("input",{type:"number",min:"1",max:C.value,"onUpdate:modelValue":s[0]||(s[0]=i=>g.value=i),class:"mt-1 block w-full bg-gray-800/60 border border-gray-600/30 text-white rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"4"},null,8,Ge),[[te,g.value]]),e("p",Je," Maximum "+n(C.value)+" hours allowed for this vehicle ",1)]),e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-300"}," Reason for extension (optional) ",-1)),ee(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=i=>y.value=i),rows:"3",class:"mt-1 block w-full bg-gray-800/60 border border-gray-600/30 text-white rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Please explain why you need the extension..."},null,512),[[te,y.value]])]),g.value>0?(l(),r("div",Xe,[e("p",Ze," Estimated cost: â‚±"+n(P()),1),e("p",et," New return time: "+n(D()),1),s[16]||(s[16]=e("p",{class:"text-xs text-blue-400 mt-1"}," *Subject to owner approval ",-1))])):u("",!0),e("button",{type:"submit",disabled:$(h).processing||!g.value,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50"},n($(h).processing?"Submitting Request...":"Request Extension"),9,tt)],32))])):u("",!0)]))}},nt={class:"min-h-screen py-12",style:{background:"linear-gradient(135deg, #535862 0%, #3a3f4a 100%)"}},st={class:"max-w-5xl mx-auto sm:px-6 lg:px-8"},it={class:"glass-card-dark border border-white/20 rounded-lg shadow-glow"},lt={class:"p-6 text-white"},rt={class:"mb-6"},at={class:"mb-6"},dt={class:"text-3xl font-bold text-white"},ut={class:"flex items-center space-x-4 mt-2"},ct={key:0,class:"text-sm text-white/60"},mt={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},gt={class:"lg:col-span-2 space-y-6"},bt={class:"glass-card-dark border border-white/20 rounded-lg p-6 backdrop-blur-sm"},xt={class:"flex space-x-4"},ht=["src","alt"],vt={class:"flex-1"},ft={class:"text-lg font-semibold text-white"},kt={key:0,class:"text-white/60"},wt={class:"text-white/70 mb-3"},yt={class:"grid grid-cols-2 gap-4 text-sm text-white/70"},pt={class:"mt-3"},$t={class:"w-5xl h-56 bg-white/10 border border-white/20 rounded-lg overflow-hidden backdrop-blur-sm"},Ct=["src"],Bt={key:1,class:"flex items-center justify-center h-full text-white/70"},Rt={class:"glass-card-dark border border-white/20 rounded-lg p-6 backdrop-blur-sm"},Tt={class:"grid grid-cols-2 gap-6"},Mt={class:"font-semibold text-white"},St={class:"text-xl font-bold text-green-400"},jt={class:"font-semibold text-white"},Pt={class:"font-semibold text-white"},Dt={class:"glass-card-dark border border-white/20 rounded-lg p-6 backdrop-blur-sm"},Ot={class:"flex items-center space-x-4"},Et={class:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold border border-white/20"},_t={class:"font-semibold text-white"},Lt={class:"text-sm text-white/70"},At={key:0,class:"text-sm text-white/70"},Nt=["href"],zt={class:"lg:col-span-1"},Vt={class:"glass-card-dark border border-white/20 rounded-lg p-6 mb-6 backdrop-blur-sm"},Ut={class:"space-y-3"},Ft={class:"font-semibold text-white"},Ht={key:0},It={class:"font-mono text-sm text-white"},Yt={key:1},qt={class:"mt-2"},Qt=["src"],Kt={class:"space-y-3 mt-5"},Wt={key:1,class:"w-full p-3 bg-green-500/20 border border-green-400/30 rounded-lg backdrop-blur-sm"},Gt={class:"flex items-center justify-between"},Jt={class:"flex items-center space-x-1"},Xt={key:0,class:"text-green-200 text-sm mt-1"},Zt={class:"glass-card-dark border border-white/20 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-auto shadow-glow"},eo={class:"p-4 text-center"},to=["src"],co={__name:"Show",props:{booking:Object,expectedReturnTime:String,potentialOvercharges:Array},setup(t){const a=t,g=E(!1),y=w(()=>a.booking.status==="pending"&&a.booking.payment&&!a.booking.payment.paid_at&&a.booking.payment.type==="gcash"),h=w(()=>{const c=new Date(a.booking.pickup_datetime),o=a.booking.pricing_tier;let x=new Date(c);switch(o.duration_unit){case"minutes":x.setMinutes(x.getMinutes()+o.duration_from);break;case"hours":x.setHours(x.getHours()+o.duration_from);break;case"days":x.setDate(x.getDate()+o.duration_from);break}return x.toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),v=w(()=>{var c;return a.booking.status==="confirmed"&&!a.booking.return_time&&((c=a.booking.vehicle)==null?void 0:c.allow_extensions)!==!1}),k=w(()=>a.booking.status==="completed"&&a.booking.return_time&&!a.booking.rating);function S(c){return{pending:"bg-yellow-400/20 text-yellow-400 border-yellow-400/30",confirmed:"bg-blue-400/20 text-blue-400 border-blue-400/30",completed:"bg-green-400/20 text-green-400 border-green-400/30",cancelled:"bg-red-400/20 text-red-400 border-red-400/30"}[c]||"bg-white/10 text-white/70 border-white/20"}function p(c){return c?"bg-green-400/20 text-green-400 border-green-400/30":"bg-yellow-400/20 text-yellow-400 border-yellow-400/30"}function j(c){return{pending:"Pending",confirmed:"Confirmed",completed:"Completed",cancelled:"Cancelled"}[c]||c}function P(c){return new Date(c).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function D(c){return new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function C(){g.value=!0}function B(){g.value=!1}function d(){f.visit(route("bookings.index"))}function s(){f.visit(route("admin.bookings"))}function i(){f.visit(route("bookings.payment",a.booking.id))}function se(){f.visit(`/vehicles/${a.booking.vehicle.id}`)}function ie(){f.visit(route("ratings.create",a.booking.id))}function le(){O.fire({title:"Cancel Booking?",text:"Are you sure you want to cancel this booking? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Cancel Booking",cancelButtonText:"Keep Booking"}).then(c=>{c.isConfirmed&&f.post(route("bookings.cancel",a.booking.id),{},{onSuccess:()=>{O.fire({title:"Cancelled!",text:"Your booking has been cancelled.",icon:"success",confirmButtonColor:"#3b82f6"}).then(()=>{f.visit(route("bookings.index"))})},onError:()=>{O.fire({title:"Error!",text:"There was an error cancelling your booking. Please try again.",icon:"error",confirmButtonColor:"#3b82f6"})}})})}return(c,o)=>(l(),ae(ue,null,{default:de(()=>{var x,_,L,A,N,z,V,U,F,H,I,Y,q,Q,K,W,G,J,X;return[e("div",nt,[e("div",st,[e("div",it,[e("div",lt,[e("div",rt,[c.$is("renter","owner")?(l(),r("button",{key:0,onClick:d,class:"inline-flex items-center text-blue-400 hover:text-blue-300 font-semibold transition-colors"},o[0]||(o[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),m(" Back to My Bookings ")]))):u("",!0),c.$is("admin")?(l(),r("button",{key:1,onClick:s,class:"inline-flex items-center text-blue-400 hover:text-blue-300 font-semibold transition-colors"},o[1]||(o[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),m(" Back to My Bookings ")]))):u("",!0)]),e("div",at,[e("h1",dt," Booking #"+n(t.booking.id),1),e("div",ut,[e("span",{class:b([S(t.booking.status),"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border backdrop-blur-sm"])},n(j(t.booking.status)),3),t.booking.payment?(l(),r("span",ct," Created "+n(D(t.booking.created_at)),1)):u("",!0)])]),e("div",mt,[e("div",gt,[e("div",bt,[o[13]||(o[13]=e("h2",{class:"text-xl font-semibold mb-4 text-white"}," Vehicle Details ",-1)),e("div",xt,[e("img",{src:t.booking.vehicle.main_photo_url||"/images/placeholder-vehicle.jpg",alt:`${(x=t.booking.vehicle.make)==null?void 0:x.name} ${((_=t.booking.vehicle.model)==null?void 0:_.name)||((L=t.booking.vehicle.type)==null?void 0:L.name)}`,class:"w-32 h-32 object-cover rounded-lg border border-white/20"},null,8,ht),e("div",vt,[e("h3",ft,[m(n((A=t.booking.vehicle.make)==null?void 0:A.name)+" "+n((N=t.booking.vehicle.model)==null?void 0:N.name)+" ",1),t.booking.vehicle.year?(l(),r("span",kt,"("+n(t.booking.vehicle.year)+")",1)):u("",!0)]),e("p",wt,n(t.booking.vehicle.description),1),e("div",yt,[e("div",null,[o[2]||(o[2]=e("span",{class:"font-medium"},"Make:",-1)),m(" "+n(((z=t.booking.vehicle.make)==null?void 0:z.name)||"Unknown"),1)]),e("div",null,[o[3]||(o[3]=e("span",{class:"font-medium"},"Model:",-1)),m(" "+n(((V=t.booking.vehicle.model)==null?void 0:V.name)||"Unknown"),1)]),e("div",null,[o[4]||(o[4]=e("span",{class:"font-medium"},"Category:",-1)),m(" "+n(((U=t.booking.vehicle.type)==null?void 0:U.category)==="car"?"ðŸš— Car":"ðŸï¸ Motorcycle"),1)]),e("div",null,[o[5]||(o[5]=e("span",{class:"font-medium"},"Sub-Type:",-1)),m(" "+n(((F=t.booking.vehicle.type)==null?void 0:F.sub_type)||"N/A"),1)]),e("div",null,[o[6]||(o[6]=e("span",{class:"font-medium"},"Year:",-1)),m(" "+n(t.booking.vehicle.year),1)]),e("div",null,[o[7]||(o[7]=e("span",{class:"font-medium"},"Color:",-1)),m(" "+n(t.booking.vehicle.color),1)]),e("div",null,[o[8]||(o[8]=e("span",{class:"font-medium"},"Fuel Type:",-1)),m(" "+n(((H=t.booking.vehicle.fuelType)==null?void 0:H.name)||((I=t.booking.vehicle.fuel_type)==null?void 0:I.name)||"N/A"),1)]),e("div",null,[o[9]||(o[9]=e("span",{class:"font-medium"},"Transmission:",-1)),m(" "+n(((Y=t.booking.vehicle.transmission)==null?void 0:Y.name)||"N/A"),1)]),e("div",null,[o[10]||(o[10]=e("span",{class:"font-medium"},"License Plate:",-1)),m(" "+n(t.booking.vehicle.license_plate||"Not Set"),1)])]),e("div",pt,[o[11]||(o[11]=e("span",{class:"font-medium"},"Location:",-1)),m(" "+n(t.booking.vehicle.location_name),1)])])]),o[14]||(o[14]=e("h2",{class:"text-xl font-semibold mb-4 text-white"}," Location Map ",-1)),e("div",$t,[t.booking.vehicle.lat&&t.booking.vehicle.lng?(l(),r("iframe",{key:0,src:`https://maps.google.com/maps?q=${t.booking.vehicle.lat},${t.booking.vehicle.lng}&z=18&t=k&output=embed`,class:"w-full h-full border-0",loading:"lazy",allowfullscreen:""},null,8,Ct)):(l(),r("div",Bt,[R($(ce),{class:"h-8 w-8 mr-2"}),o[12]||(o[12]=e("span",null,"Location not available",-1))]))])]),e("div",Rt,[o[19]||(o[19]=e("h2",{class:"text-xl font-semibold mb-4 text-white"}," Booking Information ",-1)),e("div",Tt,[e("div",null,[o[15]||(o[15]=e("span",{class:"text-sm text-white/70"},"Duration",-1)),e("div",Mt,n(t.booking.pricing_tier.duration_from)+" "+n(t.booking.pricing_tier.duration_from===1?t.booking.pricing_tier.duration_unit.slice(0,-1):t.booking.pricing_tier.duration_unit),1)]),e("div",null,[o[16]||(o[16]=e("span",{class:"text-sm text-white/70"},"Total Amount",-1)),e("div",St," â‚±"+n(t.booking.total_amount),1)]),e("div",null,[o[17]||(o[17]=e("span",{class:"text-sm text-white/70"},"Pickup Date & Time",-1)),e("div",jt,n(P(t.booking.pickup_datetime)),1)]),e("div",null,[o[18]||(o[18]=e("span",{class:"text-sm text-white/70"},"Estimated Return",-1)),e("div",Pt,n(h.value),1)])])]),e("div",Dt,[o[20]||(o[20]=e("h2",{class:"text-xl font-semibold mb-4 text-white"}," Vehicle Owner ",-1)),e("div",Ot,[e("div",Et,n(t.booking.vehicle.owner.first_name.charAt(0))+n(t.booking.vehicle.owner.last_name.charAt(0)),1),e("div",null,[e("div",_t,n(t.booking.vehicle.owner.first_name)+" "+n(t.booking.vehicle.owner.last_name),1),e("div",Lt,n(t.booking.vehicle.owner.email),1),t.booking.vehicle.owner.phone?(l(),r("div",At,[e("a",{href:`tel:${t.booking.vehicle.owner.phone}`,class:"text-blue-400 hover:text-blue-300"},n(t.booking.vehicle.owner.phone),9,Nt)])):u("",!0)])])])]),e("div",zt,[e("div",Vt,[o[25]||(o[25]=e("h2",{class:"text-xl font-semibold mb-4 text-white"}," Payment Information ",-1)),e("div",Ut,[e("div",null,[o[21]||(o[21]=e("span",{class:"text-sm text-white/70"},"Payment Method",-1)),e("div",Ft,n(((Q=(q=t.booking.payment)==null?void 0:q.payment_mode)==null?void 0:Q.name)||"N/A"),1)]),e("div",null,[o[22]||(o[22]=e("span",{class:"text-sm text-white/70"},"Payment Status",-1)),e("div",null,[e("span",{class:b([p((K=t.booking.payment)==null?void 0:K.paid_at),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border backdrop-blur-sm"])},n((W=t.booking.payment)!=null&&W.paid_at?"Payment Confirmed":"Payment Pending"),3)])]),(G=t.booking.payment)!=null&&G.reference_number?(l(),r("div",Ht,[o[23]||(o[23]=e("span",{class:"text-sm text-white/70"},"Reference Number",-1)),e("div",It,n(t.booking.payment.reference_number),1)])):u("",!0),(J=t.booking.payment)!=null&&J.receipt_image?(l(),r("div",Yt,[o[24]||(o[24]=e("span",{class:"text-sm text-white/70"},"Payment Proof",-1)),e("div",qt,[e("img",{src:t.booking.payment.receipt_image,alt:"Payment Receipt",class:"w-full rounded border border-white/20 cursor-pointer",onClick:C},null,8,Qt)])])):u("",!0)])]),R(ot,{booking:t.booking,expectedReturnTime:t.expectedReturnTime,potentialOvercharges:t.potentialOvercharges,canExtend:v.value},null,8,["booking","expectedReturnTime","potentialOvercharges","canExtend"]),e("div",Kt,[t.booking.status==="completed"&&!t.booking.rating&&k.value?(l(),r("button",{key:0,onClick:ie,class:"mt-4 w-full py-2 px-4 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2"},[R($(oe),{class:"h-4 w-4"}),o[26]||(o[26]=m(" Rate Your Experience "))])):u("",!0),t.booking.rating?(l(),r("div",Wt,[e("div",Gt,[o[27]||(o[27]=e("span",{class:"text-green-300 font-medium"},"You rated this rental",-1)),e("div",Jt,[(l(),r(T,null,M(5,Z=>R($(oe),{key:Z,class:b(["h-4 w-4",Z<=t.booking.rating.rating?"text-yellow-400 fill-yellow-400":"text-white/30"])},null,8,["class"])),64))])]),t.booking.rating.comment?(l(),r("p",Xt,' "'+n(t.booking.rating.comment)+'" ',1)):u("",!0)])):u("",!0),y.value?(l(),r("button",{key:2,onClick:i,class:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors"}," Complete Payment ")):u("",!0),t.booking.status==="pending"?(l(),r("button",{key:3,onClick:le,class:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors"}," Cancel Booking ")):u("",!0),e("button",{onClick:se,class:"w-full py-2 px-4 border border-white/20 text-white hover:bg-white/10 font-semibold rounded-lg transition-colors backdrop-blur-sm"}," View Vehicle ")])])])])])])]),g.value?(l(),r("div",{key:0,onClick:ne(B,["self"]),class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},[e("div",Zt,[e("div",{class:"p-4 border-b border-white/20 flex justify-between items-center"},[o[29]||(o[29]=e("h3",{class:"text-lg font-semibold text-white"},"Payment Receipt",-1)),e("button",{onClick:B,class:"text-white/60 hover:text-white transition-colors"},o[28]||(o[28]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",eo,[e("img",{src:(X=t.booking.payment)==null?void 0:X.receipt_image,alt:"Payment Receipt",class:"max-w-full h-auto mx-auto rounded border border-white/20"},null,8,to)])])])):u("",!0)]}),_:1}))}};export{co as default};
