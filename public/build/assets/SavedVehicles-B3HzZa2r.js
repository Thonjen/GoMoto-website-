import{c as B,f as l,o as i,b as e,i as a,F as y,h as _,d as p,n as M,u as x,t as n,e as d,a as b,w as u,S as g,Q as f}from"./app-BJQR1LEl.js";import{A as E}from"./AuthenticatedLayout-BrqIq1Jk.js";import{S as D}from"./star-CHnAmmsB.js";import"./Footer-Clo5IcIT.js";import"./Header-CJO43HsM.js";import"./createLucideIcon-B5JPBdvx.js";const N={class:"flex items-center space-x-2"},T={class:"flex items-center space-x-1"},z={class:"flex items-center space-x-1 text-sm"},A={key:0,class:"font-medium text-white"},O={key:1,class:"text-white/70"},F={key:2,class:"text-white/60 text-xs"},H={key:0,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-500/20 text-green-300 backdrop-blur-sm border border-green-400/30"},q={__name:"RatingDisplay",props:{averageRating:{type:Number,default:0},totalRatings:{type:Number,default:0},showHighRatingBadge:{type:Boolean,default:!1},compact:{type:Boolean,default:!1}},setup(o){const m=o,w=B(()=>m.averageRating>=4.5&&m.totalRatings>=5);return(k,v)=>(i(),l("div",N,[e("div",T,[(i(),l(y,null,_(5,h=>p(x(D),{key:h,class:M(["h-4 w-4",h<=Math.floor(o.averageRating)?"text-yellow-400 fill-yellow-400":h<=o.averageRating?"text-yellow-400 fill-yellow-400 opacity-50":"text-gray-300"])},null,8,["class"])),64))]),e("div",z,[o.averageRating>0?(i(),l("span",A,n(o.averageRating.toFixed(1)),1)):a("",!0),o.totalRatings>0?(i(),l("span",O," ("+n(o.totalRatings)+" "+n(o.totalRatings===1?"review":"reviews")+") ",1)):a("",!0),o.totalRatings===0?(i(),l("span",F," No reviews yet ")):a("",!0)]),o.showHighRatingBadge&&w.value?(i(),l("div",H,v[0]||(v[0]=[e("span",{class:"mr-1"},"⭐",-1),d(" Top Rated ")]))):a("",!0)]))}},J={class:"min-h-screen py-8",style:{background:"linear-gradient(135deg, #535862 0%, #3a3f4a 100%)"}},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Q={class:"space-y-8"},W={class:"glass-card p-6 shadow-glow"},X={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},P={class:"flex gap-6"},U={class:"text-center"},G={class:"text-2xl font-bold text-blue-300"},I={class:"text-center"},Y={class:"text-2xl font-bold text-green-300"},Z={class:"text-center"},ee={class:"text-2xl font-bold text-purple-300"},te={class:"glass-card p-6 shadow-glow"},se={class:"border-b border-white/20"},oe={class:"-mb-px flex space-x-8"},ie=["onClick"],le={class:"ml-2 bg-white/10 text-white/80 py-0.5 px-2 rounded-full text-xs border border-white/20"},re=["onClick"],ne={key:0,class:"glass-card p-12 shadow-glow text-center"},ae={class:"text-2xl font-bold text-white mb-3"},de={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},ce={class:"relative h-48 bg-gray-200"},he=["src","alt"],ue={key:1,class:"w-full h-full flex items-center justify-center text-gray-500"},xe={class:"absolute top-3 left-3 bg-white bg-opacity-90 backdrop-blur-sm text-gray-800 px-2 py-1 rounded-full text-xs font-medium"},me=["onClick"],ve={class:"p-5"},ge={class:"mb-3"},fe={class:"text-lg font-bold text-white group-hover:text-blue-300 transition-colors"},pe={class:"text-white/60 font-normal"},we={class:"text-sm text-white/70"},be={key:0,class:"mb-3"},ye={key:1,class:"flex items-center gap-2 text-purple-300 bg-purple-500/20 px-3 py-2 rounded-lg mb-3 backdrop-blur-sm border border-purple-400/30"},_e={class:"text-sm font-medium"},ke={key:2,class:"mb-4"},Se={class:"flex items-center justify-between"},Ve={class:"text-2xl font-bold text-green-300"},Re={key:3,class:"mb-4 p-3 bg-yellow-500/20 border border-yellow-400/30 rounded-lg backdrop-blur-sm"},Ce={class:"text-sm text-yellow-200"},$e={class:"flex gap-2"},Le={key:2,class:"flex justify-center"},Me={class:"flex space-x-2"},ze={__name:"SavedVehicles",props:{savedVehicles:Object,wishlists:Array,currentList:String,stats:Object},setup(o){const m=o,w=r=>{var t,s;return((s=(t=m.stats)==null?void 0:t.list_counts)==null?void 0:s[r])||0},k=r=>{f.get(route("vehicles.saved"),{list:r})},v=r=>new Date(r).toLocaleDateString("en-US",{month:"short",day:"numeric"}),h=async r=>{var t,s;if(confirm(`Remove ${(t=r.vehicle.make)==null?void 0:t.name} ${(s=r.vehicle.model)==null?void 0:s.name} from ${r.list_name}?`))try{(await fetch("/api/vehicles/save",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({vehicle_id:r.vehicle.id,list_name:r.list_name})})).ok&&f.reload()}catch(c){console.error("Error removing save:",c)}},j=async r=>{if(r!=="My Saved Vehicles"&&confirm(`Delete the "${r}" list? All vehicles in this list will be moved to "My Saved Vehicles".`))try{(await fetch("/api/vehicles/save/delete-list",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({list_name:r})})).ok&&(currentList===r?f.get(route("vehicles.saved")):f.reload())}catch(t){console.error("Error deleting list:",t)}};return(r,t)=>(i(),b(E,null,{default:u(()=>[e("div",J,[e("div",K,[e("div",Q,[e("div",W,[e("div",X,[t[3]||(t[3]=e("div",null,[e("h1",{class:"text-3xl font-bold text-white"},"My Saved Vehicles"),e("p",{class:"text-white/80 mt-1"}," Vehicles you've saved for future booking ")],-1)),e("div",P,[e("div",U,[e("div",G,n(o.stats.total_saves),1),t[0]||(t[0]=e("div",{class:"text-xs text-white/60"},"Total Saved",-1))]),e("div",I,[e("div",Y,n(o.stats.total_lists),1),t[1]||(t[1]=e("div",{class:"text-xs text-white/60"},"Wishlists",-1))]),e("div",Z,[e("div",ee,n(o.stats.recent_saves),1),t[2]||(t[2]=e("div",{class:"text-xs text-white/60"},"This Week",-1))])])])]),e("div",te,[e("div",se,[e("nav",oe,[(i(!0),l(y,null,_(o.wishlists,s=>(i(),l("div",{key:s,class:"flex items-center"},[e("button",{onClick:c=>k(s),class:M(["py-2 px-1 border-b-2 font-medium text-sm transition-colors",o.currentList===s?"border-primary-400 text-primary-300":"border-transparent text-white/60 hover:text-white hover:border-white/30"])},[d(n(s)+" ",1),e("span",le,n(w(s)),1)],10,ie),s!=="My Saved Vehicles"?(i(),l("button",{key:0,onClick:c=>j(s),class:"ml-1 text-red-400 hover:text-red-300 p-1 rounded transition-colors",title:"Delete this list"},t[4]||(t[4]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,re)):a("",!0)]))),128))])])]),o.savedVehicles.data.length===0?(i(),l("div",ne,[t[6]||(t[6]=e("div",{class:"mx-auto w-32 h-32 bg-white/10 rounded-full flex items-center justify-center mb-6 backdrop-blur-sm border border-white/20"},[e("svg",{class:"w-16 h-16 text-white/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])],-1)),e("h3",ae,"No saved vehicles in "+n(o.currentList),1),t[7]||(t[7]=e("p",{class:"text-white/80 mb-6 max-w-md mx-auto"}," Start building your wishlist by saving vehicles you're interested in. ",-1)),p(x(g),{href:r.route("public.vehicles.index"),class:"btn-primary inline-flex items-center gap-2"},{default:u(()=>t[5]||(t[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),d(" Browse Vehicles ")])),_:1,__:[5]},8,["href"])])):(i(),l("div",de,[(i(!0),l(y,null,_(o.savedVehicles.data,s=>{var c,S,V,R,C,$;return i(),l("div",{key:`${s.vehicle.id}-${s.list_name}`,class:"glass-card rounded-xl shadow-glow overflow-hidden hover:shadow-2xl transition-all duration-300 group border border-white/20"},[e("div",ce,[s.vehicle.main_photo_url?(i(),l("img",{key:0,src:s.vehicle.main_photo_url,alt:`${(c=s.vehicle.make)==null?void 0:c.name} ${(S=s.vehicle.model)==null?void 0:S.name}`,class:"w-full h-full object-cover"},null,8,he)):(i(),l("div",ue,t[8]||(t[8]=[e("svg",{class:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2z"})],-1)]))),e("div",xe," Saved "+n(v(s.saved_at)),1),e("button",{onClick:L=>h(s),class:"absolute top-3 right-3 bg-red-500 bg-opacity-90 text-white p-2 rounded-full hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100",title:"Remove from list"},t[9]||(t[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,me)]),e("div",ve,[e("div",ge,[e("h3",fe,[d(n((V=s.vehicle.make)==null?void 0:V.name)+" "+n((R=s.vehicle.model)==null?void 0:R.name)+" ",1),e("span",pe,"("+n(s.vehicle.year)+")",1)]),e("p",we,n((C=s.vehicle.type)==null?void 0:C.sub_type),1)]),s.vehicle.ratings_avg_rating>0?(i(),l("div",be,[p(q,{rating:s.vehicle.ratings_avg_rating,count:s.vehicle.ratings_count,size:"sm"},null,8,["rating","count"])])):a("",!0),s.vehicle.owner?(i(),l("div",ye,[t[10]||(t[10]=e("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),e("span",_e,"Owner: "+n(s.vehicle.owner.name),1)])):a("",!0),($=s.vehicle.pricing_tiers)!=null&&$.length?(i(),l("div",ke,[e("div",Se,[e("span",Ve," ₱"+n(Math.min(...s.vehicle.pricing_tiers.map(L=>parseFloat(L.price)))),1),t[11]||(t[11]=e("span",{class:"text-sm text-white/60"},"/day",-1))])])):a("",!0),s.notes?(i(),l("div",Re,[e("p",Ce,[t[12]||(t[12]=e("span",{class:"font-medium"},"My notes:",-1)),d(" "+n(s.notes),1)])])):a("",!0),e("div",$e,[p(x(g),{href:r.route("public.vehicles.show",s.vehicle.id),class:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors text-center"},{default:u(()=>t[13]||(t[13]=[d(" View Details ")])),_:2,__:[13]},1032,["href"])])])])}),128))])),o.savedVehicles.last_page>1?(i(),l("div",Le,[e("nav",Me,[o.savedVehicles.prev_page_url?(i(),b(x(g),{key:0,href:o.savedVehicles.prev_page_url,class:"px-4 py-2 glass-card text-white rounded hover:bg-white/20 transition-colors border border-white/20"},{default:u(()=>t[14]||(t[14]=[d(" Previous ")])),_:1,__:[14]},8,["href"])):a("",!0),o.savedVehicles.next_page_url?(i(),b(x(g),{key:1,href:o.savedVehicles.next_page_url,class:"px-4 py-2 glass-card text-white rounded hover:bg-white/20 transition-colors border border-white/20"},{default:u(()=>t[15]||(t[15]=[d(" Next ")])),_:1,__:[15]},8,["href"])):a("",!0)])])):a("",!0)])])])]),_:1}))}};export{ze as default};
