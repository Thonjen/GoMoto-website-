import{f as n,o as l,b as t,n as D,l as O,g as p,k as z,F as x,h as g,t as i,v as T,i as c,e as U,r as P,c as q,d as S,w as L,u as N,a as I,N as J}from"./app-BJQR1LEl.js";import{v as R,n as E,u as H,y as Q,i as K}from"./vue-leaflet.es-CYsibWVk.js";import"./leaflet-icon-fix-D4axgPmU.js";import{S as W}from"./SaveButton-Bmptf-KY.js";const X={class:"glass-card p-6 space-y-6 backdrop-blur-md bg-black/25 rounded-2xl shadow-glow"},Y={class:"bg-black/20 p-4 rounded-xl backdrop-blur-sm border border-white/10"},Z={class:"flex flex-wrap gap-2"},tt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},et=["value"],st=["disabled"],ot={value:""},it=["value"],lt={class:"grid grid-cols-2 gap-4"},nt=["value"],rt=["value"],at={class:"bg-black/20 p-3 rounded-xl border border-white/10 backdrop-blur-sm"},dt={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},ut=["min"],bt=["min"],mt={class:"flex gap-2 pt-2"},ct=["disabled"],pt={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},ve={__name:"FilterSection",props:{filters:Object,filterOptions:Object,availableModels:Array,loadingModels:Boolean,isFiltering:Boolean},emits:["quickFilter","applyFilters","makeChange","resetFilters"],setup(r,{emit:f}){const u=f;return(w,s)=>(l(),n("div",X,[t("div",Y,[s[13]||(s[13]=t("h3",{class:"text-sm font-bold text-white mb-3"},"Quick Filters",-1)),t("div",Z,[t("button",{type:"button",onClick:s[0]||(s[0]=e=>u("quickFilter","category","car")),class:D(["px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200",r.filters.category==="car"?"bg-white/20 text-white border-white/30":"bg-black/10 text-white/70 border-white/20 hover:bg-white/10 hover:text-white"])}," ðŸš— Cars ",2),t("button",{type:"button",onClick:s[1]||(s[1]=e=>u("quickFilter","category","motorcycle")),class:D(["px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200",r.filters.category==="motorcycle"?"bg-white/20 text-white border-white/30":"bg-black/10 text-white/70 border-white/20 hover:bg-white/10 hover:text-white"])}," ðŸï¸ Motorcycles ",2),t("button",{type:"button",onClick:s[2]||(s[2]=e=>u("quickFilter","sort_by","price_low")),class:D(["px-3 py-1 rounded-full text-xs font-medium transition-all duration-200",r.filters.sort_by==="price_low"?"bg-white/20 text-white border-white/30":"bg-black/10 text-white/70 border-white/20 hover:bg-white/10 hover:text-white"])}," ðŸ’° Low Price ",2),t("button",{type:"button",onClick:s[3]||(s[3]=e=>u("quickFilter","sort_by","popular")),class:D(["px-3 py-1 rounded-full text-xs font-medium transition-all duration-200",r.filters.sort_by==="popular"?"bg-white/20 text-white border-white/30":"bg-black/10 text-white/70 border-white/20 hover:bg-white/10 hover:text-white"])}," ðŸ”¥ Popular ",2)])]),t("div",null,[t("form",{onSubmit:s[12]||(s[12]=O(e=>u("applyFilters"),["prevent"])),class:"space-y-4"},[t("div",tt,[t("div",null,[s[15]||(s[15]=t("label",{class:"block text-xs font-semibold text-white mb-1"},"Make",-1)),p(t("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>r.filters.make_id=e),onChange:s[5]||(s[5]=e=>u("makeChange")),class:"w-full p-2 rounded-lg bg-black/20 text-white border border-white/20 focus:ring-1 focus:ring-white focus:border-white text-xs"},[s[14]||(s[14]=t("option",{value:""},"All",-1)),(l(!0),n(x,null,g(r.filterOptions.makes,e=>(l(),n("option",{class:"bg-gray-800 text-white",key:e.id,value:e.id},i(e.name),9,et))),128))],544),[[z,r.filters.make_id]])]),t("div",null,[s[16]||(s[16]=t("label",{class:"block text-xs font-semibold text-white mb-1"},"Model",-1)),p(t("select",{"onUpdate:modelValue":s[6]||(s[6]=e=>r.filters.model_id=e),disabled:!r.filters.make_id||r.loadingModels,class:"w-full p-2 rounded-lg bg-black/20 text-white border border-white/20 focus:ring-1 focus:ring-white focus:border-white text-xs disabled:opacity-50"},[t("option",ot,i(r.loadingModels?"Loading...":r.filters.make_id?"All":"Select Make"),1),(l(!0),n(x,null,g(r.availableModels,e=>(l(),n("option",{class:"bg-gray-800 text-white",key:e.id,value:e.id},i(e.name),9,it))),128))],8,st),[[z,r.filters.model_id]])])]),t("div",lt,[t("div",null,[s[18]||(s[18]=t("label",{class:"block text-xs font-semibold text-white mb-1"},"Fuel",-1)),p(t("select",{"onUpdate:modelValue":s[7]||(s[7]=e=>r.filters.fuel_type_id=e),class:"w-full p-2 rounded-lg bg-black/20 text-white border border-white/20 focus:ring-1 focus:ring-white focus:border-white text-xs"},[s[17]||(s[17]=t("option",{value:""},"All",-1)),(l(!0),n(x,null,g(r.filterOptions.fuelTypes,e=>(l(),n("option",{class:"bg-gray-800 text-white",key:e.id,value:e.id},i(e.name),9,nt))),128))],512),[[z,r.filters.fuel_type_id]])]),t("div",null,[s[20]||(s[20]=t("label",{class:"block text-xs font-semibold text-white mb-1"},"Trans.",-1)),p(t("select",{"onUpdate:modelValue":s[8]||(s[8]=e=>r.filters.transmission_id=e),class:"w-full p-2 rounded-lg bg-black/20 text-white border border-white/20 focus:ring-1 focus:ring-white focus:border-white text-xs"},[s[19]||(s[19]=t("option",{value:""},"All",-1)),(l(!0),n(x,null,g(r.filterOptions.transmissions,e=>(l(),n("option",{class:"bg-gray-800 text-white",key:e.id,value:e.id},i(e.name),9,rt))),128))],512),[[z,r.filters.transmission_id]])])]),t("div",at,[s[23]||(s[23]=t("h4",{class:"text-xs font-bold text-white mb-2"},"ðŸ“… Availability",-1)),t("div",dt,[t("div",null,[s[21]||(s[21]=t("label",{class:"block text-xs font-semibold text-white mb-1"},"From",-1)),p(t("input",{"onUpdate:modelValue":s[9]||(s[9]=e=>r.filters.available_from=e),type:"datetime-local",min:new Date().toISOString().slice(0,16),class:"w-full p-2 rounded-lg bg-black/20 text-white border border-white/20 focus:ring-1 focus:ring-white focus:border-white text-xs"},null,8,ut),[[T,r.filters.available_from]])]),t("div",null,[s[22]||(s[22]=t("label",{class:"block text-xs font-semibold text-white mb-1"},"To",-1)),p(t("input",{"onUpdate:modelValue":s[10]||(s[10]=e=>r.filters.available_to=e),type:"datetime-local",min:r.filters.available_from||new Date().toISOString().slice(0,16),class:"w-full p-2 rounded-lg bg-black/20 text-white border border-white/20 focus:ring-1 focus:ring-white focus:border-white text-xs"},null,8,bt),[[T,r.filters.available_to]])])])]),t("div",mt,[t("button",{type:"submit",disabled:r.isFiltering,class:"flex-1 bg-gray-700/90 text-white px-4 py-2 rounded-xl font-semibold hover:bg-gray-700/70 disabled:bg-gray-600 transition-colors text-xs flex items-center justify-center gap-2"},[r.isFiltering?(l(),n("svg",pt,s[24]||(s[24]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.37 0 0 5.37 0 12h4z"},null,-1)]))):c("",!0),U(" "+i(r.isFiltering?"Searching...":"Search"),1)],8,ct),t("button",{type:"button",onClick:s[11]||(s[11]=e=>u("resetFilters")),class:"px-4 py-2 border border-white/30 text-white rounded-xl font-medium hover:bg-white/10 transition-colors text-xs"}," Clear ")])],32)])]))}},xt={class:"mb-8"},gt={class:"glass-card shadow-glow border border-white/20 overflow-hidden"},wt={class:"h-96 relative"},ft={class:"w-64 p-2 bg-black/80 backdrop-blur-sm rounded-lg text-white border border-white/20"},ht={class:"flex items-start gap-3"},yt=["src","alt"],kt={key:1,class:"w-16 h-12 bg-white/10 rounded flex items-center justify-center"},_t={class:"flex-1"},vt={class:"font-semibold text-white"},$t={key:0,class:"text-white/70 font-normal"},Ft={class:"text-sm text-white/70"},Ct={key:0,class:"text-xs text-primary-300 font-medium"},Mt={class:"flex items-center gap-2 mt-1 text-xs text-white/60"},Vt={key:1,class:"mt-2"},Nt={class:"text-green-400 font-semibold text-sm"},St=["onClick"],$e={__name:"VehicleMap",props:{vehicles:{type:Array,default:()=>[]}},emits:["viewDetail"],setup(r,{emit:f}){const u=r,w=P(null),s=f,e=q(()=>!u.vehicles||!Array.isArray(u.vehicles)?[]:u.vehicles.filter(b=>b&&b.lat&&b.lng&&!isNaN(parseFloat(b.lat))&&!isNaN(parseFloat(b.lng)))),o=q(()=>e.value),j=[9.786048643234757,125.49062330098809],A={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:[[[125.48262478637525,9.756059051678463],[125.43127642703769,9.790933650321918],[125.43368935603019,9.824558654805614],[125.44164551553729,9.826558849930976],[125.50466480111874,9.787610886673647],[125.50694880274585,9.76500759737057],[125.48263246790816,9.756027787360921],[125.48262478637525,9.756059051678463]]],type:"Polygon"}}]},B=()=>({color:"#1976d2",weight:2,fill:!1});return(b,m)=>(l(),n("div",xt,[t("div",gt,[m[2]||(m[2]=t("div",{class:"p-4 border-b border-white/20"},[t("h3",{class:"text-lg font-semibold text-white"},"Vehicle Locations in Surigao del Norte"),t("p",{class:"text-sm text-white/70"},"Click on markers to view vehicle details")],-1)),t("div",wt,[S(N(K),{ref_key:"mapRef",ref:w,style:{height:"100%"},zoom:16,center:j,useGlobalLeaflet:!0},{default:L(()=>[S(N(R),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),S(N(E),{geojson:A,"options-style":B}),(l(!0),n(x,null,g(o.value,a=>(l(),I(N(H),{key:`marker-${a.id}`,"lat-lng":[parseFloat(a.lat),parseFloat(a.lng)]},{default:L(()=>[S(N(Q),null,{default:L(()=>{var h,y,k,_,v,$,F,C,M;return[t("div",ft,[t("div",ht,[a.main_photo_url?(l(),n("img",{key:0,src:a.main_photo_url,alt:`${(h=a.make)==null?void 0:h.name} ${(y=a.model)==null?void 0:y.name}`,class:"w-16 h-12 object-cover rounded"},null,8,yt)):(l(),n("div",kt,m[0]||(m[0]=[t("span",{class:"text-white/50 text-xs"},"No image",-1)]))),t("div",_t,[t("h4",vt,[U(i((k=a.make)==null?void 0:k.name)+" "+i((_=a.model)==null?void 0:_.name)+" ",1),a.year?(l(),n("span",$t,"("+i(a.year)+")",1)):c("",!0)]),t("p",Ft,i((v=a.type)==null?void 0:v.sub_type),1),a.owner?(l(),n("p",Ct," Owner: "+i(a.owner.name||(a.owner.first_name+" "+a.owner.last_name).trim()||"Unknown Name"),1)):c("",!0),t("div",Mt,[t("span",null,i((($=a.fuelType)==null?void 0:$.name)||((F=a.fuel_type)==null?void 0:F.name)||"N/A"),1),m[1]||(m[1]=t("span",null,"â€¢",-1)),t("span",null,i(((C=a.transmission)==null?void 0:C.name)||"Manual"),1)]),(M=a.pricing_tiers)!=null&&M.length?(l(),n("div",Vt,[t("span",Nt," From â‚±"+i(Math.min(...a.pricing_tiers.map(V=>parseFloat(V.price)))),1)])):c("",!0),t("button",{onClick:V=>s("viewDetail",a.id),class:"mt-2 btn-primary text-xs px-3 py-1 font-medium"}," View Details ",8,St)])])])]}),_:2},1024)]),_:2},1032,["lat-lng"]))),128))]),_:1},512)])])]))}},jt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},At=["onClick"],Bt={class:"relative h-48 bg-white/5 rounded-t-lg overflow-hidden"},Dt=["src","alt"],zt={key:1,class:"flex items-center justify-center h-full text-white/40"},Ot={key:2,class:"absolute inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center"},Ut={class:"text-white font-semibold text-center text-sm"},Lt={key:3,class:"absolute top-3 right-3 bg-gradient-to-r from-green-500/90 to-green-600/90 text-white px-3 py-1.5 rounded-full text-sm font-semibold shadow-lg backdrop-blur-sm"},Tt={class:"absolute top-3 left-3 bg-white/20 backdrop-blur-sm px-2 py-1 rounded-full text-xs font-medium text-white flex items-center gap-1 shadow-sm border border-white/30"},qt={class:"absolute bottom-3 right-3"},Pt={class:"flex flex-col flex-1 p-5 space-y-3"},Gt={class:"text-lg font-semibold text-white leading-tight group-hover:text-primary-300 transition-colors"},It={key:0,class:"text-white/60 font-normal"},Jt={class:"text-sm text-white/70"},Rt={class:"space-y-2 text-sm text-white/80"},Et={class:"flex items-center gap-2"},Ht={class:"truncate"},Qt={key:0,class:"flex items-center gap-2"},Kt={class:"flex items-center space-x-1"},Wt={class:"font-medium text-sm text-white"},Xt={class:"text-white/50 text-xs"},Yt={key:1,class:"flex items-center gap-2 text-white/50 text-xs"},Zt={class:"flex items-start gap-2 text-primary-300"},te={class:"leading-snug break-words"},ee={class:"grid grid-cols-2 gap-3"},se={class:"flex items-center gap-2"},oe={class:"truncate"},ie={class:"flex items-center gap-2"},le={class:"truncate"},ne={key:0,class:"text-sm text-white/60 line-clamp-3"},re={key:0},ae={class:"flex items-baseline justify-between"},de={class:"text-xl font-bold text-green-400"},ue={class:"text-sm text-white/60"},be={class:"relative"},me={class:"text-xs text-white/50"},ce={class:"absolute bottom-full left-0 mb-2 w-64 bg-black/90 backdrop-blur-sm text-white text-xs rounded-lg p-3 transition-opacity duration-200 z-10 shadow-lg border border-white/20"},pe={class:"space-y-1"},xe={class:"font-semibold text-green-300"},ge={key:1,class:"text-sm text-white/50"},we=["onClick"],fe={key:1,disabled:"",class:"w-full bg-white/10 text-white/50 py-2.5 rounded-lg font-medium cursor-not-allowed backdrop-blur-sm border border-white/20"},Fe={__name:"VehicleGrid",props:{vehicles:Array},emits:["viewDetail"],setup(r,{emit:f}){const u=f,w=P(!1);return(s,e)=>(l(),n("div",jt,[(l(!0),n(x,null,g(r.vehicles,o=>{var j,A,B,b,m,a,h,y,k,_,v,$,F,C,M,V;return l(),n("div",{key:o.id,class:"glass-card p-0 shadow-glow border border-white/20 flex flex-col hover:shadow-2xl hover:scale-105 transition-all duration-300 cursor-pointer group overflow-hidden",onClick:d=>u("viewDetail",o.id)},[t("div",Bt,[o.main_photo_url?(l(),n("img",{key:0,src:o.main_photo_url,alt:`${(j=o.make)==null?void 0:j.name} ${(A=o.model)==null?void 0:A.name}`,class:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"},null,8,Dt)):(l(),n("div",zt,e[4]||(e[4]=[t("svg",{class:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2\r
                 l1.586-1.586a2 2 0 012.828 0L20 14\r
                 m-6-6h.01M6 20h12a2 2 0 002-2V6\r
                 a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2\r
                 2 0 002 2z`})],-1)]))),!o.is_available||o.is_booked?(l(),n("div",Ot,[t("p",Ut,i(o.is_available?"ðŸš« Booked":"âŒ Unavailable"),1)])):c("",!0),(B=o.pricing_tiers)!=null&&B.length&&o.is_available&&!o.is_booked?(l(),n("div",Lt," From â‚±"+i(Math.min(...o.pricing_tiers.map(d=>parseFloat(d.price)))),1)):c("",!0),t("div",Tt,[t("span",null,i(((b=o.type)==null?void 0:b.category)==="car"?"ðŸš—":"ðŸï¸"),1),t("span",null,i(((m=o.type)==null?void 0:m.sub_type)||"Vehicle"),1)]),t("div",qt,[S(W,{"vehicle-id":o.id,"initial-saved":((a=o.saves)==null?void 0:a.length)>0,"initial-save-count":o.saves_count||0,size:"sm","show-text":!1,"show-count":!1,onClick:e[0]||(e[0]=O(()=>{},["stop"]))},null,8,["vehicle-id","initial-saved","initial-save-count"])])]),t("div",Pt,[t("div",null,[t("h3",Gt,[U(i((h=o.make)==null?void 0:h.name)+" "+i((y=o.model)==null?void 0:y.name)+" ",1),o.year?(l(),n("span",It,"("+i(o.year)+")",1)):c("",!0)]),t("p",Jt,i((k=o.type)==null?void 0:k.sub_type),1)]),t("div",Rt,[t("div",Et,[e[5]||(e[5]=t("svg",{class:"w-4 h-4 text-primary-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M16 7a4 4 0 11-8 0 4 4 0 018\r
           0zM12 14a7 7 0 00-7 7h14a7 7\r
           0 00-7-7z`})],-1)),t("span",Ht,i(((_=o.owner)==null?void 0:_.name)||((v=o.owner)==null?void 0:v.first_name)+" "+(($=o.owner)==null?void 0:$.last_name)||"Unknown"),1)]),o.ratings_avg_rating>0?(l(),n("div",Qt,[t("div",Kt,[e[6]||(e[6]=t("span",{class:"text-yellow-400"},"â˜…",-1)),t("span",Wt,i(parseFloat(o.ratings_avg_rating).toFixed(1)),1),t("span",Xt,"("+i(o.ratings_count||0)+")",1)])])):(l(),n("div",Yt,e[7]||(e[7]=[t("span",null,"â­",-1),t("span",null,"No reviews yet",-1)]))),t("div",Zt,[e[8]||(e[8]=t("svg",{class:"w-4 h-4 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M17.657 16.657L13.414 20.9a2\r
           2 0 01-2.828 0l-4.243-4.243a8\r
           8 0 1111.314 0z`}),t("circle",{cx:"12",cy:"11",r:"3","stroke-width":"2"})],-1)),t("span",te,i(o.location_name||"Surigao del Norte"),1)]),t("div",ee,[t("div",se,[e[9]||(e[9]=t("span",null,"â›½",-1)),t("span",oe,i(((F=o.fuelType)==null?void 0:F.name)||((C=o.fuel_type)==null?void 0:C.name)||"N/A"),1)]),t("div",ie,[e[10]||(e[10]=t("span",null,"âš™ï¸",-1)),t("span",le,i(((M=o.transmission)==null?void 0:M.name)||"Manual"),1)])])]),o.description?(l(),n("p",ne,i(o.description),1)):c("",!0),e[13]||(e[13]=t("div",{class:"flex-1"},null,-1)),t("div",null,[(V=o.pricing_tiers)!=null&&V.length&&o.is_available&&!o.is_booked?(l(),n("div",re,[t("div",ae,[t("span",de," â‚±"+i(Math.min(...o.pricing_tiers.map(d=>parseFloat(d.price)))),1),t("span",ue," /"+i(o.pricing_tiers.find(d=>d.price==Math.min(...o.pricing_tiers.map(G=>parseFloat(G.price)))).duration_unit),1)]),t("div",be,[t("p",me,[t("span",{class:"cursor-help hover:text-white/70 transition-colors relative inline-block",onClick:e[1]||(e[1]=O(()=>{},["stop"])),onMouseenter:e[2]||(e[2]=d=>w.value=!0),onMouseleave:e[3]||(e[3]=d=>w.value=!1)},[U(i(o.pricing_tiers.length)+" option"+i(o.pricing_tiers.length>1?"s":"")+" ",1),p(t("div",ce,[e[11]||(e[11]=t("div",{class:"font-semibold mb-2"},"Available Pricing Options:",-1)),t("div",pe,[(l(!0),n(x,null,g(o.pricing_tiers,d=>(l(),n("div",{key:d.id,class:"flex justify-between items-center"},[t("span",null,i(d.duration_from||d.duration_value||d.duration||1)+" "+i(d.duration_unit||d.unit||"hour")+i((d.duration_from||d.duration_value||d.duration||1)>1?"s":""),1),t("span",xe,"â‚±"+i(parseFloat(d.price).toFixed(0)),1)]))),128))]),e[12]||(e[12]=t("div",{class:"absolute top-full left-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-black/90"},null,-1))],512),[[J,w.value]])],32)])])])):(l(),n("div",ge," Not Available "))]),t("div",null,[o.is_available&&!o.is_booked?(l(),n("button",{key:0,class:"btn-primary w-full py-2.5 font-medium transition-all duration-300",onClick:O(d=>u("viewDetail",o.id),["stop"])}," View Details & Book ",8,we)):(l(),n("button",fe,i(o.is_available?"Booked":"Unavailable"),1))])])],8,At)}),128))]))}};export{$e as _,Fe as a,ve as b};
