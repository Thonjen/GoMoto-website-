import{r as w,q as P,f as d,o as m,p as C,c as B,x as M,b as e,d as l,i as g,e as u,l as _,u as o,g as z,w as x,S as q,K as L,t as y,L as A}from"./app-D5PUyAMe.js";import{_ as c}from"./InputError-DKRydg5r.js";import{_ as b,a as h}from"./TextInput-BOJNd9hF.js";import{P as I}from"./PrimaryButton-DLRc7Z2v.js";const N=["value"],D={__name:"TextareaInput",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(f,{expose:p}){const r=w(null);return P(()=>{r.value.hasAttribute("autofocus")&&r.value.focus()}),p({focus:()=>r.value.focus()}),(i,s)=>(m(),d("textarea",{ref_key:"input",ref:r,class:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm",value:f.modelValue,onInput:s[0]||(s[0]=v=>i.$emit("update:modelValue",v.target.value))},null,40,N))}},E={class:"max-w-full"},F={class:"lg:col-span-2 space-y-8"},U={class:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100"},$={class:"flex flex-col items-center space-y-4"},T={class:"relative"},j=["src","alt"],R={class:"flex flex-col items-center space-y-3 w-full"},G={class:"cursor-pointer group"},H={class:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm"},J={class:"space-y-6"},K={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},Y={key:0,class:"bg-amber-50 border border-amber-200 rounded-xl p-4"},O={class:"flex items-start"},Q={class:"text-sm text-amber-700 mt-1"},W={class:"mt-2 text-sm font-medium text-green-700 bg-green-50 rounded-lg px-3 py-2"},X={class:"lg:col-span-3"},Z={class:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm h-full"},ee={class:"h-full flex flex-col"},te={class:"flex justify-between items-center mt-3 text-xs text-gray-500"},se={class:"lg:col-span-5 flex items-center justify-between pt-6 border-t border-gray-200"},oe={class:"flex items-center gap-4"},le={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},re={key:0,class:"flex items-center text-green-700 bg-green-50 px-4 py-2 rounded-xl border border-green-200"},ae={class:"text-xs text-gray-500"},me={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(f){const p=C(),r=B(()=>p.props.user||p.props.auth.user),i=w(null),s=M({first_name:r.value.first_name,last_name:r.value.last_name,email:r.value.email,bio:r.value.bio||"",profile_picture:null}),v=n=>{const t=n.target.files[0];if(t){s.profile_picture=t;const a=new FileReader;a.onload=S=>{i.value=S.target.result},a.readAsDataURL(t)}},V=()=>{s.profile_picture?s.post(route("profile.update.post"),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{i.value=null}}):s.patch(route("profile.update"),{preserveScroll:!0})},k=()=>{if(i.value){i.value=null,s.profile_picture=null;const n=document.querySelector('input[type="file"]');n&&(n.value="")}else r.value.profile_picture&&confirm("Are you sure you want to delete your profile picture?")&&s.delete(route("profile.picture.delete"),{preserveScroll:!0,onSuccess:()=>{i.value=null}})};return(n,t)=>(m(),d("section",E,[t[17]||(t[17]=e("div",{class:"mb-8"},[e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"}," Profile Information "),e("p",{class:"text-gray-600 leading-relaxed"}," Manage your personal information and customize your profile to help others get to know you better. ")],-1)),e("form",{onSubmit:_(V,["prevent"]),class:"max-w-full grid grid-cols-1 lg:grid-cols-5 gap-8"},[e("div",F,[e("div",U,[t[7]||(t[7]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Profile Picture",-1)),e("div",$,[e("div",T,[e("img",{src:i.value||r.value.profile_picture_url,alt:r.value.name,class:"h-24 w-24 rounded-full object-cover border-4 border-white shadow-lg ring-2 ring-blue-100"},null,8,j),t[4]||(t[4]=e("div",{class:"absolute -bottom-1 -right-1 bg-blue-500 rounded-full p-1.5 shadow-md"},[e("svg",{class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})])],-1))]),e("div",R,[e("label",G,[e("input",{type:"file",onChange:v,accept:"image/*",class:"sr-only"},null,32),t[5]||(t[5]=e("div",{class:"inline-flex items-center px-6 py-3 bg-white border-2 border-blue-200 rounded-xl font-medium text-sm text-blue-700 hover:bg-blue-50 hover:border-blue-300 transition-all duration-200 shadow-sm group-hover:shadow-md group-focus:ring-2 group-focus:ring-blue-500 group-focus:ring-offset-2"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})]),u(" Choose Photo ")],-1))]),r.value.profile_picture||i.value?(m(),d("button",{key:0,onClick:_(k,["prevent"]),type:"button",class:"text-sm text-red-600 hover:text-red-700 font-medium hover:underline transition-colors duration-200"}," Remove Photo ")):g("",!0)]),t[6]||(t[6]=e("p",{class:"text-center text-xs text-gray-500 leading-relaxed"},[u(" JPG, GIF or PNG. Max 2MB."),e("br"),u(" Recommended: Square image, at least 200x200px ")],-1)),l(c,{class:"mt-2 text-center",message:o(s).errors.profile_picture},null,8,["message"])])]),e("div",H,[t[12]||(t[12]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-6"},"Basic Information",-1)),e("div",J,[e("div",K,[e("div",null,[l(b,{for:"first_name",value:"First Name",class:"text-sm font-medium text-gray-700 mb-2"}),l(h,{id:"first_name",type:"text",class:"mt-1 block w-full rounded-xl border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors duration-200",modelValue:o(s).first_name,"onUpdate:modelValue":t[0]||(t[0]=a=>o(s).first_name=a),required:"",autofocus:"",autocomplete:"given-name"},null,8,["modelValue"]),l(c,{class:"mt-2",message:o(s).errors.first_name},null,8,["message"])]),e("div",null,[l(b,{for:"last_name",value:"Last Name",class:"text-sm font-medium text-gray-700 mb-2"}),l(h,{id:"last_name",type:"text",class:"mt-1 block w-full rounded-xl border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors duration-200",modelValue:o(s).last_name,"onUpdate:modelValue":t[1]||(t[1]=a=>o(s).last_name=a),required:"",autocomplete:"family-name"},null,8,["modelValue"]),l(c,{class:"mt-2",message:o(s).errors.last_name},null,8,["message"])])]),e("div",null,[l(b,{for:"email",value:"Email Address",class:"text-sm font-medium text-gray-700 mb-2"}),l(h,{id:"email",type:"email",class:"mt-1 block w-full rounded-xl border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors duration-200",modelValue:o(s).email,"onUpdate:modelValue":t[2]||(t[2]=a=>o(s).email=a),required:"",autocomplete:"username"},null,8,["modelValue"]),l(c,{class:"mt-2",message:o(s).errors.email},null,8,["message"])]),f.mustVerifyEmail&&r.value.email_verified_at===null?(m(),d("div",Y,[e("div",O,[t[11]||(t[11]=e("svg",{class:"w-5 h-5 text-amber-500 mt-0.5 mr-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm text-amber-800 font-medium"},"Email verification required",-1)),e("p",Q,[t[9]||(t[9]=u(" Please verify your email address to access all features. ")),l(o(q),{href:n.route("verification.send"),method:"post",as:"button",class:"font-medium underline hover:no-underline transition-all duration-200"},{default:x(()=>t[8]||(t[8]=[u(" Send verification email ")])),_:1,__:[8]},8,["href"])]),z(e("div",W," âœ“ Verification email sent successfully! ",512),[[L,f.status==="verification-link-sent"]])])])])):g("",!0)])])]),e("div",X,[e("div",Z,[t[14]||(t[14]=e("div",{class:"mb-6"},[e("h3",{class:"text-lg font-semibold text-gray-900 mb-2"},"About You"),e("p",{class:"text-sm text-gray-600"}," Share a bit about yourself. This helps others get to know you better. ")],-1)),e("div",ee,[l(b,{for:"bio",value:"Bio",class:"text-sm font-medium text-gray-700 mb-3"}),l(D,{id:"bio",modelValue:o(s).bio,"onUpdate:modelValue":t[3]||(t[3]=a=>o(s).bio=a),class:"flex-1 min-h-64 rounded-xl border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 transition-colors duration-200 resize-none",placeholder:"Tell others about yourself, your interests, profession, or anything you'd like to share..."},null,8,["modelValue"]),l(c,{class:"mt-2",message:o(s).errors.bio},null,8,["message"]),e("div",te,[t[13]||(t[13]=e("span",null,"Express yourself freely - this is your space to shine!",-1)),e("span",null,y(o(s).bio?o(s).bio.length:0)+"/1000",1)])])])]),e("div",se,[e("div",oe,[l(I,{disabled:o(s).processing,class:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500 px-8 py-3 rounded-xl font-semibold text-white shadow-sm hover:shadow-md transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed"},{default:x(()=>[o(s).processing?(m(),d("svg",le,t[15]||(t[15]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):g("",!0),u(" "+y(o(s).processing?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"]),l(A,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"opacity-0 transform scale-95","enter-to-class":"opacity-100 transform scale-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100 transform scale-100","leave-to-class":"opacity-0 transform scale-95"},{default:x(()=>[o(s).recentlySuccessful?(m(),d("div",re,t[16]||(t[16]=[e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),e("span",{class:"font-medium text-sm"},"Profile updated successfully!",-1)]))):g("",!0)]),_:1})]),e("p",ae," Last updated: "+y(new Date().toLocaleDateString()),1)])],32)]))}};export{me as default};
