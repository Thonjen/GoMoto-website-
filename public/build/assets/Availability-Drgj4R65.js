import{r as w,q as ne,c as F,a as ae,o as l,w as T,d as V,b as t,u as L,y as de,t as m,S as ie,e as M,f as o,F as p,h as f,n as H,i as b,l as $,g as r,k as j,v as c,z as x,Q as O}from"./app-D5PUyAMe.js";import{_ as ue}from"./AuthenticatedLayout-B-cZbXuZ.js";import{_ as R}from"./Modal-C1ahBwwR.js";import"./Footer-DI0umZVU.js";import"./Header-DdPT2WJT.js";import"./ResponsiveNavLink-BCB-x7oE.js";const me={class:"py-12"},be={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ce={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},ge={class:"p-6 border-b border-gray-200"},ve={class:"flex items-center justify-between"},ye={class:"text-gray-600 mt-1"},pe={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},fe={class:"lg:col-span-3"},xe={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ke={class:"p-6"},we={class:"flex items-center justify-between mb-6"},_e={class:"flex space-x-2"},he={class:"flex items-center px-4 py-2 bg-gray-50 rounded-md"},De={class:"font-medium"},Be={class:"grid grid-cols-7 gap-1 mb-4"},Se=["onClick"],Ce={key:0,class:"absolute top-1 left-1"},Te={key:1,class:"absolute top-1 right-1"},Ve={key:2,class:"absolute bottom-1 left-1"},Me={key:3,class:"absolute inset-0 border-2 border-blue-500 rounded pointer-events-none"},Ue={class:"space-y-6"},je={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},Oe={class:"p-6"},Fe={class:"space-y-3"},$e={key:0,class:"mt-4 p-3 bg-blue-50 rounded-md"},Re={class:"text-sm text-blue-700"},Ae={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},qe={class:"p-6"},Ee={key:0,class:"text-gray-500 text-sm"},Ne={key:1,class:"space-y-3 max-h-64 overflow-y-auto"},Le={class:"flex items-start justify-between"},He={class:"flex-1"},Ie={class:"flex items-center gap-2 mb-1"},Ye={class:"text-sm font-medium"},ze={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800"},Pe={key:1,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"},We={class:"text-xs text-gray-500 capitalize"},Qe={key:0,class:"text-xs text-blue-600 mt-1"},Ge={key:1,class:"text-xs text-purple-600 mt-1"},Je={key:0},Ke={key:1},Xe={key:2},Ze={key:2,class:"text-xs text-gray-700 mt-1"},et=["onClick"],tt={class:"p-6"},st={class:"space-y-4"},lt=["value"],ot={class:"flex items-center"},rt={key:0,class:"space-y-3"},nt=["value"],at={key:0,class:"space-y-2"},dt={class:"grid grid-cols-2 gap-2"},it=["value"],ut={class:"ml-2 text-sm"},mt={class:"border-t pt-4"},bt={class:"flex items-center mb-3"},ct={key:0,class:"space-y-3"},gt={class:"flex items-center"},vt={key:0,class:"grid grid-cols-2 gap-4"},yt={class:"p-3 bg-gray-50 rounded-md"},pt={class:"text-sm text-gray-600"},ft={class:"flex justify-end space-x-3 mt-6"},xt={class:"p-6"},kt={class:"space-y-4"},wt={class:"grid grid-cols-2 gap-4"},_t=["min"],ht=["min"],Dt=["value"],Bt={class:"border-t pt-4"},St={class:"flex items-center mb-3"},Ct={key:0,class:"space-y-3"},Tt={class:"flex items-center"},Vt={key:0,class:"grid grid-cols-2 gap-4"},Mt={class:"flex justify-end space-x-3 mt-6"},Ut={class:"p-6"},jt={class:"space-y-4"},Ot={class:"grid grid-cols-2 gap-4"},Ft=["min"],$t=["min"],Rt={class:"grid grid-cols-2 gap-2"},At=["value"],qt={class:"ml-2 text-sm"},Et=["value"],Nt={class:"border-t pt-4"},Lt={class:"flex items-center mb-3"},Ht={key:0,class:"space-y-3"},It={class:"flex items-center"},Yt={key:0,class:"grid grid-cols-2 gap-4"},zt={class:"flex justify-end space-x-3 mt-6"},Xt={__name:"Availability",props:{vehicle:Object,blocks:Array,bookings:Array,blockTypes:Object,recurringTypes:Object,daysOfWeek:Object},setup(g){const _=g,y=w(new Date),v=w([]),D=w(!1),B=w(!1),S=w(!1);ne(()=>{const i=new Date;y.value=new Date(i.getFullYear(),i.getMonth(),1)});const n=w({block_type:"",reason:"",notes:"",is_recurring:!1,recurring_type:"",recurring_days:[],recurring_end_date:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}),u=w({start_date:"",end_date:"",block_type:"",reason:"",notes:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}),d=w({start_date:"",end_date:"",recurring_days:[],block_type:"",reason:"",notes:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}),U=F(()=>new Date().toISOString().split("T")[0]),I=F(()=>y.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),Y=F(()=>{const i=y.value.getFullYear(),e=y.value.getMonth(),s=new Date(i,e,1),a=new Date(s);a.setDate(s.getDate()-s.getDay());const h=[],k=new Date(a),re=new Date().toISOString().split("T")[0],q=new Date;q.setHours(0,0,0,0);for(let E=0;E<42;E++){const C=k.toISOString().split("T")[0],N=new Date(k);N.setHours(0,0,0,0),h.push({date:C,day:k.getDate(),month:k.getMonth(),year:k.getFullYear(),isCurrentMonth:k.getMonth()===e,isToday:C===re,isPast:N<q,isSelected:v.value.includes(C),isBlocked:z(C),hasBookings:P(C)}),k.setDate(k.getDate()+1)}return h}),z=i=>_.blocks.some(e=>{if(e.blocked_date===i)return!0;if(e.is_recurring){const s=new Date(e.blocked_date),a=new Date(i);if(e.recurring_type==="weekly")return s.getDay()===a.getDay()&&a>=s}return!1}),P=i=>_.bookings.some(e=>new Date(e.pickup_datetime).toISOString().split("T")[0]===i),W=i=>{if(i.isPast||i.isBlocked||i.hasBookings)return;const e=i.date,s=v.value.indexOf(e);s>-1?v.value.splice(s,1):v.value.push(e)},Q=()=>{v.value=[]},G=()=>{y.value=new Date(y.value.getFullYear(),y.value.getMonth()-1,1)},J=()=>{y.value=new Date(y.value.getFullYear(),y.value.getMonth()+1,1)},K=()=>{v.value.length!==0&&O.post(route("owner.vehicles.availability.store",_.vehicle.id),{dates:v.value,...n.value},{onSuccess:()=>{D.value=!1,v.value=[],te()}})},X=()=>{O.post(route("owner.vehicles.availability.bulk",_.vehicle.id),u.value,{onSuccess:()=>{B.value=!1,se()}})},Z=()=>{if(d.value.recurring_days.length===0){alert("Please select at least one day of the week.");return}O.post(route("owner.vehicles.availability.recurring-days",_.vehicle.id),d.value,{onSuccess:()=>{S.value=!1,le()}})},ee=i=>{confirm("Are you sure you want to remove this availability block?")&&O.delete(route("owner.vehicles.availability.destroy",[_.vehicle.id,i.id]))},te=()=>{n.value={block_type:"",reason:"",notes:"",is_recurring:!1,recurring_type:"",recurring_days:[],recurring_end_date:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}},se=()=>{u.value={start_date:"",end_date:"",block_type:"",reason:"",notes:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}},le=()=>{d.value={start_date:"",end_date:"",recurring_days:[],block_type:"",reason:"",notes:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}},A=i=>new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),oe=i=>!i||!Array.isArray(i)?"":i.map(s=>{const a=_.daysOfWeek[s];return a?a.substring(0,3):""}).filter(Boolean).join(", ");return(i,e)=>(l(),ae(ue,null,{default:T(()=>[V(L(de),{title:`Availability Calendar - ${g.vehicle.make.name} ${g.vehicle.model.name}`},null,8,["title"]),t("div",me,[t("div",be,[t("div",ce,[t("div",ge,[t("div",ve,[t("div",null,[e[39]||(e[39]=t("h1",{class:"text-3xl font-bold text-gray-900"}," Availability Calendar ",-1)),t("p",ye," Manage availability for "+m(g.vehicle.make.name)+" "+m(g.vehicle.model.name),1)]),V(L(ie),{href:i.route("owner.vehicles.show",g.vehicle.id),class:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"},{default:T(()=>e[40]||(e[40]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),M(" Back to Vehicle ")])),_:1,__:[40]},8,["href"])])])]),t("div",pe,[t("div",fe,[t("div",xe,[t("div",ke,[t("div",we,[e[43]||(e[43]=t("h2",{class:"text-xl font-semibold text-gray-900"},"Calendar View",-1)),t("div",_e,[t("button",{onClick:G,class:"p-2 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors"},e[41]||(e[41]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),t("div",he,[t("span",De,m(I.value),1)]),t("button",{onClick:J,class:"p-2 bg-gray-100 rounded-md hover:bg-gray-200 transition-colors"},e[42]||(e[42]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])]),t("div",Be,[(l(),o(p,null,f(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=>t("div",{key:s,class:"p-2 text-center text-sm font-medium text-gray-500 border-b"},m(s),1)),64)),(l(!0),o(p,null,f(Y.value,s=>(l(),o("div",{key:`${s.date}-${s.month}`,class:H(["relative p-2 h-24 border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",{"text-gray-400":!s.isCurrentMonth,"bg-blue-100 border-blue-400 shadow-sm":s.isToday,"bg-red-100 border-red-300":s.isBlocked,"bg-yellow-100 border-yellow-300":s.hasBookings,"bg-gray-100":s.isPast}]),onClick:a=>W(s)},[t("div",{class:H(["text-sm font-medium",{"text-blue-700 font-bold":s.isToday}])},m(s.day),3),s.isToday?(l(),o("div",Ce,e[44]||(e[44]=[t("div",{class:"w-2 h-2 bg-blue-600 rounded-full"},null,-1)]))):b("",!0),s.isBlocked?(l(),o("div",Te,e[45]||(e[45]=[t("div",{class:"w-2 h-2 bg-red-500 rounded-full"},null,-1)]))):b("",!0),s.hasBookings?(l(),o("div",Ve,e[46]||(e[46]=[t("div",{class:"w-2 h-2 bg-yellow-500 rounded-full"},null,-1)]))):b("",!0),s.isSelected?(l(),o("div",Me)):b("",!0)],10,Se))),128))]),e[47]||(e[47]=t("div",{class:"flex flex-wrap gap-4 text-sm"},[t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 bg-red-100 border border-red-300 rounded mr-2"}),t("span",null,"Blocked")]),t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 bg-yellow-100 border border-yellow-300 rounded mr-2"}),t("span",null,"Booked")]),t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 bg-blue-100 border border-blue-400 rounded mr-2 relative"},[t("div",{class:"absolute top-0 left-0 w-1 h-1 bg-blue-600 rounded-full"})]),t("span",{class:"font-medium"},"Today")]),t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 bg-gray-100 border border-gray-200 rounded mr-2"}),t("span",null,"Past Date")]),t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 bg-purple-100 border border-purple-300 rounded mr-2"}),t("span",null,"Recurring Block")]),t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 bg-orange-100 border border-orange-300 rounded mr-2"}),t("span",null,"Time-based Block")])],-1))])])]),t("div",Ue,[t("div",je,[t("div",Oe,[e[52]||(e[52]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Quick Actions",-1)),t("div",Fe,[t("button",{onClick:e[0]||(e[0]=s=>D.value=!0),class:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors"},e[48]||(e[48]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1),M(" Block Selected Dates ")])),t("button",{onClick:e[1]||(e[1]=s=>B.value=!0),class:"w-full flex items-center justify-center px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors"},e[49]||(e[49]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),M(" Block Date Range ")])),t("button",{onClick:e[2]||(e[2]=s=>S.value=!0),class:"w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors"},e[50]||(e[50]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),M(" Recurring Days Block ")])),v.value.length>0?(l(),o("button",{key:0,onClick:Q,class:"w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"},e[51]||(e[51]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),M(" Clear Selection ")]))):b("",!0)]),v.value.length>0?(l(),o("div",$e,[t("p",Re,m(v.value.length)+" date(s) selected ",1)])):b("",!0)])]),t("div",Ae,[t("div",qe,[e[54]||(e[54]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Active Blocks",-1)),g.blocks.length===0?(l(),o("div",Ee," No availability blocks set. ")):(l(),o("div",Ne,[(l(!0),o(p,null,f(g.blocks,s=>(l(),o("div",{key:s.id,class:"p-3 border border-gray-200 rounded-md"},[t("div",Le,[t("div",He,[t("div",Ie,[t("p",Ye,m(A(s.blocked_date)),1),s.is_recurring?(l(),o("span",ze," Recurring ")):b("",!0),s.is_time_based?(l(),o("span",Pe," Time-based ")):b("",!0)]),t("p",We,m(s.block_type.replace("_"," ")),1),s.is_time_based&&!s.affects_whole_day&&s.start_time?(l(),o("div",Qe," 🕐 "+m(s.start_time)+" - "+m(s.end_time),1)):b("",!0),s.is_recurring?(l(),o("div",Ge,[s.recurring_type==="custom_days"&&s.recurring_days?(l(),o("span",Je," 📅 Every "+m(oe(s.recurring_days)),1)):s.recurring_type?(l(),o("span",Ke," 📅 "+m(g.recurringTypes[s.recurring_type]),1)):b("",!0),s.recurring_end_date?(l(),o("span",Xe," until "+m(A(s.recurring_end_date)),1)):b("",!0)])):b("",!0),s.reason?(l(),o("p",Ze,m(s.reason),1)):b("",!0)]),t("button",{onClick:a=>ee(s),class:"text-red-600 hover:text-red-800 transition-colors"},e[53]||(e[53]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,et)])]))),128))]))])])])])])]),V(R,{show:D.value,onClose:e[15]||(e[15]=s=>D.value=!1)},{default:T(()=>[t("div",tt,[e[69]||(e[69]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Block Selected Dates",-1)),t("form",{onSubmit:$(K,["prevent"])},[t("div",st,[t("div",null,[e[56]||(e[56]=t("label",{class:"block text-sm font-medium text-gray-700"},"Block Type",-1)),r(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>n.value.block_type=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},[e[55]||(e[55]=t("option",{value:""},"Select type...",-1)),(l(!0),o(p,null,f(g.blockTypes,(s,a)=>(l(),o("option",{key:a,value:a},m(s),9,lt))),128))],512),[[j,n.value.block_type]])]),t("div",null,[e[57]||(e[57]=t("label",{class:"block text-sm font-medium text-gray-700"},"Reason (Optional)",-1)),r(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>n.value.reason=s),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Brief reason for blocking..."},null,512),[[c,n.value.reason]])]),t("div",null,[e[58]||(e[58]=t("label",{class:"block text-sm font-medium text-gray-700"},"Notes (Optional)",-1)),r(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=s=>n.value.notes=s),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes..."},null,512),[[c,n.value.notes]])]),t("div",ot,[r(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>n.value.is_recurring=s),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[x,n.value.is_recurring]]),e[59]||(e[59]=t("label",{class:"ml-2 block text-sm text-gray-700"}," Make this a recurring block ",-1))]),n.value.is_recurring?(l(),o("div",rt,[t("div",null,[e[61]||(e[61]=t("label",{class:"block text-sm font-medium text-gray-700"},"Recurring Type",-1)),r(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>n.value.recurring_type=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"},[e[60]||(e[60]=t("option",{value:""},"Select frequency...",-1)),(l(!0),o(p,null,f(g.recurringTypes,(s,a)=>(l(),o("option",{key:a,value:a},m(s),9,nt))),128))],512),[[j,n.value.recurring_type]])]),n.value.recurring_type==="custom_days"?(l(),o("div",at,[e[62]||(e[62]=t("label",{class:"block text-sm font-medium text-gray-700"},"Select Days",-1)),t("div",dt,[(l(!0),o(p,null,f(g.daysOfWeek,(s,a)=>(l(),o("label",{key:a,class:"flex items-center"},[r(t("input",{"onUpdate:modelValue":e[8]||(e[8]=h=>n.value.recurring_days=h),value:parseInt(a),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,8,it),[[x,n.value.recurring_days]]),t("span",ut,m(s),1)]))),128))])])):b("",!0),t("div",null,[e[63]||(e[63]=t("label",{class:"block text-sm font-medium text-gray-700"},"End Date (Optional)",-1)),r(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>n.value.recurring_end_date=s),type:"date",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[c,n.value.recurring_end_date]])])])):b("",!0),t("div",mt,[t("div",bt,[r(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>n.value.is_time_based=s),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[x,n.value.is_time_based]]),e[64]||(e[64]=t("label",{class:"ml-2 block text-sm text-gray-700"}," Time-based restriction (block specific hours only) ",-1))]),n.value.is_time_based?(l(),o("div",ct,[t("div",gt,[r(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>n.value.affects_whole_day=s),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[x,n.value.affects_whole_day]]),e[65]||(e[65]=t("label",{class:"ml-2 block text-sm text-gray-700"}," Block entire day (ignores time settings) ",-1))]),n.value.affects_whole_day?b("",!0):(l(),o("div",vt,[t("div",null,[e[66]||(e[66]=t("label",{class:"block text-sm font-medium text-gray-700"},"Start Time",-1)),r(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>n.value.start_time=s),type:"time",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[c,n.value.start_time]])]),t("div",null,[e[67]||(e[67]=t("label",{class:"block text-sm font-medium text-gray-700"},"End Time",-1)),r(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>n.value.end_time=s),type:"time",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[c,n.value.end_time]])])]))])):b("",!0)]),t("div",yt,[t("p",pt," Selected dates: "+m(v.value.join(", ")),1)])]),t("div",ft,[t("button",{type:"button",onClick:e[14]||(e[14]=s=>D.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors"}," Cancel "),e[68]||(e[68]=t("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors"}," Block Dates ",-1))])],32)])]),_:1},8,["show"]),V(R,{show:B.value,onClose:e[26]||(e[26]=s=>B.value=!1)},{default:T(()=>[t("div",xt,[e[81]||(e[81]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Block Date Range",-1)),t("form",{onSubmit:$(X,["prevent"])},[t("div",kt,[t("div",wt,[t("div",null,[e[70]||(e[70]=t("label",{class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),r(t("input",{"onUpdate:modelValue":e[16]||(e[16]=s=>u.value.start_date=s),type:"date",min:U.value,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,8,_t),[[c,u.value.start_date]])]),t("div",null,[e[71]||(e[71]=t("label",{class:"block text-sm font-medium text-gray-700"},"End Date",-1)),r(t("input",{"onUpdate:modelValue":e[17]||(e[17]=s=>u.value.end_date=s),type:"date",min:u.value.start_date||U.value,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,8,ht),[[c,u.value.end_date]])])]),t("div",null,[e[73]||(e[73]=t("label",{class:"block text-sm font-medium text-gray-700"},"Block Type",-1)),r(t("select",{"onUpdate:modelValue":e[18]||(e[18]=s=>u.value.block_type=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},[e[72]||(e[72]=t("option",{value:""},"Select type...",-1)),(l(!0),o(p,null,f(g.blockTypes,(s,a)=>(l(),o("option",{key:a,value:a},m(s),9,Dt))),128))],512),[[j,u.value.block_type]])]),t("div",null,[e[74]||(e[74]=t("label",{class:"block text-sm font-medium text-gray-700"},"Reason (Optional)",-1)),r(t("input",{"onUpdate:modelValue":e[19]||(e[19]=s=>u.value.reason=s),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Brief reason for blocking..."},null,512),[[c,u.value.reason]])]),t("div",null,[e[75]||(e[75]=t("label",{class:"block text-sm font-medium text-gray-700"},"Notes (Optional)",-1)),r(t("textarea",{"onUpdate:modelValue":e[20]||(e[20]=s=>u.value.notes=s),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes..."},null,512),[[c,u.value.notes]])]),t("div",Bt,[t("div",St,[r(t("input",{"onUpdate:modelValue":e[21]||(e[21]=s=>u.value.is_time_based=s),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[x,u.value.is_time_based]]),e[76]||(e[76]=t("label",{class:"ml-2 block text-sm text-gray-700"}," Time-based restriction (block specific hours only) ",-1))]),u.value.is_time_based?(l(),o("div",Ct,[t("div",Tt,[r(t("input",{"onUpdate:modelValue":e[22]||(e[22]=s=>u.value.affects_whole_day=s),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[x,u.value.affects_whole_day]]),e[77]||(e[77]=t("label",{class:"ml-2 block text-sm text-gray-700"}," Block entire day (ignores time settings) ",-1))]),u.value.affects_whole_day?b("",!0):(l(),o("div",Vt,[t("div",null,[e[78]||(e[78]=t("label",{class:"block text-sm font-medium text-gray-700"},"Start Time",-1)),r(t("input",{"onUpdate:modelValue":e[23]||(e[23]=s=>u.value.start_time=s),type:"time",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[c,u.value.start_time]])]),t("div",null,[e[79]||(e[79]=t("label",{class:"block text-sm font-medium text-gray-700"},"End Time",-1)),r(t("input",{"onUpdate:modelValue":e[24]||(e[24]=s=>u.value.end_time=s),type:"time",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[c,u.value.end_time]])])]))])):b("",!0)])]),t("div",Mt,[t("button",{type:"button",onClick:e[25]||(e[25]=s=>B.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors"}," Cancel "),e[80]||(e[80]=t("button",{type:"submit",class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors"}," Block Date Range ",-1))])],32)])]),_:1},8,["show"]),V(R,{show:S.value,onClose:e[38]||(e[38]=s=>S.value=!1)},{default:T(()=>[t("div",Ut,[e[95]||(e[95]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Block Recurring Days",-1)),e[96]||(e[96]=t("p",{class:"text-sm text-gray-600 mb-4"}," Set up blocks that repeat on specific days of the week (e.g., every Tuesday and Friday for maintenance) ",-1)),t("form",{onSubmit:$(Z,["prevent"])},[t("div",jt,[t("div",Ot,[t("div",null,[e[82]||(e[82]=t("label",{class:"block text-sm font-medium text-gray-700"},"Start Date",-1)),r(t("input",{"onUpdate:modelValue":e[27]||(e[27]=s=>d.value.start_date=s),type:"date",min:U.value,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,8,Ft),[[c,d.value.start_date]])]),t("div",null,[e[83]||(e[83]=t("label",{class:"block text-sm font-medium text-gray-700"},"End Date (Optional)",-1)),r(t("input",{"onUpdate:modelValue":e[28]||(e[28]=s=>d.value.end_date=s),type:"date",min:d.value.start_date||U.value,class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,8,$t),[[c,d.value.end_date]])])]),t("div",null,[e[84]||(e[84]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Select Days to Block",-1)),t("div",Rt,[(l(!0),o(p,null,f(g.daysOfWeek,(s,a)=>(l(),o("label",{key:a,class:"flex items-center"},[r(t("input",{"onUpdate:modelValue":e[29]||(e[29]=h=>d.value.recurring_days=h),value:parseInt(a),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,8,At),[[x,d.value.recurring_days]]),t("span",qt,m(s),1)]))),128))]),e[85]||(e[85]=t("p",{class:"text-xs text-gray-500 mt-1"},' Example: Select "Tuesday" and "Friday" for maintenance every Tuesday and Friday ',-1))]),t("div",null,[e[87]||(e[87]=t("label",{class:"block text-sm font-medium text-gray-700"},"Block Type",-1)),r(t("select",{"onUpdate:modelValue":e[30]||(e[30]=s=>d.value.block_type=s),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},[e[86]||(e[86]=t("option",{value:""},"Select type...",-1)),(l(!0),o(p,null,f(g.blockTypes,(s,a)=>(l(),o("option",{key:a,value:a},m(s),9,Et))),128))],512),[[j,d.value.block_type]])]),t("div",null,[e[88]||(e[88]=t("label",{class:"block text-sm font-medium text-gray-700"},"Reason (Optional)",-1)),r(t("input",{"onUpdate:modelValue":e[31]||(e[31]=s=>d.value.reason=s),type:"text",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Brief reason for blocking..."},null,512),[[c,d.value.reason]])]),t("div",null,[e[89]||(e[89]=t("label",{class:"block text-sm font-medium text-gray-700"},"Notes (Optional)",-1)),r(t("textarea",{"onUpdate:modelValue":e[32]||(e[32]=s=>d.value.notes=s),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Additional notes..."},null,512),[[c,d.value.notes]])]),t("div",Nt,[t("div",Lt,[r(t("input",{"onUpdate:modelValue":e[33]||(e[33]=s=>d.value.is_time_based=s),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[x,d.value.is_time_based]]),e[90]||(e[90]=t("label",{class:"ml-2 block text-sm text-gray-700"}," Time-based restriction (block specific hours only) ",-1))]),d.value.is_time_based?(l(),o("div",Ht,[t("div",It,[r(t("input",{"onUpdate:modelValue":e[34]||(e[34]=s=>d.value.affects_whole_day=s),type:"checkbox",class:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[x,d.value.affects_whole_day]]),e[91]||(e[91]=t("label",{class:"ml-2 block text-sm text-gray-700"}," Block entire day (ignores time settings) ",-1))]),d.value.affects_whole_day?b("",!0):(l(),o("div",Yt,[t("div",null,[e[92]||(e[92]=t("label",{class:"block text-sm font-medium text-gray-700"},"Start Time",-1)),r(t("input",{"onUpdate:modelValue":e[35]||(e[35]=s=>d.value.start_time=s),type:"time",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[c,d.value.start_time]])]),t("div",null,[e[93]||(e[93]=t("label",{class:"block text-sm font-medium text-gray-700"},"End Time",-1)),r(t("input",{"onUpdate:modelValue":e[36]||(e[36]=s=>d.value.end_time=s),type:"time",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",required:""},null,512),[[c,d.value.end_time]])])]))])):b("",!0)])]),t("div",zt,[t("button",{type:"button",onClick:e[37]||(e[37]=s=>S.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors"}," Cancel "),e[94]||(e[94]=t("button",{type:"submit",class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors"}," Create Recurring Block ",-1))])],32)])]),_:1},8,["show"])]),_:1}))}};export{Xt as default};
