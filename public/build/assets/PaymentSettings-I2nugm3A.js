import{x as b,r as y,a as x,o,w as h,b as e,f as a,i,t as p,l as w,g,u as c,z as f,e as n,d as _}from"./app-D5PUyAMe.js";import{_ as C}from"./ResponsiveNavLink-BCB-x7oE.js";import{_ as k}from"./OwnerLayout-R8EC1rpz.js";import"./Footer-DI0umZVU.js";import"./Header-DdPT2WJT.js";const z={class:"md:col-span-3"},S={class:"bg-white p-6 rounded-lg shadow-md"},V={key:0,class:"mb-4 p-4 bg-red-100 border-l-4 border-red-500 text-red-700"},B={class:"flex items-start space-x-3"},M={class:"flex items-center h-5"},q={class:"flex items-start space-x-3"},R={class:"flex items-center h-5"},G=["disabled"],Q={class:"ml-3 text-sm"},$={key:0,class:"mt-2"},A={class:"text-amber-600 text-sm"},D={key:1,class:"mt-2"},N={key:2,class:"mt-2 text-red-600 text-sm"},j={key:0,class:"mt-4"},H={class:"max-w-xs"},P=["src"],U={class:"flex justify-end"},E=["disabled"],O={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},J={__name:"PaymentSettings",props:{user:Object},setup(t){const m=t,r=b({accepts_cod:m.user.accepts_cod,accepts_gcash:m.user.accepts_gcash}),l=y(!1),v=()=>{l.value=!0,r.post(route("owner.payment-settings.update"),{onSuccess:()=>{l.value=!1},onError:()=>{l.value=!1}})};return(d,s)=>(o(),x(k,null,{default:h(()=>[e("div",z,[e("div",S,[s[12]||(s[12]=e("h1",{class:"text-3xl font-bold text-gray-800 mb-6"},"Payment Settings",-1)),d.$page.props.errors.payment_methods?(o(),a("div",V,p(d.$page.props.errors.payment_methods),1)):i("",!0),e("form",{onSubmit:w(v,["prevent"]),class:"space-y-6"},[e("div",B,[e("div",M,[g(e("input",{id:"accepts_cod","onUpdate:modelValue":s[0]||(s[0]=u=>c(r).accepts_cod=u),type:"checkbox",class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2"},null,512),[[f,c(r).accepts_cod]])]),s[2]||(s[2]=e("div",{class:"ml-3 text-sm"},[e("label",{for:"accepts_cod",class:"font-medium text-gray-900"}," Accept Cash on Delivery (COD) "),e("p",{class:"text-gray-500"}," Allow renters to pay cash when they pick up the vehicle ")],-1))]),e("div",q,[e("div",R,[g(e("input",{id:"accepts_gcash","onUpdate:modelValue":s[1]||(s[1]=u=>c(r).accepts_gcash=u),type:"checkbox",disabled:!t.user.has_gcash_qr,class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2 disabled:opacity-50 disabled:cursor-not-allowed"},null,8,G),[[f,c(r).accepts_gcash]])]),e("div",Q,[s[7]||(s[7]=e("label",{for:"accepts_gcash",class:"font-medium text-gray-900"}," Accept GCash QR Payments ",-1)),s[8]||(s[8]=e("p",{class:"text-gray-500"}," Allow renters to pay via GCash using your QR code ",-1)),t.user.has_gcash_qr?t.user.gcash_qr_url?(o(),a("div",D,s[6]||(s[6]=[e("p",{class:"text-green-600 text-sm"},[e("svg",{class:"w-4 h-4 inline mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),n(" GCash QR code is uploaded and ready to use ")],-1)]))):i("",!0):(o(),a("div",$,[e("p",A,[s[4]||(s[4]=e("svg",{class:"w-4 h-4 inline mr-1",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),s[5]||(s[5]=n(" You need to upload a GCash QR code first. ")),_(C,{href:d.route("owner.gcash-qr.show"),class:"!text-blue-600 ml-1"},{default:h(()=>s[3]||(s[3]=[n(" Upload here ")])),_:1,__:[3]},8,["href"])])])),d.$page.props.errors.accepts_gcash?(o(),a("div",N,p(d.$page.props.errors.accepts_gcash),1)):i("",!0)])]),t.user.has_gcash_qr&&t.user.gcash_qr_url?(o(),a("div",j,[s[9]||(s[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Current GCash QR Code: ",-1)),e("div",H,[e("img",{src:t.user.gcash_qr_url,alt:"GCash QR Code",class:"w-full h-auto border rounded-lg shadow-sm"},null,8,P)])])):i("",!0),s[11]||(s[11]=e("div",{class:"bg-yellow-50 border-l-4 border-yellow-400 p-4"},[e("div",{class:"flex"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])]),e("div",{class:"ml-3"},[e("p",{class:"text-sm text-yellow-700"},[e("strong",null,"Important:"),n(" You must enable at least one payment method. Renters will only see the payment options you have enabled when booking your vehicles. ")])])])],-1)),e("div",U,[e("button",{type:"submit",disabled:l.value,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[l.value?(o(),a("svg",O,s[10]||(s[10]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):i("",!0),n(" "+p(l.value?"Saving...":"Save Settings"),1)],8,E)])],32)])])]),_:1}))}};export{J as default};
