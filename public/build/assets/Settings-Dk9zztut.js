import{z as w,f as d,o as a,d as x,u as s,A as _,w as h,b as e,i as p,t as l,l as y,g as u,B as k,v as c,S as O,e as S,F as g,h as F,n as V}from"./app-BJob6Gt2.js";import{O as C}from"./OwnerLayout-DCQ2ysSe.js";import"./Header-BZAdlNjp.js";import"./Footer-B-Y8_Xin.js";const U={class:"glass-card border border-white/20 rounded-lg shadow-glow"},B={class:"p-6 text-white"},R={class:"w-full px-0 space-y-6"},j={key:0,class:"glass-card-dark border border-white/20 rounded-lg p-6 backdrop-blur-sm"},z={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},A={class:"text-center p-3 bg-green-400/20 border border-green-400/30 rounded-lg backdrop-blur-sm"},D={class:"text-2xl font-bold text-green-400"},L={class:"text-center p-3 bg-yellow-400/20 border border-yellow-400/30 rounded-lg backdrop-blur-sm"},M={class:"text-2xl font-bold text-yellow-400"},P={class:"text-center p-3 bg-red-400/20 border border-red-400/30 rounded-lg backdrop-blur-sm"},T={class:"text-2xl font-bold text-red-400"},E={class:"text-center p-3 bg-blue-400/20 border border-blue-400/30 rounded-lg backdrop-blur-sm"},N={class:"text-2xl font-bold text-blue-400"},H={class:"glass-card-dark border border-white/20 rounded-lg p-6 backdrop-blur-sm"},G={class:"flex items-center justify-between pb-4 border-b border-white/20"},I={class:"relative inline-flex items-center cursor-pointer"},K={key:0,class:"space-y-8"},Y={class:"relative"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},J={class:"relative"},Q={class:"relative"},W={class:"bg-white/5 border border-white/20 rounded-lg p-4 backdrop-blur-sm"},X={class:"text-sm text-white/70 space-y-1"},Z={class:"flex items-center justify-end pt-6 border-t border-white/20"},$=["disabled"],ee={key:0},te={key:1},se={key:1,class:"bg-white rounded-lg shadow-sm border p-6"},re={class:"flex items-center justify-between mb-4"},oe={class:"space-y-3"},le={class:"text-sm font-medium text-gray-900"},ie={class:"text-xs text-gray-500"},de={class:"text-right"},ae={class:"text-sm font-medium text-gray-900"},me={__name:"Settings",props:{user:Object,vehicles:Array,stats:Object,recentOvercharges:Array},setup(i){const n=i,r=w({enable_overcharges:n.user.enable_overcharges||!1,late_return_rate:n.user.late_return_rate||100,out_of_city_base:n.user.out_of_city_base||500,out_of_city_rate:n.user.out_of_city_rate||25,grace_period_minutes:n.user.grace_period_minutes||30,overcharge_instructions:n.user.overcharge_instructions||""}),f=()=>{r.post(route("owner.overcharges.updateSettings"),{preserveScroll:!0,onSuccess:()=>{}})},m=b=>parseFloat(b||0).toFixed(2),v=b=>new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(b,t)=>(a(),d(g,null,[x(s(_),{title:"Overcharge Settings"}),x(C,null,{default:h(()=>[e("div",U,[e("div",B,[t[30]||(t[30]=e("div",{class:"mb-6"},[e("h1",{class:"text-3xl font-bold text-white"}," Overcharge "),e("p",{class:"text-white/70 mt-2"}," See and manage your overcharge settings ")],-1)),e("div",R,[t[29]||(t[29]=e("div",{class:"bg-blue-400/20 border border-blue-400/30 rounded-lg p-4 backdrop-blur-sm"},[e("div",{class:"flex items-center space-x-3"},[e("svg",{class:"w-5 h-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),e("div",null,[e("h3",{class:"text-sm font-medium text-blue-400"},"Overcharge Protection"),e("p",{class:"text-sm text-blue-200"},"Charge renters for late returns or out-of-city use to protect your vehicles")])])],-1)),i.stats?(a(),d("div",j,[t[10]||(t[10]=e("h3",{class:"text-lg font-medium text-white mb-4"},"Your Overcharge Summary",-1)),e("div",z,[e("div",A,[e("div",D,"₱"+l(m(i.stats.total_overcharges||0)),1),t[6]||(t[6]=e("div",{class:"text-xs text-white/60"},"Total Earned",-1))]),e("div",L,[e("div",M,"₱"+l(m(i.stats.unpaid_overcharges||0)),1),t[7]||(t[7]=e("div",{class:"text-xs text-white/60"},"Unpaid",-1))]),e("div",P,[e("div",T,l(i.stats.late_returns_count||0),1),t[8]||(t[8]=e("div",{class:"text-xs text-white/60"},"Late Returns",-1))]),e("div",E,[e("div",N,l(i.stats.out_of_city_count||0),1),t[9]||(t[9]=e("div",{class:"text-xs text-white/60"},"Out of City",-1))])])])):p("",!0),e("div",H,[e("form",{onSubmit:y(f,["prevent"]),class:"space-y-6"},[e("div",G,[t[12]||(t[12]=e("div",null,[e("h3",{class:"text-lg font-medium text-white"},"Enable Overcharges"),e("p",{class:"text-sm text-white/70"},"Turn on automatic overcharge calculations for all your vehicles")],-1)),e("label",I,[u(e("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=o=>s(r).enable_overcharges=o),class:"sr-only peer"},null,512),[[k,s(r).enable_overcharges]]),t[11]||(t[11]=e("div",{class:"w-11 h-6 bg-white/20 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-400/30 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-white/30 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-400"},null,-1))])]),s(r).enable_overcharges?(a(),d("div",K,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-white mb-2"}," Grace Period (minutes) ",-1)),t[14]||(t[14]=e("p",{class:"text-xs text-white/60 mb-3"}," How many minutes late before charging overcharges ",-1)),u(e("input",{type:"number",min:"0",max:"720","onUpdate:modelValue":t[1]||(t[1]=o=>s(r).grace_period_minutes=o),class:"block w-full bg-white/10 border-white/20 text-white placeholder-white/50 rounded-md shadow-sm focus:border-blue-400 focus:ring-blue-400/50 backdrop-blur-sm",placeholder:"30"},null,512),[[c,s(r).grace_period_minutes]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-white mb-2"}," Late Return Rate (₱ per hour) ",-1)),t[17]||(t[17]=e("p",{class:"text-xs text-white/60 mb-3"}," How much to charge for each hour the vehicle is returned late ",-1)),e("div",Y,[u(e("input",{type:"number",step:"0.01",min:"0","onUpdate:modelValue":t[2]||(t[2]=o=>s(r).late_return_rate=o),class:"block w-full pl-8 bg-white/10 border-white/20 text-white placeholder-white/50 rounded-md shadow-sm focus:border-blue-400 focus:ring-blue-400/50 backdrop-blur-sm",placeholder:"100.00"},null,512),[[c,s(r).late_return_rate]]),t[15]||(t[15]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("span",{class:"text-white/60"},"₱")],-1))])]),e("div",q,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-white mb-2"}," Out of City Base Fee (₱) ",-1)),t[20]||(t[20]=e("p",{class:"text-xs text-white/60 mb-3"}," Fixed fee for returning outside city limits ",-1)),e("div",J,[u(e("input",{type:"number",step:"0.01",min:"0","onUpdate:modelValue":t[3]||(t[3]=o=>s(r).out_of_city_base=o),class:"block w-full pl-8 bg-white/10 border-white/20 text-white placeholder-white/50 rounded-md shadow-sm focus:border-blue-400 focus:ring-blue-400/50 backdrop-blur-sm",placeholder:"500.00"},null,512),[[c,s(r).out_of_city_base]]),t[18]||(t[18]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("span",{class:"text-white/60"},"₱")],-1))])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-white mb-2"}," Per Kilometer Rate (₱) ",-1)),t[23]||(t[23]=e("p",{class:"text-xs text-white/60 mb-3"}," Additional charge per km from city center ",-1)),e("div",Q,[u(e("input",{type:"number",step:"0.01",min:"0","onUpdate:modelValue":t[4]||(t[4]=o=>s(r).out_of_city_rate=o),class:"block w-full pl-8 bg-white/10 border-white/20 text-white placeholder-white/50 rounded-md shadow-sm focus:border-blue-400 focus:ring-blue-400/50 backdrop-blur-sm",placeholder:"25.00"},null,512),[[c,s(r).out_of_city_rate]]),t[21]||(t[21]=e("div",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("span",{class:"text-white/60"},"₱")],-1))])])]),e("div",W,[t[24]||(t[24]=e("h4",{class:"text-sm font-medium text-white mb-2"},"Examples",-1)),e("div",X,[e("div",null,"• 2 hours late: ₱"+l((2*(parseFloat(s(r).late_return_rate)||0)).toFixed(2)),1),e("div",null,"• Returned 10km outside city: ₱"+l(((parseFloat(s(r).out_of_city_base)||0)+10*(parseFloat(s(r).out_of_city_rate)||0)).toFixed(2)),1)])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-white mb-2"}," Instructions for Renters (Optional) ",-1)),t[26]||(t[26]=e("p",{class:"text-xs text-white/60 mb-3"}," These instructions will be shown to renters when they book your vehicles ",-1)),u(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=o=>s(r).overcharge_instructions=o),rows:"3",class:"block w-full bg-white/10 border-white/20 text-white placeholder-white/50 rounded-md shadow-sm focus:border-blue-400 focus:ring-blue-400/50 backdrop-blur-sm",placeholder:"Please return the vehicle on time and within city limits to avoid additional charges."},null,512),[[c,s(r).overcharge_instructions]])])])):p("",!0),e("div",Z,[e("button",{type:"submit",disabled:s(r).processing,class:"bg-blue-400 hover:bg-blue-500 text-white font-medium py-2 px-4 rounded-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors backdrop-blur-sm"},[s(r).processing?(a(),d("span",ee,"Saving...")):(a(),d("span",te,"Save Settings"))],8,$)])],32)]),i.recentOvercharges&&i.recentOvercharges.length>0?(a(),d("div",se,[e("div",re,[t[28]||(t[28]=e("h3",{class:"text-lg font-medium text-gray-900"},"Recent Overcharges",-1)),x(s(O),{href:b.route("owner.overcharges.stats"),class:"text-blue-600 hover:text-blue-800 text-sm"},{default:h(()=>t[27]||(t[27]=[S(" View All → ")])),_:1,__:[27]},8,["href"])]),e("div",oe,[(a(!0),d(g,null,F(i.recentOvercharges,o=>(a(),d("div",{key:o.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",null,[e("div",le," Booking #"+l(o.booking_id),1),e("div",ie,l(o.details)+" • "+l(v(o.occurred_at)),1)]),e("div",de,[e("div",ae,"₱"+l(m(o.amount)),1),e("div",{class:V(["text-xs",o.is_paid?"text-green-600":"text-red-600"])},l(o.is_paid?"Paid":"Unpaid"),3)])]))),128))])])):p("",!0)])])])]),_:1})],64))}};export{me as default};
