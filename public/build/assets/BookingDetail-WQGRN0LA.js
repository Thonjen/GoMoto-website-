import{_ as D,p as S,r as b,c as E,a as w,o as u,w as x,b as e,f as p,i as v,d as c,u as a,S as f,e as l,t as s,n as P,g as T,k as j,Q as $}from"./app-BJob6Gt2.js";import{A as M}from"./AuthenticatedLayout-B2UZikVl.js";import{S as h}from"./sweetalert2.esm.all-ePrzfkxH.js";import{C as U}from"./cloud-upload-ZkROtW5r.js";import{C as V}from"./clock-DzT7qZ1O.js";import{S as I}from"./star-qcXit45U.js";import{c as R}from"./createLucideIcon-COn1UNCM.js";import"./Footer-B-Y8_Xin.js";import"./Header-BZAdlNjp.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=R("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),H={class:"min-h-screen py-8"},L={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},z={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},A={class:"md:col-span-1 glass-card p-6 h-fit shadow-glow"},N={class:"flex flex-col gap-3"},Y={class:"md:col-span-3 space-y-6"},O={class:"glass-card p-6 shadow-glow"},q={class:"text-3xl font-bold text-white mb-2"},J={class:"glass-card p-6 shadow-glow"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},F=["src","alt"],K={class:"text-xl font-semibold text-white"},X={class:"text-white/80"},G={class:"text-primary-300 font-bold mt-2 text-lg"},W={class:"glass-card p-6 shadow-glow"},Z={class:"bg-white/5 p-4 rounded-lg backdrop-blur-sm"},ee={class:"flex items-center gap-4 mb-4"},te=["src"],oe={class:"font-semibold text-white"},se={class:"text-sm text-white/80"},le={class:"text-white/90"},ne={class:"text-white/90"},ie={class:"glass-card p-6 shadow-glow"},ae={class:"bg-white/5 p-6 rounded-lg backdrop-blur-sm"},re={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-white/90"},de={class:"font-bold text-primary-300"},ue={class:"mt-4"},ce={class:"text-white/80 italic"},me={class:"glass-card p-6 shadow-glow mt-5"},ge={class:"flex flex-col sm:flex-row gap-4"},xe={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"},pe={class:"glass-card p-6 w-full max-w-md mx-4 shadow-glow"},ve={class:"flex justify-between items-center mb-4"},he={class:"space-y-4"},be={class:"text-sm text-white/80 mb-2"},fe={class:"text-white"},we={value:"1",class:"bg-dark text-white"},ke={value:"2",class:"bg-dark text-white"},ye={value:"4",class:"bg-dark text-white"},_e={value:"6",class:"bg-dark text-white"},Ce={value:"12",class:"bg-dark text-white"},Be={value:"24",class:"bg-dark text-white"},De={class:"bg-blue-500/20 border border-blue-500/30 rounded-lg p-3 backdrop-blur-sm"},Se={class:"text-sm text-blue-300"},Ee={class:"flex justify-end space-x-3 mt-6"},Pe=["disabled"],Te={key:0},je={key:1},$e={__name:"BookingDetail",setup(Me){const y=S().props.id||1,m=b(!1),n=b(2),g=b(!1),o=b({id:y,vehicle:{id:101,name:"Toyota Camry 2022",location:"Manila",pricePerDay:1800,imageUrl:"/placeholder.svg?height=192&width=256"},owner:{name:"Juan Dela Cruz",email:"juan.d@example.com",phone:"09171234567",memberSince:"January 2023",avatarUrl:"/placeholder.svg?height=64&width=64"},pickupDate:"2025-07-20",returnDate:"2025-07-25",totalDays:5,totalPrice:9e3,message:"Looking forward to renting your car for my trip next week!",status:"Confirmed",hasReviewed:!1,pricePerHour:75}),_=E(()=>{if(o.value.status!=="Confirmed")return!1;const d=new Date(o.value.returnDate),t=new Date;return(d.getTime()-t.getTime())/(1e3*60*60)<=24}),r=d=>(d*o.value.pricePerHour).toLocaleString(),C=()=>{h.fire({title:"Extend Booking?",text:`You are about to extend your booking by ${n.value} hours. Additional cost: ₱${r(n.value)}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3b82f6",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Extend It",cancelButtonText:"Cancel"}).then(d=>{d.isConfirmed&&(g.value=!0,$.post(`/bookings/${o.value.id}/extend`,{extend_hours:n.value},{onSuccess:t=>{m.value=!1,g.value=!1;const i=new Date(o.value.returnDate);i.setHours(i.getHours()+parseInt(n.value)),o.value.returnDate=i.toISOString().split("T")[0],o.value.totalPrice+=parseInt(n.value)*o.value.pricePerHour,h.fire({title:"Extended!",text:`Booking successfully extended by ${n.value} hours!`,icon:"success",confirmButtonColor:"#3b82f6"})},onError:t=>{g.value=!1,console.error(t),h.fire({title:"Error!",text:"Failed to extend booking. Please try again.",icon:"error",confirmButtonColor:"#3b82f6"})}}))})},B=()=>{h.fire({title:"Cancel Booking?",text:"Are you sure you want to cancel this booking? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Cancel It",cancelButtonText:"Keep Booking"}).then(d=>{d.isConfirmed&&(o.value.status="Cancelled",h.fire({title:"Cancelled!",text:"Booking cancelled! (Not actually updated in this demo)",icon:"success",confirmButtonColor:"#3b82f6"}))})};return(d,t)=>(u(),w(M,null,{default:x(()=>[e("div",H,[e("div",L,[e("div",z,[e("aside",A,[t[5]||(t[5]=e("h2",{class:"text-xl font-semibold text-white mb-4"},"Renter Tools",-1)),e("nav",N,[c(a(f),{href:"/my-bookings",class:"text-white/80 font-medium hover:text-white transition-colors p-3 rounded-lg hover:bg-white/10"},{default:x(()=>t[4]||(t[4]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),l(" My Bookings ")])),_:1,__:[4]})])]),e("div",Y,[e("div",O,[e("h1",q,"Booking Details #"+s(o.value.id),1),t[6]||(t[6]=e("p",{class:"text-white/80"},"Complete information about your rental",-1))]),e("div",J,[t[8]||(t[8]=e("h2",{class:"text-2xl font-semibold text-white mb-4"},"Vehicle Details",-1)),e("div",Q,[e("div",null,[e("img",{src:o.value.vehicle.imageUrl,alt:o.value.vehicle.name,class:"w-full h-48 object-cover rounded-lg"},null,8,F)]),e("div",null,[e("p",K,s(o.value.vehicle.name),1),e("p",X,s(o.value.vehicle.location),1),e("p",G,"$"+s(o.value.vehicle.pricePerDay)+"/day",1),c(a(f),{href:`/vehicles/${o.value.vehicle.id}`,class:"text-sm text-primary-300 hover:text-primary-200 mt-2 inline-block transition-colors"},{default:x(()=>t[7]||(t[7]=[l("View Vehicle Page")])),_:1,__:[7]},8,["href"])])])]),e("div",W,[t[11]||(t[11]=e("h2",{class:"text-2xl font-semibold text-white mb-4"},"Owner Details",-1)),e("div",Z,[e("div",ee,[e("img",{src:o.value.owner.avatarUrl,alt:"Owner Avatar",class:"w-16 h-16 rounded-full object-cover border-2 border-white/20"},null,8,te),e("div",null,[e("p",oe,s(o.value.owner.name),1),e("p",se,s(o.value.owner.email),1)])]),e("p",le,[t[9]||(t[9]=e("strong",{class:"text-white"},"Contact:",-1)),l(" "+s(o.value.owner.phone),1)]),e("p",ne,[t[10]||(t[10]=e("strong",{class:"text-white"},"Member Since:",-1)),l(" "+s(o.value.owner.memberSince),1)])])])])]),e("div",ie,[t[19]||(t[19]=e("h2",{class:"text-2xl font-semibold text-white mb-4"},"Booking Summary",-1)),e("div",ae,[e("div",re,[e("div",null,[e("p",null,[t[12]||(t[12]=e("strong",{class:"text-white"},"Pickup Date:",-1)),l(" "+s(o.value.pickupDate),1)]),e("p",null,[t[13]||(t[13]=e("strong",{class:"text-white"},"Return Date:",-1)),l(" "+s(o.value.returnDate),1)]),e("p",null,[t[14]||(t[14]=e("strong",{class:"text-white"},"Total Days:",-1)),l(" "+s(o.value.totalDays),1)])]),e("div",null,[e("p",null,[t[15]||(t[15]=e("strong",{class:"text-white"},"Total Price:",-1)),t[16]||(t[16]=l()),e("span",de,"₱"+s(o.value.totalPrice.toLocaleString()),1)]),e("p",null,[t[17]||(t[17]=e("strong",{class:"text-white"},"Status:",-1)),e("span",{class:P(["px-3 py-1 rounded-full text-xs font-medium ml-2",o.value.status==="Pending"?"bg-yellow-500/20 text-yellow-300 border border-yellow-500/30":o.value.status==="Confirmed"?"bg-green-500/20 text-green-300 border border-green-500/30":o.value.status==="Completed"?"bg-blue-500/20 text-blue-300 border border-blue-500/30":"bg-red-500/20 text-red-300 border border-red-500/30"])},s(o.value.status),3)])])]),e("div",ue,[t[18]||(t[18]=e("p",{class:"font-semibold text-white"},"Your Message to Owner:",-1)),e("p",ce,'"'+s(o.value.message)+'"',1)])])]),e("div",me,[e("div",ge,[o.value.status==="Confirmed"?(u(),w(a(f),{key:0,href:`/my-bookings/${o.value.id}/receipt`,class:"btn-primary flex items-center justify-center gap-2"},{default:x(()=>[c(a(U),{class:"h-5 w-5"}),t[20]||(t[20]=l(" Upload Proof of Payment "))]),_:1,__:[20]},8,["href"])):v("",!0),o.value.status==="Confirmed"&&_.value?(u(),p("button",{key:1,onClick:t[0]||(t[0]=i=>m.value=!0),class:"btn-glass bg-green-500/20 border-green-500/30 text-green-300 hover:bg-green-500/30 flex items-center justify-center gap-2"},[c(a(V),{class:"h-5 w-5"}),t[21]||(t[21]=l(" Extend Booking "))])):v("",!0),o.value.status==="Completed"&&!o.value.hasReviewed?(u(),w(a(f),{key:2,href:`/my-bookings/${o.value.id}/review`,class:"btn-glass bg-blue-500/20 border-blue-500/30 text-blue-300 hover:bg-blue-500/30 flex items-center justify-center gap-2"},{default:x(()=>[c(a(I),{class:"h-5 w-5"}),t[22]||(t[22]=l(" Leave Review "))]),_:1,__:[22]},8,["href"])):v("",!0),o.value.status==="Pending"?(u(),p("button",{key:3,onClick:B,class:"btn-glass bg-red-500/20 border-red-500/30 text-red-300 hover:bg-red-500/30 flex items-center justify-center gap-2"},[c(a(k),{class:"h-5 w-5"}),t[23]||(t[23]=l(" Cancel Booking "))])):v("",!0)])]),m.value?(u(),p("div",xe,[e("div",pe,[e("div",ve,[t[24]||(t[24]=e("h3",{class:"text-lg font-semibold text-white"},"Extend Your Booking",-1)),e("button",{onClick:t[1]||(t[1]=i=>m.value=!1),class:"text-white/60 hover:text-white transition-colors"},[c(a(k),{class:"h-6 w-6"})])]),e("div",he,[e("div",null,[e("p",be,[t[25]||(t[25]=l(" Current return date: ")),e("strong",fe,s(o.value.returnDate),1)]),t[26]||(t[26]=e("p",{class:"text-sm text-white/80 mb-4"}," Extend your booking to avoid overcharges if you need more time. ",-1))]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-white mb-2"}," Extend by how many hours? ",-1)),T(e("select",{"onUpdate:modelValue":t[2]||(t[2]=i=>n.value=i),class:"w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent backdrop-blur-sm"},[e("option",we,"1 hour (₱"+s(r(1))+")",1),e("option",ke,"2 hours (₱"+s(r(2))+")",1),e("option",ye,"4 hours (₱"+s(r(4))+")",1),e("option",_e,"6 hours (₱"+s(r(6))+")",1),e("option",Ce,"12 hours (₱"+s(r(12))+")",1),e("option",Be,"24 hours (₱"+s(r(24))+")",1)],512),[[j,n.value]])]),e("div",De,[e("p",Se,[t[28]||(t[28]=e("strong",null,"Extension Cost:",-1)),l(" ₱"+s(r(n.value)),1)]),t[29]||(t[29]=e("p",{class:"text-xs text-blue-400 mt-1"}," This will be added to your total booking cost. ",-1))])]),e("div",Ee,[e("button",{onClick:t[3]||(t[3]=i=>m.value=!1),class:"px-4 py-2 text-white/60 hover:text-white font-medium transition-colors"}," Cancel "),e("button",{onClick:C,disabled:g.value,class:"btn-primary disabled:opacity-50"},[g.value?(u(),p("span",Te,"Extending...")):(u(),p("span",je,"Extend Booking"))],8,Pe)])])])):v("",!0)])])]),_:1}))}},Oe=D($e,[["__scopeId","data-v-9ae7af65"]]);export{Oe as default};
