import{f as i,o as l,b as t,n as w,l as q,g as h,k as L,F as _,h as k,t as a,v as W,i as f,e as I,r as D,c as S,d as M,w as U,u as F,a as Z,_ as tt}from"./app-D5PUyAMe.js";import{v as et,n as st,u as ot,y as nt,i as lt}from"./vue-leaflet.es-eidY92mW.js";import{a as Y}from"./leaflet-src-BthnD9zU.js";import"./leaflet-icon-fix-CF40O4Io.js";const at={class:"bg-white rounded-lg shadow-sm mb-4 overflow-hidden text-xs"},it={class:"bg-gradient-to-r from-blue-50 to-indigo-50 p-2 border-b"},rt={class:"flex flex-wrap gap-1"},dt={class:"p-3"},ut={class:"grid grid-cols-1 gap-2"},mt=["value"],gt=["disabled"],ct={value:""},bt=["value"],ft={class:"grid grid-cols-2 gap-2"},pt=["value"],xt=["value"],yt={class:"bg-blue-50 p-2 rounded"},vt={class:"grid grid-cols-1 gap-1.5"},wt=["min"],_t=["min"],kt={class:"flex gap-1.5 pt-2 border-t"},ht=["disabled"],$t={key:0,class:"animate-spin h-3 w-3",fill:"none",viewBox:"0 0 24 24"},Ue={__name:"FilterSection",props:{filters:Object,filterOptions:Object,availableModels:Array,loadingModels:Boolean,isFiltering:Boolean,showAdvancedFilters:Boolean},emits:["quickFilter","applyFilters","makeChange","toggleAdvanced","resetFilters"],setup(o,{emit:x}){const u=x;return(m,s)=>(l(),i("div",at,[t("div",it,[s[13]||(s[13]=t("h3",{class:"text-sm font-semibold text-gray-800 mb-1"}," Quick Filters ",-1)),t("div",rt,[t("button",{type:"button",onClick:s[0]||(s[0]=e=>u("quickFilter","category","car")),class:w([o.filters.category==="car"?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100","px-2 py-1 border border-gray-300 rounded-full text-xs font-medium transition-colors"])}," 🚗 Cars ",2),t("button",{type:"button",onClick:s[1]||(s[1]=e=>u("quickFilter","category","motorcycle")),class:w([o.filters.category==="motorcycle"?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100","px-2 py-1 border border-gray-300 rounded-full text-xs font-medium transition-colors"])}," 🏍️ Motorcycles ",2),t("button",{type:"button",onClick:s[2]||(s[2]=e=>u("quickFilter","sort_by","price_low")),class:w([o.filters.sort_by==="price_low"?"bg-green-500 text-white":"bg-white text-gray-700 hover:bg-gray-100","px-2 py-1 border border-gray-300 rounded-full text-xs font-medium transition-colors"])}," 💰 Low Price ",2),t("button",{type:"button",onClick:s[3]||(s[3]=e=>u("quickFilter","sort_by","popular")),class:w([o.filters.sort_by==="popular"?"bg-orange-500 text-white":"bg-white text-gray-700 hover:bg-gray-100","px-2 py-1 border border-gray-300 rounded-full text-xs font-medium transition-colors"])}," 🔥 Popular ",2)])]),t("div",dt,[t("form",{onSubmit:s[12]||(s[12]=q(e=>u("applyFilters"),["prevent"])),class:"space-y-2"},[t("div",ut,[t("div",null,[s[15]||(s[15]=t("label",{class:"block text-xs font-medium text-gray-700 mb-0.5"},"Make",-1)),h(t("select",{"onUpdate:modelValue":s[4]||(s[4]=e=>o.filters.make_id=e),onChange:s[5]||(s[5]=e=>u("makeChange")),class:"w-full p-1.5 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},[s[14]||(s[14]=t("option",{value:""},"All",-1)),(l(!0),i(_,null,k(o.filterOptions.makes,e=>(l(),i("option",{key:e.id,value:e.id},a(e.name),9,mt))),128))],544),[[L,o.filters.make_id]])]),t("div",null,[s[16]||(s[16]=t("label",{class:"block text-xs font-medium text-gray-700 mb-0.5"},"Model",-1)),h(t("select",{"onUpdate:modelValue":s[6]||(s[6]=e=>o.filters.model_id=e),disabled:!o.filters.make_id||o.loadingModels,class:"w-full p-1.5 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100"},[t("option",ct,a(o.loadingModels?"Loading...":o.filters.make_id?"All":"Select Make"),1),(l(!0),i(_,null,k(o.availableModels,e=>(l(),i("option",{key:e.id,value:e.id},a(e.name),9,bt))),128))],8,gt),[[L,o.filters.model_id]])])]),t("div",ft,[t("div",null,[s[18]||(s[18]=t("label",{class:"block text-xs font-medium text-gray-700 mb-0.5"},"Fuel",-1)),h(t("select",{"onUpdate:modelValue":s[7]||(s[7]=e=>o.filters.fuel_type_id=e),class:"w-full p-1.5 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},[s[17]||(s[17]=t("option",{value:""},"All",-1)),(l(!0),i(_,null,k(o.filterOptions.fuelTypes,e=>(l(),i("option",{key:e.id,value:e.id},a(e.name),9,pt))),128))],512),[[L,o.filters.fuel_type_id]])]),t("div",null,[s[20]||(s[20]=t("label",{class:"block text-xs font-medium text-gray-700 mb-0.5"},"Trans.",-1)),h(t("select",{"onUpdate:modelValue":s[8]||(s[8]=e=>o.filters.transmission_id=e),class:"w-full p-1.5 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},[s[19]||(s[19]=t("option",{value:""},"All",-1)),(l(!0),i(_,null,k(o.filterOptions.transmissions,e=>(l(),i("option",{key:e.id,value:e.id},a(e.name),9,xt))),128))],512),[[L,o.filters.transmission_id]])])]),t("div",yt,[s[23]||(s[23]=t("h4",{class:"text-xs font-semibold text-gray-800 mb-1"}," 📅 Availability ",-1)),t("div",vt,[t("div",null,[s[21]||(s[21]=t("label",{class:"block text-xs font-medium text-gray-700 mb-0.5"},"From",-1)),h(t("input",{"onUpdate:modelValue":s[9]||(s[9]=e=>o.filters.available_from=e),type:"datetime-local",min:new Date().toISOString().slice(0,16),class:"w-full p-1.5 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},null,8,wt),[[W,o.filters.available_from]])]),t("div",null,[s[22]||(s[22]=t("label",{class:"block text-xs font-medium text-gray-700 mb-0.5"},"To",-1)),h(t("input",{"onUpdate:modelValue":s[10]||(s[10]=e=>o.filters.available_to=e),type:"datetime-local",min:o.filters.available_from||new Date().toISOString().slice(0,16),class:"w-full p-1.5 border border-gray-300 rounded text-xs focus:ring-1 focus:ring-blue-500 focus:border-blue-500"},null,8,_t),[[W,o.filters.available_to]])])])]),t("div",kt,[t("button",{type:"submit",disabled:o.isFiltering,class:"flex-1 bg-blue-600 text-white px-3 py-1.5 rounded font-medium hover:bg-blue-700 disabled:bg-blue-400 transition-colors text-xs flex items-center justify-center gap-1"},[o.isFiltering?(l(),i("svg",$t,s[24]||(s[24]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.37 0 0 5.37 0 12h4z"},null,-1)]))):f("",!0),I(" "+a(o.isFiltering?"Searching...":"Search"),1)],8,ht),t("button",{type:"button",onClick:s[11]||(s[11]=e=>u("resetFilters")),class:"px-3 py-1.5 border border-gray-300 text-gray-700 rounded font-medium hover:bg-gray-50 transition-colors text-xs"}," Clear ")])],32)])]))}},Ct={class:"mb-8"},Ft={class:"bg-white rounded-lg shadow-md overflow-hidden"},Mt={class:"h-96 relative"},St={class:"w-64 p-2"},Nt={class:"flex items-start gap-3"},Bt=["src","alt"],zt={key:1,class:"w-16 h-12 bg-gray-200 rounded flex items-center justify-center"},Vt={class:"flex-1"},jt={class:"font-semibold text-gray-900"},At={key:0,class:"text-gray-600 font-normal"},Tt={class:"text-sm text-gray-600"},Lt={key:0,class:"text-xs text-purple-600 font-medium"},Ot={class:"flex items-center gap-2 mt-1 text-xs text-gray-500"},Dt={key:1,class:"mt-2"},It={class:"text-green-600 font-semibold text-sm"},Ut=["onClick"],O=2e-4,qe={__name:"VehicleMap",props:{vehicles:{type:Array,default:()=>[]}},emits:["viewDetail"],setup(o,{emit:x}){const u=o,m=D(null),s=()=>{const d=m.value.leafletObject,b=d.getCenter(),n=Y.polygon(r.map(v=>[v[1],v[0]]));n.getBounds().contains(b)||d.panInsideBounds(n.getBounds(),{animate:!0})},e=S(()=>g.value.length?Y.latLngBounds(g.value.map(d=>[d.lat,d.lng])):j),p=x,g=S(()=>!u.vehicles||!Array.isArray(u.vehicles)?[]:u.vehicles.filter(d=>d&&d.lat&&d.lng&&!isNaN(parseFloat(d.lat))&&!isNaN(parseFloat(d.lng)))),y=S(()=>g.value),c=[9.786048643234757,125.49062330098809],r=[[125.48545720374489,9.801207813887503],[125.48394937158277,9.801134816678099],[125.4824560626428,9.800916528148765],[125.48099166020462,9.800555050821249],[125.47957026901334,9.800053866380772],[125.47820557937605,9.799417802127778],[125.47691073525756,9.79865298446448],[125.4756982076485,9.797766779865192],[125.47457967442702,9.796767723899952],[125.47356590787237,9.79566543899633],[125.47266667091462,9.79447054173279],[125.47189062311993,9.793194540557817],[125.47124523731648,9.791849724921354],[125.47073672766314,9.790449046887577],[125.47036998985222,9.789005996370452],[125.47014855402033,9.787534471194746],[125.47007455081837,9.786048643234757],[125.47014869096546,9.784562821920598],[125.47037025847982,9.78309131642699],[125.47073711764999,9.781648297871861],[125.47124573367556,9.78024766285169],[125.47189120677649,9.77890289962746],[125.47266731943903,9.77762695824917],[125.47356659634224,9.776432125868816],[125.47458037638481,9.775329908441458],[125.47569889611839,9.774330919952476],[125.47691138378202,9.773444780236375],[125.47820616303265,9.772680022369768],[125.47957076537246,9.772044010529008],[125.48099205019147,9.771542869102143],[125.48245633127043,9.771181423736623],[125.48394950852794,9.77096315488939],[125.48545720374489,9.770890164325817],[125.48696489896184,9.77096315488939],[125.48845807621933,9.771181423736623],[125.48992235729831,9.771542869102143],[125.49134364211733,9.772044010529008],[125.49270824445713,9.772680022369768],[125.49400302370776,9.773444780236375],[125.4952155113714,9.774330919952476],[125.49633403110496,9.775329908441458],[125.49734781114755,9.776432125868816],[125.49824708805076,9.77762695824917],[125.49902320071328,9.77890289962746],[125.4996686738142,9.78024766285169],[125.5001772898398,9.781648297871861],[125.50054414900994,9.78309131642699],[125.50076571652433,9.784562821920598],[125.50083985667139,9.786048643234757],[125.50076585346946,9.787534471194746],[125.50054441763756,9.789005996370452],[125.50017767982663,9.790449046887577],[125.4996691701733,9.791849724921354],[125.49902378436985,9.793194540557817],[125.49824773657517,9.79447054173279],[125.4973484996174,9.79566543899633],[125.49633473306275,9.796767723899952],[125.49521619984127,9.797766779865192],[125.49400367223222,9.79865298446448],[125.49270882811372,9.799417802127778],[125.49134413847645,9.800053866380772],[125.48992274728516,9.800555050821249],[125.48845834484696,9.800916528148765],[125.48696503590699,9.801134816678099],[125.48545720374489,9.801207813887503]],$=r.map(d=>d[0]),C=r.map(d=>d[1]),N=Math.min(...$),B=Math.max(...$),z=Math.min(...C),V=Math.max(...C),j=[[z-O,N-O],[V+O,B+O]],A={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[r]}}]},T=()=>({color:"#1976d2",weight:2,fill:!1});return(d,b)=>(l(),i("div",Ct,[t("div",Ft,[b[2]||(b[2]=t("div",{class:"p-4 border-b"},[t("h3",{class:"text-lg font-semibold text-gray-800"},"Vehicle Locations in Surigao del Norte"),t("p",{class:"text-sm text-gray-600"},"Click on markers to view vehicle details")],-1)),t("div",Mt,[M(F(lt),{ref_key:"mapRef",ref:m,style:{height:"100%"},bounds:e.value,"min-zoom":15,"max-zoom":18,zoom:16,center:c,onMoveend:s},{default:U(()=>[M(F(et),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),M(F(st),{geojson:A,"options-style":T}),(l(!0),i(_,null,k(y.value,n=>(l(),Z(F(ot),{key:`marker-${n.id}`,"lat-lng":[parseFloat(n.lat),parseFloat(n.lng)]},{default:U(()=>[M(F(nt),null,{default:U(()=>{var v,P,E,R,J,G,H,K,Q;return[t("div",St,[t("div",Nt,[n.main_photo_url?(l(),i("img",{key:0,src:n.main_photo_url,alt:`${(v=n.make)==null?void 0:v.name} ${(P=n.model)==null?void 0:P.name}`,class:"w-16 h-12 object-cover rounded"},null,8,Bt)):(l(),i("div",zt,b[0]||(b[0]=[t("span",{class:"text-gray-500 text-xs"},"No image",-1)]))),t("div",Vt,[t("h4",jt,[I(a((E=n.make)==null?void 0:E.name)+" "+a((R=n.model)==null?void 0:R.name)+" ",1),n.year?(l(),i("span",At,"("+a(n.year)+")",1)):f("",!0)]),t("p",Tt,a((J=n.type)==null?void 0:J.sub_type),1),n.owner?(l(),i("p",Lt," Owner: "+a(n.owner.name||(n.owner.first_name+" "+n.owner.last_name).trim()||"Unknown Name"),1)):f("",!0),t("div",Ot,[t("span",null,a(((G=n.fuelType)==null?void 0:G.name)||((H=n.fuel_type)==null?void 0:H.name)||"N/A"),1),b[1]||(b[1]=t("span",null,"•",-1)),t("span",null,a(((K=n.transmission)==null?void 0:K.name)||"Manual"),1)]),(Q=n.pricing_tiers)!=null&&Q.length?(l(),i("div",Dt,[t("span",It," From ₱"+a(Math.min(...n.pricing_tiers.map(X=>parseFloat(X.price)))),1)])):f("",!0),t("button",{onClick:X=>p("viewDetail",n.id),class:"mt-2 bg-blue-600 text-white text-xs px-3 py-1 rounded hover:bg-blue-700 transition-colors"}," View Details ",8,Ut)])])])]}),_:2},1024)]),_:2},1032,["lat-lng"]))),128))]),_:1},8,["bounds"])])])]))}},qt=["disabled","title"],Pt={class:"relative"},Et=["fill"],Rt={key:0,class:"absolute inset-0 flex items-center justify-center"},Jt={key:0,class:"ml-1"},Gt={key:1,class:"text-xs opacity-75"},Ht={__name:"SaveButton",props:{vehicleId:{type:[Number,String],required:!0},initialSaved:{type:Boolean,default:!1},initialSaveCount:{type:Number,default:0},listName:{type:String,default:"My Saved Vehicles"},size:{type:String,default:"md",validator:o=>["sm","md","lg"].includes(o)},showText:{type:Boolean,default:!0},showCount:{type:Boolean,default:!1}},emits:["saved","unsaved","error"],setup(o,{expose:x,emit:u}){const m=o,s=u,e=D(m.initialSaved),p=D(m.initialSaveCount),g=D(!1),y=async()=>{if(!g.value){g.value=!0;try{const c=await fetch("/api/vehicles/save/toggle",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({vehicle_id:m.vehicleId,list_name:m.listName})});if(!c.ok)throw new Error("Failed to toggle save status");const r=await c.json();e.value=r.saved,p.value=r.save_count,r.saved?s("saved",{vehicleId:m.vehicleId,listName:m.listName,saveCount:r.save_count}):s("unsaved",{vehicleId:m.vehicleId,listName:m.listName,saveCount:r.save_count}),window.showToast&&window.showToast(r.message,r.saved?"success":"info")}catch(c){console.error("Error toggling save status:",c),s("error",c),window.showToast&&window.showToast("Failed to update save status. Please try again.","error")}finally{g.value=!1}}};return x({toggleSave:y,saved:S(()=>e.value),saveCount:S(()=>p.value)}),(c,r)=>(l(),i("button",{onClick:y,disabled:g.value,class:w(["flex items-center gap-1 px-3 py-2 rounded-full text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",e.value?"bg-red-100 text-red-700 hover:bg-red-200 focus:ring-red-500 border border-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200 focus:ring-gray-500 border border-gray-200",g.value&&"opacity-50 cursor-not-allowed",o.size==="sm"&&"px-2 py-1 text-xs",o.size==="lg"&&"px-4 py-3 text-base"]),title:e.value?`Remove from ${o.listName}`:`Save to ${o.listName}`},[t("div",Pt,[(l(),i("svg",{class:w(["transition-all duration-200",o.size==="sm"?"w-3 h-3":o.size==="lg"?"w-6 h-6":"w-4 h-4",e.value?"text-red-500 scale-110":"text-gray-400"]),fill:e.value?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24"},r[0]||(r[0]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)]),10,Et)),g.value?(l(),i("div",Rt,[(l(),i("svg",{class:w(["animate-spin",o.size==="sm"?"w-3 h-3":o.size==="lg"?"w-6 h-6":"w-4 h-4"]),fill:"none",viewBox:"0 0 24 24"},r[1]||(r[1]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),2))])):f("",!0)]),o.showText?(l(),i("span",Jt,a(e.value?"Saved":"Save"),1)):f("",!0),o.showCount&&p.value>0?(l(),i("span",Gt," ("+a(p.value)+") ",1)):f("",!0)],10,qt))}},Kt=tt(Ht,[["__scopeId","data-v-e3988633"]]),Qt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},Xt=["onClick"],Wt={class:"relative h-48 bg-gray-100 rounded-t-2xl overflow-hidden"},Yt=["src","alt"],Zt={key:1,class:"flex items-center justify-center h-full text-gray-400"},te={key:2,class:"absolute inset-0 bg-black/70 flex items-center justify-center"},ee={class:"text-white font-semibold text-center text-sm"},se={key:3,class:"absolute top-3 right-3 bg-gradient-to-r from-green-500 to-green-600 text-white px-3 py-1.5 rounded-full text-sm font-semibold shadow-md"},oe={class:"absolute top-3 left-3 bg-white/90 px-2 py-1 rounded-full text-xs font-medium text-gray-700 flex items-center gap-1 shadow-sm"},ne={class:"absolute bottom-3 right-3"},le={class:"flex flex-col flex-1 p-5 space-y-3"},ae={class:"text-lg font-semibold text-gray-900 leading-tight"},ie={key:0,class:"text-gray-500 font-normal"},re={class:"text-sm text-gray-500"},de={class:"space-y-2 text-sm text-gray-600"},ue={class:"flex items-center gap-2"},me={class:"truncate"},ge={key:0,class:"flex items-center gap-2"},ce={class:"flex items-center space-x-1"},be={class:"font-medium text-sm"},fe={class:"text-gray-400 text-xs"},pe={key:1,class:"flex items-center gap-2 text-gray-400 text-xs"},xe={class:"flex items-start gap-2 text-blue-600"},ye={class:"leading-snug break-words"},ve={class:"grid grid-cols-2 gap-3"},we={class:"flex items-center gap-2"},_e={class:"truncate"},ke={class:"flex items-center gap-2"},he={class:"truncate"},$e={key:0,class:"text-sm text-gray-500 line-clamp-3"},Ce={key:0},Fe={class:"flex items-baseline justify-between"},Me={class:"text-xl font-bold text-green-600"},Se={class:"text-sm text-gray-500"},Ne={class:"text-xs text-gray-400 relative group cursor-help"},Be={class:"absolute bottom-full left-0 mb-2 w-64 bg-gray-800 text-white text-xs rounded-lg p-3 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10 shadow-lg"},ze={class:"space-y-1"},Ve={class:"font-semibold text-green-300"},je={key:1,class:"text-sm text-gray-400"},Ae=["onClick"],Te={key:1,disabled:"",class:"w-full bg-gray-200 text-gray-500 py-2.5 rounded-lg font-medium cursor-not-allowed"},Pe={__name:"VehicleGrid",props:{vehicles:Array},emits:["viewDetail"],setup(o,{emit:x}){const u=x;return(m,s)=>(l(),i("div",Qt,[(l(!0),i(_,null,k(o.vehicles,e=>{var p,g,y,c,r,$,C,N,B,z,V,j,A,T,d,b;return l(),i("div",{key:e.id,class:"bg-white rounded-2xl shadow-sm border border-gray-200 flex flex-col hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:n=>u("viewDetail",e.id)},[t("div",Wt,[e.main_photo_url?(l(),i("img",{key:0,src:e.main_photo_url,alt:`${(p=e.make)==null?void 0:p.name} ${(g=e.model)==null?void 0:g.name}`,class:"w-full h-full object-cover"},null,8,Yt)):(l(),i("div",Zt,s[1]||(s[1]=[t("svg",{class:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2\r
                 l1.586-1.586a2 2 0 012.828 0L20 14\r
                 m-6-6h.01M6 20h12a2 2 0 002-2V6\r
                 a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2\r
                 2 0 002 2z`})],-1)]))),!e.is_available||e.is_booked?(l(),i("div",te,[t("p",ee,a(e.is_available?"🚫 Booked":"❌ Unavailable"),1)])):f("",!0),(y=e.pricing_tiers)!=null&&y.length&&e.is_available&&!e.is_booked?(l(),i("div",se," From ₱"+a(Math.min(...e.pricing_tiers.map(n=>parseFloat(n.price)))),1)):f("",!0),t("div",oe,[t("span",null,a(((c=e.type)==null?void 0:c.category)==="car"?"🚗":"🏍️"),1),t("span",null,a(((r=e.type)==null?void 0:r.sub_type)||"Vehicle"),1)]),t("div",ne,[M(Kt,{"vehicle-id":e.id,"initial-saved":(($=e.saves)==null?void 0:$.length)>0,"initial-save-count":e.saves_count||0,size:"sm","show-text":!1,"show-count":!1,onClick:s[0]||(s[0]=q(()=>{},["stop"]))},null,8,["vehicle-id","initial-saved","initial-save-count"])])]),t("div",le,[t("div",null,[t("h3",ae,[I(a((C=e.make)==null?void 0:C.name)+" "+a((N=e.model)==null?void 0:N.name)+" ",1),e.year?(l(),i("span",ie,"("+a(e.year)+")",1)):f("",!0)]),t("p",re,a((B=e.type)==null?void 0:B.sub_type),1)]),t("div",de,[t("div",ue,[s[2]||(s[2]=t("svg",{class:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M16 7a4 4 0 11-8 0 4 4 0 018\r
           0zM12 14a7 7 0 00-7 7h14a7 7\r
           0 00-7-7z`})],-1)),t("span",me,a(((z=e.owner)==null?void 0:z.name)||((V=e.owner)==null?void 0:V.first_name)+" "+((j=e.owner)==null?void 0:j.last_name)||"Unknown"),1)]),e.ratings_avg_rating>0?(l(),i("div",ge,[t("div",ce,[s[3]||(s[3]=t("span",{class:"text-yellow-400"},"★",-1)),t("span",be,a(parseFloat(e.ratings_avg_rating).toFixed(1)),1),t("span",fe,"("+a(e.ratings_count||0)+")",1)])])):(l(),i("div",pe,s[4]||(s[4]=[t("span",null,"⭐",-1),t("span",null,"No reviews yet",-1)]))),t("div",xe,[s[5]||(s[5]=t("svg",{class:"w-4 h-4 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:`M17.657 16.657L13.414 20.9a2\r
           2 0 01-2.828 0l-4.243-4.243a8\r
           8 0 1111.314 0z`}),t("circle",{cx:"12",cy:"11",r:"3","stroke-width":"2"})],-1)),t("span",ye,a(e.location_name||"Surigao del Norte"),1)]),t("div",ve,[t("div",we,[s[6]||(s[6]=t("span",null,"⛽",-1)),t("span",_e,a(((A=e.fuelType)==null?void 0:A.name)||((T=e.fuel_type)==null?void 0:T.name)||"N/A"),1)]),t("div",ke,[s[7]||(s[7]=t("span",null,"⚙️",-1)),t("span",he,a(((d=e.transmission)==null?void 0:d.name)||"Manual"),1)])])]),e.description?(l(),i("p",$e,a(e.description),1)):f("",!0),s[10]||(s[10]=t("div",{class:"flex-1"},null,-1)),t("div",null,[(b=e.pricing_tiers)!=null&&b.length&&e.is_available&&!e.is_booked?(l(),i("div",Ce,[t("div",Fe,[t("span",Me," ₱"+a(Math.min(...e.pricing_tiers.map(n=>parseFloat(n.price)))),1),t("span",Se," /"+a(e.pricing_tiers.find(n=>n.price==Math.min(...e.pricing_tiers.map(v=>parseFloat(v.price)))).duration_unit),1)]),t("p",Ne,[I(a(e.pricing_tiers.length)+" option"+a(e.pricing_tiers.length>1?"s":"")+" ",1),t("div",Be,[s[8]||(s[8]=t("div",{class:"font-semibold mb-2"},"Available Pricing Options:",-1)),t("div",ze,[(l(!0),i(_,null,k(e.pricing_tiers,n=>(l(),i("div",{key:n.id,class:"flex justify-between items-center"},[t("span",null,a(n.duration_from||n.duration_value||n.duration||1)+" "+a(n.duration_unit||n.unit||"hour")+a((n.duration_from||n.duration_value||n.duration||1)>1?"s":""),1),t("span",Ve,"₱"+a(parseFloat(n.price).toFixed(0)),1)]))),128))]),s[9]||(s[9]=t("div",{class:"absolute top-full left-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-800"},null,-1))])])])):(l(),i("div",je," Not Available "))]),t("div",null,[e.is_available&&!e.is_booked?(l(),i("button",{key:0,class:"w-full bg-blue-600 text-white py-2.5 rounded-lg font-medium hover:bg-blue-700 transition-colors",onClick:q(n=>u("viewDetail",e.id),["stop"])}," View Details & Book ",8,Ae)):(l(),i("button",Te,a(e.is_available?"Booked":"Unavailable"),1))])])],8,Xt)}),128))]))}};export{qe as _,Pe as a,Ue as b};
