import{A}from"./AppLayout-DuAcd7ag.js";import{r as l,q as C,a0 as I,a1 as N,a2 as S,a3 as P,a4 as W,a5 as M,a as L,o as f,w as B,b as e,n,t as a,f as U,i as z,a6 as R,a7 as T,a8 as Y,a9 as q,aa as F}from"./app-D5PUyAMe.js";import"./Footer-DI0umZVU.js";import"./car-C0_l2Y9f.js";import"./createLucideIcon-B4NPXSPX.js";const G={class:"max-w-4xl mx-auto p-6"},O={class:"bg-white rounded-lg shadow-lg p-8"},E={class:"mb-8 p-6 bg-blue-50 rounded-lg"},D={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},V={class:"flex items-center space-x-3"},$={class:"text-sm font-medium"},H={class:"flex items-center space-x-3"},j={class:"text-sm font-medium"},J={class:"flex items-center space-x-3"},K={class:"text-sm font-medium"},Q={class:"flex items-center space-x-3"},X={class:"text-sm font-medium"},Z={class:"mb-8 p-6 bg-green-50 rounded-lg"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},se={class:"flex items-center space-x-3"},te={class:"text-sm font-medium"},le={class:"flex items-center space-x-3"},ae={class:"text-sm font-medium"},oe={class:"mt-4 text-sm text-green-700"},ne={class:"mb-8 p-6 bg-gray-50 rounded-lg"},ie={class:"flex flex-wrap gap-4"},re=["disabled"],de=["disabled"],me={__name:"PWAStatus",setup(ce){const u=l(!0),r=l(!1),o=l(!1),i=l(navigator.onLine),p=l("serviceWorker"in navigator),v=l(!1),g=l("Unknown"),d=l(!1),c=l(!1),m=async()=>{try{d.value=!0,await R()&&(r.value=!0,o.value=!1,alert("App installed successfully!"))}catch(t){console.error("Installation failed:",t),alert("Installation failed: "+t.message)}finally{d.value=!1}},h=async()=>{try{c.value=!0,await T(),alert("Checked for updates!")}catch(t){console.error("Update check failed:",t),alert("Update check failed: "+t.message)}finally{c.value=!1}},x=async()=>{try{const t=await Y();alert(t?"Notifications enabled!":"Notifications permission denied.")}catch(t){alert("Error requesting notification permission: "+t.message)}},b=()=>{q("GoMoto Test",{body:"This is a test notification from GoMoto PWA!",tag:"test-notification"})},w=async()=>{const t={title:"GoMoto - Vehicle Rental",text:"Book It, Ride It, Love It! Check out GoMoto for vehicle rentals.",url:window.location.origin};await F(t)||navigator.clipboard.writeText(window.location.origin).then(()=>{alert("App URL copied to clipboard!")})},_=t=>{o.value=t},y=()=>{i.value=!0},k=()=>{i.value=!1};return C(async()=>{if(r.value=I(),o.value=N(),S(_),P(y,k),p.value)try{const s=await W();s&&(v.value=!0,g.value=s.active?"Active":"Registered")}catch(s){g.value="Registration Failed",console.error("Service worker registration failed:",s)}u.value="serviceWorker"in navigator&&"PushManager"in window;const t=M();i.value=t.online}),(t,s)=>(f(),L(A,null,{default:B(()=>[e("div",G,[e("div",O,[s[3]||(s[3]=e("h1",{class:"text-3xl font-bold text-gray-900 mb-6"},"PWA Status & Testing",-1)),e("div",E,[s[0]||(s[0]=e("h2",{class:"text-xl font-semibold text-blue-900 mb-4"},"Installation Status",-1)),e("div",D,[e("div",V,[e("div",{class:n([u.value?"bg-green-500":"bg-red-500","w-3 h-3 rounded-full"])},null,2),e("span",$,"PWA Support: "+a(u.value?"Yes":"No"),1)]),e("div",H,[e("div",{class:n([r.value?"bg-green-500":"bg-yellow-500","w-3 h-3 rounded-full"])},null,2),e("span",j,"Installed: "+a(r.value?"Yes":"No"),1)]),e("div",J,[e("div",{class:n([o.value?"bg-green-500":"bg-gray-500","w-3 h-3 rounded-full"])},null,2),e("span",K,"Can Install: "+a(o.value?"Yes":"No"),1)]),e("div",Q,[e("div",{class:n([i.value?"bg-green-500":"bg-red-500","w-3 h-3 rounded-full"])},null,2),e("span",X,"Online: "+a(i.value?"Yes":"No"),1)])])]),e("div",Z,[s[1]||(s[1]=e("h2",{class:"text-xl font-semibold text-green-900 mb-4"},"Service Worker",-1)),e("div",ee,[e("div",se,[e("div",{class:n([p.value?"bg-green-500":"bg-red-500","w-3 h-3 rounded-full"])},null,2),e("span",te,"Supported: "+a(p.value?"Yes":"No"),1)]),e("div",le,[e("div",{class:n([v.value?"bg-green-500":"bg-yellow-500","w-3 h-3 rounded-full"])},null,2),e("span",ae,"Registered: "+a(v.value?"Yes":"No"),1)])]),e("div",oe,[e("p",null,"State: "+a(g.value),1)])]),e("div",ne,[s[2]||(s[2]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Actions",-1)),e("div",ie,[o.value?(f(),U("button",{key:0,onClick:m,disabled:d.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},a(d.value?"Installing...":"Install App"),9,re)):z("",!0),e("button",{onClick:h,disabled:c.value,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed"},a(c.value?"Checking...":"Check for Updates"),9,de),e("button",{onClick:x,class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700"}," Enable Notifications "),e("button",{onClick:b,class:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700"}," Test Notification "),e("button",{onClick:w,class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"}," Share App ")])]),s[4]||(s[4]=e("div",{class:"mb-8 p-6 bg-purple-50 rounded-lg"},[e("h2",{class:"text-xl font-semibold text-purple-900 mb-4"},"PWA Features"),e("ul",{class:"space-y-2 text-sm text-purple-700"},[e("li",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),e("span",null,"Offline functionality with service worker")]),e("li",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),e("span",null,"App-like experience with web app manifest")]),e("li",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),e("span",null,"Push notifications support")]),e("li",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),e("span",null,"Home screen installation")]),e("li",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),e("span",null,"App shortcuts for quick actions")]),e("li",{class:"flex items-center space-x-2"},[e("svg",{class:"w-4 h-4 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})]),e("span",null,"Network status detection")])])],-1)),s[5]||(s[5]=e("div",{class:"p-6 bg-yellow-50 rounded-lg"},[e("h2",{class:"text-xl font-semibold text-yellow-900 mb-4"},"Installation Instructions"),e("div",{class:"space-y-4 text-sm text-yellow-800"},[e("div",null,[e("h3",{class:"font-semibold"},"Mobile (Chrome/Safari):"),e("ol",{class:"list-decimal list-inside space-y-1 ml-4"},[e("li",null,'Look for the "Add to Home Screen" or "Install" prompt'),e("li",null,'Tap "Add" or "Install" when prompted'),e("li",null,"Find the GoMoto icon on your home screen")])]),e("div",null,[e("h3",{class:"font-semibold"},"Desktop (Chrome/Edge):"),e("ol",{class:"list-decimal list-inside space-y-1 ml-4"},[e("li",null,"Look for the install icon in the address bar"),e("li",null,'Click "Install" when prompted'),e("li",null,"The app will open in its own window")])])])],-1))])])]),_:1}))}};export{me as default};
