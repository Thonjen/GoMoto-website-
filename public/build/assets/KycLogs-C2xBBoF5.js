import{r as Q,j as I,a as _,o as i,w,b as e,f as r,i as u,d as R,u as p,S as h,e as f,t as o,g as y,F as v,h as k,k as $,v as E,n as c,Q as Y}from"./app-Bp2smfCm.js";import{A as Z}from"./AdminLayout-CaUpGq0C.js";import"./Footer-BrurEhWM.js";import"./Header-fek8bTNe.js";const q={class:"min-h-screen bg-gradient-to-br from-[#535862] via-gray-800 to-gray-900"},G={class:"relative z-10 max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},J={class:"mb-8"},W={class:"flex flex-col space-y-4 sm:flex-row sm:justify-between sm:items-center sm:space-y-0"},X={class:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-4"},ee={class:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8"},te={class:"bg-blue-400/20 shadow-glow rounded-lg backdrop-blur-sm border border-white/20 overflow-hidden"},se={class:"p-5"},oe={class:"flex items-center"},le={class:"ml-5 w-0 flex-1"},ie={class:"text-lg font-medium text-white"},re={class:"bg-green-400/20 shadow-glow rounded-lg backdrop-blur-sm border border-white/20 overflow-hidden"},de={class:"p-5"},ne={class:"flex items-center"},ae={class:"ml-5 w-0 flex-1"},ue={class:"text-lg font-medium text-white"},ce={class:"bg-red-400/20 shadow-glow rounded-lg backdrop-blur-sm border border-white/20 overflow-hidden"},me={class:"p-5"},be={class:"flex items-center"},xe={class:"ml-5 w-0 flex-1"},we={class:"text-lg font-medium text-white"},pe={class:"bg-yellow-400/20 shadow-glow rounded-lg backdrop-blur-sm border border-white/20 overflow-hidden"},he={class:"p-5"},fe={class:"flex items-center"},ve={class:"ml-5 w-0 flex-1"},ge={class:"text-lg font-medium text-white"},_e={class:"glass-card-dark mb-6"},ye={class:"px-4 py-5 sm:p-6"},ke={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},je=["value"],Ce={class:"glass-card-dark"},Ae={class:"px-4 py-5 sm:p-6"},Le={class:"overflow-x-auto"},Se={class:"min-w-full divide-y divide-white/20"},De={class:"bg-transparent divide-y divide-white/10"},Me={class:"px-6 py-4 whitespace-nowrap text-sm text-white/70"},Ve={class:"px-6 py-4 whitespace-nowrap"},Be={class:"text-sm font-medium text-white"},Te={class:"text-sm text-white/70"},Ne={class:"px-6 py-4 whitespace-nowrap"},Ue={class:"px-6 py-4 whitespace-nowrap text-sm text-white/70"},ze={key:0},Fe={key:1,class:"text-white/50"},He={class:"px-6 py-4 whitespace-nowrap text-sm text-white/70"},Oe={class:"flex items-center space-x-2"},Re={key:1,class:"text-white/50"},$e={class:"px-6 py-4 text-sm text-white/70"},Ee=["onClick"],Ke={class:"mt-6"},Pe={class:"flex items-center justify-between"},Qe={class:"flex-1 flex justify-between sm:hidden"},Ie={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Ye={class:"text-sm text-white/70"},Ze={class:"flex space-x-1"},qe=["innerHTML"],Ge={key:0,class:"fixed inset-0 bg-black/50 overflow-y-auto h-full w-full z-50 backdrop-blur-sm"},Je={class:"relative top-20 mx-auto p-5 border border-white/20 w-11/12 max-w-2xl shadow-glow rounded-xl glass-card-dark"},We={class:"mt-3"},Xe={class:"flex justify-between items-center mb-4"},et={class:"text-lg font-medium text-white"},tt={class:"space-y-4"},st={class:"grid grid-cols-2 gap-4"},ot={class:"mt-1 text-sm text-white"},lt={class:"mt-1"},it={class:"mt-1 text-sm text-white"},rt={class:"text-white/70"},dt={class:"mt-1 text-sm text-white"},nt={key:0},at={key:1,class:"text-white/50"},ut={key:0},ct={class:"mt-1 flex items-center space-x-2"},mt={key:1},bt={class:"mt-1 space-y-1"},xt={class:"text-white/70 ml-1"},wt={key:2},pt={class:"mt-1 text-sm text-white bg-white/10 p-3 rounded border border-white/20 backdrop-blur-sm"},ht={class:"grid grid-cols-2 gap-4 text-xs text-white/50"},ft={class:"truncate"},vt={class:"mt-6 flex justify-end"},Ct={__name:"KycLogs",props:{logs:Object,stats:Object,admins:Array,filters:Object},setup(d){const g=d,l=Q(null),n=I({admin_id:g.filters.admin_id||"",action:g.filters.action||"",date_from:g.filters.date_from||"",date_to:g.filters.date_to||""}),b=()=>{const a=Object.fromEntries(Object.entries(n).filter(([t,m])=>m!==""&&m!==null&&m!==void 0));Y.get(route("admin.kyc.logs"),a,{preserveState:!0,replace:!0})},K=()=>{n.admin_id="",n.action="",n.date_from="",n.date_to="",b()},P=a=>{l.value=a},j=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(a,t)=>(i(),_(Z,null,{default:w(()=>{var m,C,A,L,S,D,M,V,B,T,N,U,z,F;return[e("div",q,[t[38]||(t[38]=e("div",{class:"fixed inset-0 opacity-[0.05]",style:{"background-image":`url('data:image/svg+xml;utf8,<svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><circle cx="20" cy="20" r="2" fill="%23ffffff"/><circle cx="80" cy="80" r="2" fill="%23ffffff"/></svg>')`}},null,-1)),e("div",G,[e("div",J,[e("div",W,[t[8]||(t[8]=e("div",null,[e("h1",{class:"text-2xl sm:text-3xl font-bold text-white"},"KYC Verification Logs"),e("p",{class:"mt-2 text-white/70 text-sm sm:text-base"},"Track all Driver's License verification activities and decisions")],-1)),e("div",X,[R(p(h),{href:a.route("admin.kyc.verifications"),class:"bg-blue-400/20 hover:bg-blue-400/30 text-white font-bold py-2 px-4 rounded-md backdrop-blur-sm border border-blue-400/30 transition-colors text-center sm:text-left"},{default:w(()=>t[6]||(t[6]=[f(" Back to Verifications ")])),_:1,__:[6]},8,["href"]),R(p(h),{href:a.route("admin.dashboard"),class:"bg-white/10 hover:bg-white/20 text-white font-bold py-2 px-4 rounded-md backdrop-blur-sm border border-white/20 transition-colors text-center sm:text-left"},{default:w(()=>t[7]||(t[7]=[f(" Dashboard ")])),_:1,__:[7]},8,["href"])])])]),e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[t[10]||(t[10]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",le,[e("dl",null,[t[9]||(t[9]=e("dt",{class:"text-sm font-medium text-white/70 truncate"},"Total Actions",-1)),e("dd",ie,o(((m=d.stats)==null?void 0:m.total_actions)||0),1)])])])])]),e("div",re,[e("div",de,[e("div",ne,[t[12]||(t[12]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",ae,[e("dl",null,[t[11]||(t[11]=e("dt",{class:"text-sm font-medium text-white/70 truncate"},"Approvals",-1)),e("dd",ue,o(((C=d.stats)==null?void 0:C.approvals)||0),1)])])])])]),e("div",ce,[e("div",me,[e("div",be,[t[14]||(t[14]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",xe,[e("dl",null,[t[13]||(t[13]=e("dt",{class:"text-sm font-medium text-white/70 truncate"},"Rejections",-1)),e("dd",we,o(((A=d.stats)==null?void 0:A.rejections)||0),1)])])])])]),e("div",pe,[e("div",he,[e("div",fe,[t[16]||(t[16]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})])],-1)),e("div",ve,[e("dl",null,[t[15]||(t[15]=e("dt",{class:"text-sm font-medium text-white/70 truncate"},"Submissions",-1)),e("dd",ge,o(((L=d.stats)==null?void 0:L.submissions)||0),1)])])])])])]),e("div",_e,[e("div",ye,[e("div",ke,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-white"},"Admin",-1)),y(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.admin_id=s),onChange:b,class:"mt-1 block w-full bg-white/10 border border-white/20 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 backdrop-blur-sm"},[t[17]||(t[17]=e("option",{value:"",class:"bg-gray-800 text-white"},"All Admins",-1)),(i(!0),r(v,null,k(d.admins||[],s=>(i(),r("option",{key:s.id,value:s.id,class:"bg-gray-800 text-white"},o(s.first_name)+" "+o(s.last_name),9,je))),128))],544),[[$,n.admin_id]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-white"},"Action",-1)),y(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.action=s),onChange:b,class:"mt-1 block w-full bg-white/10 border border-white/20 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 backdrop-blur-sm"},t[19]||(t[19]=[e("option",{value:"",class:"bg-gray-800 text-white"},"All Actions",-1),e("option",{value:"submitted",class:"bg-gray-800 text-white"},"Submitted",-1),e("option",{value:"approved",class:"bg-gray-800 text-white"},"Approved",-1),e("option",{value:"rejected",class:"bg-gray-800 text-white"},"Rejected",-1),e("option",{value:"resubmitted",class:"bg-gray-800 text-white"},"Resubmitted",-1)]),544),[[$,n.action]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-white"},"Date From",-1)),y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.date_from=s),onChange:b,type:"date",class:"mt-1 block w-full bg-white/10 border border-white/20 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 backdrop-blur-sm"},null,544),[[E,n.date_from]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-white"},"Date To",-1)),y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.date_to=s),onChange:b,type:"date",class:"mt-1 block w-full bg-white/10 border border-white/20 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 backdrop-blur-sm"},null,544),[[E,n.date_to]])]),e("div",{class:"flex items-end"},[e("button",{onClick:K,class:"bg-white/10 hover:bg-white/20 text-white font-medium py-2 px-4 rounded-md border border-white/20 transition-all duration-200 backdrop-blur-sm shadow-glow"}," Clear Filters ")])])])]),e("div",Ce,[e("div",Ae,[e("div",Le,[e("table",Se,[t[23]||(t[23]=e("thead",{class:"bg-white/5"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"},"Timestamp"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"},"User"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"},"Action"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"},"Approved By"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"},"Status Change"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"},"Details")])],-1)),e("tbody",De,[(i(!0),r(v,null,k(((S=d.logs)==null?void 0:S.data)||[],s=>{var x,H,O;return i(),r("tr",{key:s.id,class:"hover:bg-white/5 transition-colors duration-150"},[e("td",Me,o(j(s.created_at)),1),e("td",Ve,[e("div",Be,o((x=s.user)==null?void 0:x.first_name)+" "+o((H=s.user)==null?void 0:H.last_name),1),e("div",Te,o((O=s.user)==null?void 0:O.email),1)]),e("td",Ne,[e("span",{class:c(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border backdrop-blur-sm",s.action==="approved"?"bg-green-400/20 text-green-300 border-green-400/30":s.action==="rejected"?"bg-red-400/20 text-red-300 border-red-400/30":s.action==="submitted"||s.action==="resubmitted"?"bg-blue-400/20 text-blue-300 border-blue-400/30":"bg-gray-400/20 text-gray-300 border-gray-400/30"])},o(s.action_label),3)]),e("td",Ue,[s.admin?(i(),r("div",ze,o(s.admin.first_name)+" "+o(s.admin.last_name),1)):(i(),r("div",Fe,"System"))]),e("td",He,[e("div",Oe,[s.old_status?(i(),r("span",{key:0,class:c(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border backdrop-blur-sm",s.old_status==="approved"?"bg-green-400/20 text-green-300 border-green-400/30":s.old_status==="rejected"?"bg-red-400/20 text-red-300 border-red-400/30":s.old_status==="under_review"?"bg-blue-400/20 text-blue-300 border-blue-400/30":"bg-yellow-400/20 text-yellow-300 border-yellow-400/30"])},o(s.old_status.replace("_"," ")),3)):u("",!0),s.old_status?(i(),r("span",Re,"→")):u("",!0),e("span",{class:c(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border backdrop-blur-sm",s.new_status==="approved"?"bg-green-400/20 text-green-300 border-green-400/30":s.new_status==="rejected"?"bg-red-400/20 text-red-300 border-red-400/30":s.new_status==="under_review"?"bg-blue-400/20 text-blue-300 border-blue-400/30":"bg-yellow-400/20 text-yellow-300 border-yellow-400/30"])},o(s.new_status.replace("_"," ")),3)])]),e("td",$e,[e("button",{onClick:gt=>P(s),class:"text-blue-400 hover:text-blue-300 transition-colors duration-150"}," View Details ",8,Ee)])])}),128))])])]),e("div",Ke,[e("nav",Pe,[e("div",Qe,[(D=d.logs)!=null&&D.prev_page_url?(i(),_(p(h),{key:0,href:d.logs.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-white/20 text-sm font-medium rounded-md text-white bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all duration-200"},{default:w(()=>t[24]||(t[24]=[f(" Previous ")])),_:1,__:[24]},8,["href"])):u("",!0),(M=d.logs)!=null&&M.next_page_url?(i(),_(p(h),{key:1,href:d.logs.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-white/20 text-sm font-medium rounded-md text-white bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all duration-200"},{default:w(()=>t[25]||(t[25]=[f(" Next ")])),_:1,__:[25]},8,["href"])):u("",!0)]),e("div",Ie,[e("div",null,[e("p",Ye," Showing "+o(((V=d.logs)==null?void 0:V.from)||0)+" to "+o(((B=d.logs)==null?void 0:B.to)||0)+" of "+o(((T=d.logs)==null?void 0:T.total)||0)+" results ",1)]),e("div",Ze,[(i(!0),r(v,null,k(((N=d.logs)==null?void 0:N.links)||[],s=>(i(),r(v,{key:s.label},[s.url?(i(),_(p(h),{key:0,href:s.url,innerHTML:s.label,class:c(["relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded backdrop-blur-sm transition-all duration-200",s.active?"z-10 bg-blue-400/20 border-blue-400/30 text-blue-300":"bg-white/10 border-white/20 text-white/70 hover:bg-white/20 hover:text-white"])},null,8,["href","innerHTML","class"])):(i(),r("span",{key:1,innerHTML:s.label,class:"relative inline-flex items-center px-4 py-2 border text-sm font-medium cursor-not-allowed opacity-50 bg-white/5 border-white/10 text-white/50 rounded backdrop-blur-sm"},null,8,qe))],64))),128))])])])])])]),l.value?(i(),r("div",Ge,[e("div",Je,[e("div",We,[e("div",Xe,[e("h3",et," Log Details - "+o(l.value.action_label),1),e("button",{onClick:t[4]||(t[4]=s=>l.value=null),class:"text-white/70 hover:text-white transition-colors duration-150"},t[26]||(t[26]=[e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",tt,[e("div",st,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-white/70"},"Timestamp",-1)),e("p",ot,o(j(l.value.created_at)),1)]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-white/70"},"Action",-1)),e("p",lt,[e("span",{class:c(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border backdrop-blur-sm",l.value.action==="approved"?"bg-green-400/20 text-green-300 border-green-400/30":l.value.action==="rejected"?"bg-red-400/20 text-red-300 border-red-400/30":l.value.action==="submitted"||l.value.action==="resubmitted"?"bg-blue-400/20 text-blue-300 border-blue-400/30":"bg-gray-400/20 text-gray-300 border-gray-400/30"])},o(l.value.action_label),3)])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-white/70"},"User",-1)),e("p",it,[f(o((U=l.value.user)==null?void 0:U.first_name)+" "+o((z=l.value.user)==null?void 0:z.last_name)+" ",1),t[29]||(t[29]=e("br",null,null,-1)),e("span",rt,o((F=l.value.user)==null?void 0:F.email),1)])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-white/70"},"Approved by",-1)),e("p",dt,[l.value.admin?(i(),r("span",nt,o(l.value.admin.first_name)+" "+o(l.value.admin.last_name),1)):(i(),r("span",at,"System/Self-submission"))])])]),l.value.old_status?(i(),r("div",ut,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-white/70"},"Status Change",-1)),e("div",ct,[e("span",{class:c(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border backdrop-blur-sm",l.value.old_status==="approved"?"bg-green-400/20 text-green-300 border-green-400/30":l.value.old_status==="rejected"?"bg-red-400/20 text-red-300 border-red-400/30":l.value.old_status==="under_review"?"bg-blue-400/20 text-blue-300 border-blue-400/30":"bg-yellow-400/20 text-yellow-300 border-yellow-400/30"])},o(l.value.old_status.replace("_"," ")),3),t[32]||(t[32]=e("span",{class:"text-white/50"},"→",-1)),e("span",{class:c(["inline-flex items-center px-2 py-0.5 rounded text-xs font-medium border backdrop-blur-sm",l.value.new_status==="approved"?"bg-green-400/20 text-green-300 border-green-400/30":l.value.new_status==="rejected"?"bg-red-400/20 text-red-300 border-red-400/30":l.value.new_status==="under_review"?"bg-blue-400/20 text-blue-300 border-blue-400/30":"bg-yellow-400/20 text-yellow-300 border-yellow-400/30"])},o(l.value.new_status.replace("_"," ")),3)])])):u("",!0),l.value.documents_checked?(i(),r("div",mt,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-white/70"},"Documents Checked",-1)),e("div",bt,[(i(!0),r(v,null,k(l.value.documents_checked,(s,x)=>(i(),r("div",{key:x,class:"text-sm"},[e("span",{class:c(s?"text-green-400":"text-red-400")},o(s?"✓":"✗"),3),e("span",xt,o(x.replace("_"," ").replace(/([A-Z])/g," $1").toLowerCase()),1)]))),128))])])):u("",!0),l.value.reason?(i(),r("div",wt,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-white/70"},"Reason/Notes",-1)),e("p",pt,o(l.value.reason),1)])):u("",!0),e("div",ht,[e("div",null,[t[36]||(t[36]=e("label",{class:"block font-medium text-white/70"},"IP Address",-1)),e("p",null,o(l.value.ip_address||"N/A"),1)]),e("div",null,[t[37]||(t[37]=e("label",{class:"block font-medium text-white/70"},"User Agent",-1)),e("p",ft,o(l.value.user_agent||"N/A"),1)])])]),e("div",vt,[e("button",{onClick:t[5]||(t[5]=s=>l.value=null),class:"bg-white/10 hover:bg-white/20 text-white font-medium py-2 px-4 rounded-md border border-white/20 transition-all duration-200 backdrop-blur-sm shadow-glow"}," Close ")])])])])):u("",!0)])])]}),_:1}))}};export{Ct as default};
