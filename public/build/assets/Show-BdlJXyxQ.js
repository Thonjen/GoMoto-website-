import{a as A,o as n,w as a,b as e,d as s,u as r,S as h,e as v,f as d,i as b,t as l,n as S,F as B,h as j,l as V,Q as M}from"./app-BJob6Gt2.js";import{C as $}from"./CustomImageUploader-BVHm1WeK.js";import{i as H,v as N,u as U,n as D}from"./vue-leaflet.es-CgwutaKX.js";import"./leaflet-icon-fix-C744IXMS.js";import{O as F}from"./OwnerLayout-DCQ2ysSe.js";import{S as x}from"./sweetalert2.esm.all-ePrzfkxH.js";/* empty css                                                                            */import"./leaflet-src-CQxPF6Ph.js";import"./Header-BZAdlNjp.js";import"./Footer-B-Y8_Xin.js";const I={class:"mb-6"},Z={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},O={class:"hidden sm:flex gap-2 lg:gap-3 flex-wrap"},q={class:"sm:hidden mt-4 space-y-3"},G={class:"grid grid-cols-2 gap-2"},J={class:"space-y-6"},Q={class:"glass-card p-6 border border-white/20"},Y={class:"mb-4"},W={class:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-800 rounded-full text-sm font-medium"},K={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},R={class:"mt-1 text-sm text-white font-medium break-words"},X={class:"mt-1 text-sm text-white font-medium break-words"},_={class:"mt-1 text-sm text-white font-medium break-words"},ee={class:"mt-1 text-sm text-white font-medium"},te={class:"mt-1 text-sm text-white font-medium break-words"},oe={class:"mt-1 text-sm text-white font-medium break-words"},le={class:"mt-1 text-sm text-white font-medium break-words"},ie={class:"mt-1 text-sm text-white font-medium break-words"},se={class:"mt-1"},ne={key:0,class:"mt-4"},re={class:"mt-1 text-sm text-white"},de={key:0,class:"glass-card p-6 border border-white/20"},ae={class:"flex justify-center"},ce=["src"],me={key:1,class:"glass-card p-6 border border-white/20"},he={class:"mb-4"},ue={class:"mt-1 text-sm text-white"},be=["href"],ve={class:"h-72 rounded-lg overflow-hidden border border-white/20 shadow-glow"},xe={class:"mt-2 text-xs text-white/60"},fe={class:"glass-card p-6 border border-white/20"},ge={key:0,class:"mb-6"},we={class:"text-md font-medium text-white mb-3"},ke={class:"photos-grid grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},pe=["src","alt","onClick"],ye={class:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100"},Ce={class:"flex gap-2"},Be=["onClick"],je=["onClick"],Ve={class:"upload-section overflow-hidden"},Me={key:2,class:"glass-card p-4 md:p-6 border border-white/20"},Le={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4"},Pe={class:"flex justify-between items-center"},ze={class:"text-xs md:text-sm font-medium text-white/70 break-words"},Ee={class:"text-base md:text-lg font-bold text-green-400 ml-2"},Ze={__name:"Show",props:{vehicle:Object},setup(o){function L(m){x.fire({title:"Delete Photo?",text:"Are you sure you want to delete this photo? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#6b7280",confirmButtonText:"Yes, Delete It",cancelButtonText:"Cancel"}).then(t=>{t.isConfirmed&&M.delete(`/owner/vehicles/photos/${m}`,{onSuccess:()=>{x.fire({title:"Deleted!",text:"Photo has been deleted successfully.",icon:"success",confirmButtonColor:"#3b82f6"})},onError:()=>{x.fire({title:"Error!",text:"There was an error deleting the photo. Please try again.",icon:"error",confirmButtonColor:"#3b82f6"})}})})}function f(m){const t=document.createElement("div");t.className="photo-modal fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-75 p-4",t.innerHTML=`
    <div class="relative max-w-5xl max-h-full">
      <img src="${m}" class="max-w-full max-h-full object-contain rounded-lg shadow-2xl" alt="Vehicle photo preview" />
      <button class="absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center hover:bg-opacity-75 transition-colors text-xl font-bold">
        Ã—
      </button>
    </div>
  `,t.addEventListener("click",c=>{(c.target===t||c.target.textContent==="Ã—")&&(document.body.removeChild(t),document.body.style.overflow="auto")});const u=c=>{c.key==="Escape"&&(document.body.removeChild(t),document.body.style.overflow="auto",document.removeEventListener("keydown",u))};document.addEventListener("keydown",u),document.body.style.overflow="hidden",document.body.appendChild(t)}function P(){M.reload({only:["vehicle"]})}const z={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:[[125.48262478637525,9.756059051678463],[125.43127642703769,9.790933650321918],[125.43368935603019,9.824558654805614],[125.44164551553729,9.826558849930976],[125.50466480111874,9.787610886673647],[125.50694880274585,9.76500759737057],[125.48263246790816,9.756027787360921]],type:"Polygon"}}]},E=()=>({color:"#1976d2",weight:2,fill:!1}),T=[[9.770890164325817,125.47007455081837],[9.801207813887503,125.50083985667139]];return(m,t)=>(n(),A(F,null,{default:a(()=>{var u,c,g,w,k,p,y;return[e("div",I,[e("div",Z,[t[3]||(t[3]=e("h1",{class:"text-2xl md:text-3xl font-bold text-white"},"Vehicle Details",-1)),e("div",O,[s(r(h),{href:`/owner/vehicles/${o.vehicle.id}/edit`,class:"bg-blue-500/80 hover:bg-blue-500 text-white font-medium py-2 px-3 lg:px-4 rounded-md transition-all duration-200 inline-flex items-center backdrop-blur-sm border border-blue-400/30 text-sm lg:text-base whitespace-nowrap"},{default:a(()=>t[0]||(t[0]=[e("svg",{class:"w-4 h-4 mr-1 lg:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),e("span",{class:"hidden lg:inline"},"Edit Vehicle",-1),e("span",{class:"lg:hidden"},"Edit",-1)])),_:1,__:[0]},8,["href"]),s(r(h),{href:m.route("owner.vehicles.availability",o.vehicle.id),class:"bg-green-500/80 hover:bg-green-500 text-white font-medium py-2 px-3 lg:px-4 rounded-md transition-all duration-200 inline-flex items-center backdrop-blur-sm border border-green-400/30 text-sm lg:text-base whitespace-nowrap"},{default:a(()=>t[1]||(t[1]=[e("svg",{class:"w-4 h-4 mr-1 lg:mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),e("span",{class:"hidden lg:inline"},"Availability Calendar",-1),e("span",{class:"lg:hidden"},"Calendar",-1)])),_:1,__:[1]},8,["href"]),s(r(h),{href:"/owner/vehicles",class:"bg-white/20 hover:bg-white/30 text-white font-medium py-2 px-3 lg:px-4 rounded-md transition-all duration-200 backdrop-blur-sm border border-white/30 text-sm lg:text-base whitespace-nowrap"},{default:a(()=>t[2]||(t[2]=[e("span",{class:"hidden lg:inline"},"Back to List",-1),e("span",{class:"lg:hidden"},"Back",-1)])),_:1,__:[2]})])]),e("div",q,[e("div",G,[s(r(h),{href:`/owner/vehicles/${o.vehicle.id}/edit`,class:"bg-blue-500/80 hover:bg-blue-500 text-white font-medium py-3 px-4 rounded-md transition-all duration-200 flex items-center justify-center backdrop-blur-sm border border-blue-400/30 text-sm"},{default:a(()=>t[4]||(t[4]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),v(" Edit Vehicle ")])),_:1,__:[4]},8,["href"]),s(r(h),{href:"/owner/vehicles",class:"bg-white/20 hover:bg-white/30 text-white font-medium py-3 px-4 rounded-md transition-all duration-200 flex items-center justify-center backdrop-blur-sm border border-white/30 text-sm"},{default:a(()=>t[5]||(t[5]=[v(" Back to List ")])),_:1,__:[5]})]),s(r(h),{href:m.route("owner.vehicles.availability",o.vehicle.id),class:"bg-green-500/80 hover:bg-green-500 text-white font-medium py-3 px-4 rounded-md transition-all duration-200 flex items-center justify-center backdrop-blur-sm border border-green-400/30 text-sm w-full"},{default:a(()=>t[6]||(t[6]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),v(" Availability Calendar ")])),_:1,__:[6]},8,["href"])])]),e("div",J,[e("div",Q,[t[18]||(t[18]=e("h2",{class:"text-xl font-semibold mb-4 text-white"},"Basic Information",-1)),e("div",Y,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-white mb-2"},"Vehicle Category",-1)),e("div",W,l(((u=o.vehicle.type)==null?void 0:u.category)==="car"?"ðŸš— Car":"ðŸï¸ Motorcycle"),1)]),e("div",K,[e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium text-white"},"Make",-1)),e("p",R,l(((c=o.vehicle.make)==null?void 0:c.name)||"Unknown"),1)]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-white"},"Model",-1)),e("p",X,l(((g=o.vehicle.model)==null?void 0:g.name)||"Unknown"),1)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-medium text-white"},"Sub-Type",-1)),e("p",_,l(((w=o.vehicle.type)==null?void 0:w.sub_type)||"N/A"),1)]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-white"},"Year",-1)),e("p",ee,l(o.vehicle.year),1)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-white"},"Color",-1)),e("p",te,l(o.vehicle.color),1)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-white"},"License Plate",-1)),e("p",oe,l(o.vehicle.license_plate||"Not Set"),1)]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-white"},"Fuel Type",-1)),e("p",le,l(((k=o.vehicle.fuelType)==null?void 0:k.name)||((p=o.vehicle.fuel_type)==null?void 0:p.name)||"Unknown"),1)]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-white"},"Transmission",-1)),e("p",ie,l(((y=o.vehicle.transmission)==null?void 0:y.name)||"Unknown"),1)]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-white"},"Availability",-1)),e("div",se,[e("span",{class:S(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",o.vehicle.is_available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},l(o.vehicle.is_available?"Available":"Not Available"),3)])])]),o.vehicle.description?(n(),d("div",ne,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-white"},"Description",-1)),e("p",re,l(o.vehicle.description),1)])):b("",!0)]),o.vehicle.main_photo_url?(n(),d("div",de,[t[19]||(t[19]=e("h3",{class:"text-lg font-semibold mb-4 text-white"},"Main Photo",-1)),e("div",ae,[e("img",{src:o.vehicle.main_photo_url,class:"max-w-md w-full h-auto object-cover rounded-lg shadow-md border border-white/20",alt:"Vehicle main photo"},null,8,ce)])])):b("",!0),o.vehicle.lat&&o.vehicle.lng?(n(),d("div",me,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold mb-4 text-white"},"Vehicle Location",-1)),e("div",he,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-white/90"},"Address",-1)),e("p",ue,l(o.vehicle.location_name||"Unknown location"),1),e("a",{href:`https://www.google.com/maps?q=${o.vehicle.lat},${o.vehicle.lng}`,target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center mt-2 text-blue-400 hover:text-blue-300 text-sm font-medium transition-colors"},t[20]||(t[20]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-1M6 12h8m-8 6h8m2-6h4m-4 0V6a2 2 0 00-2-2h-4"})],-1),v(" View on Google Maps ")]),8,be)]),e("div",ve,[s(r(H),{style:{height:"100%"},zoom:16,center:[o.vehicle.lat,o.vehicle.lng],zoomControl:!1,scrollWheelZoom:!1,doubleClickZoom:!1,dragging:!1,maxBounds:T,minZoom:15,maxZoom:18},{default:a(()=>[s(r(N),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s(r(U),{"lat-lng":[o.vehicle.lat,o.vehicle.lng]},null,8,["lat-lng"]),s(r(D),{geojson:z,"options-style":E})]),_:1},8,["center"])]),e("div",xe," Coordinates: "+l(o.vehicle.lat)+", "+l(o.vehicle.lng),1)])):b("",!0),e("div",fe,[t[26]||(t[26]=e("h3",{class:"text-lg font-semibold mb-4 text-white"},"Additional Photos",-1)),o.vehicle.photos&&o.vehicle.photos.length>0?(n(),d("div",ge,[e("h4",we,"Current Photos ("+l(o.vehicle.photos.length)+")",1),e("div",ke,[(n(!0),d(B,null,j(o.vehicle.photos,i=>(n(),d("div",{key:i.id,class:"photo-container relative aspect-square bg-gray-800/50 rounded-lg overflow-hidden border border-white/20 shadow-glow group cursor-pointer"},[e("img",{src:i.url,alt:`Vehicle photo ${i.id}`,class:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",onClick:C=>f(i.url)},null,8,pe),e("div",ye,[e("div",Ce,[e("button",{onClick:V(C=>f(i.url),["stop"]),class:"bg-blue-500/80 hover:bg-blue-500 text-white p-2 rounded-full transition-colors backdrop-blur-sm",title:"View full size"},t[23]||(t[23]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,Be),e("button",{onClick:V(C=>L(i.id),["stop"]),class:"bg-red-500/80 hover:bg-red-500 text-white p-2 rounded-full transition-colors backdrop-blur-sm",title:"Delete photo"},t[24]||(t[24]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,je)])])]))),128))])])):b("",!0),e("div",Ve,[t[25]||(t[25]=e("h4",{class:"text-md font-medium text-white mb-3"},"Upload New Photos",-1)),s($,{multiple:!0,"vehicle-id":o.vehicle.id,"max-files":8,onFilesUploaded:P},null,8,["vehicle-id"])])]),o.vehicle.pricing_tiers&&o.vehicle.pricing_tiers.length>0?(n(),d("div",Me,[t[27]||(t[27]=e("h3",{class:"text-lg font-semibold mb-4 text-white"},"Pricing Tiers",-1)),e("div",Le,[(n(!0),d(B,null,j(o.vehicle.pricing_tiers,i=>(n(),d("div",{key:i.id,class:"bg-white/10 backdrop-blur-sm p-3 md:p-4 rounded-lg border border-white/20 shadow-glow"},[e("div",Pe,[e("div",null,[e("span",ze,l(i.duration_from)+" "+l(i.duration_from===1?i.duration_unit.slice(0,-1):i.duration_unit),1)]),e("div",Ee," â‚±"+l(i.price),1)])]))),128))])])):b("",!0)])]}),_:1}))}};export{Ze as default};
