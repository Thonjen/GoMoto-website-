import{_ as D,p as B,r as b,c as P,a as y,o as a,w as p,b as e,d as u,u as n,S as f,e as l,f as v,i as x,t as s,n as S,g as E,k as j,Q as T}from"./app-D5PUyAMe.js";import{A as U}from"./AppLayout-DuAcd7ag.js";import{C as $}from"./cloud-upload-J3Q5g2g1.js";import{C as R}from"./clock-BX-MwDeQ.js";import{S as V}from"./star-BFcB2k8t.js";import{c as H}from"./createLucideIcon-B4NPXSPX.js";import"./Footer-DI0umZVU.js";import"./car-C0_l2Y9f.js";/**
 * @license lucide-vue-next v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h=H("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),I={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},L={class:"md:col-span-1 bg-white p-6 rounded-lg shadow-md h-fit"},M={class:"flex flex-col gap-2"},z={class:"md:col-span-3 bg-white p-6 rounded-lg shadow-md"},N={class:"text-3xl font-bold text-gray-800 mb-6"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8"},O={class:"bg-gray-50 p-4 rounded-md"},J=["src","alt"],Q={class:"text-xl font-semibold text-gray-800"},Y={class:"text-gray-600"},q={class:"text-primary-600 font-bold mt-2"},F={class:"bg-gray-50 p-4 rounded-md"},X={class:"flex items-center gap-4 mb-4"},G=["src"],K={class:"font-semibold text-gray-800"},W={class:"text-sm text-gray-600"},Z={class:"text-gray-700"},ee={class:"text-gray-700"},te={class:"bg-gray-50 p-6 rounded-md mb-8"},oe={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-gray-700"},se={class:"font-bold text-primary-600"},le={class:"mt-4"},ne={class:"text-gray-700 italic"},ae={class:"flex flex-col sm:flex-row gap-4"},re={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ie={class:"bg-white rounded-lg p-6 w-full max-w-md mx-4"},de={class:"flex justify-between items-center mb-4"},ue={class:"space-y-4"},me={class:"text-sm text-gray-600 mb-2"},ge={value:"1"},ce={value:"2"},pe={value:"4"},ve={value:"6"},xe={value:"12"},be={value:"24"},fe={class:"bg-blue-50 border border-blue-200 rounded-md p-3"},ye={class:"text-sm text-blue-800"},he={class:"flex justify-end space-x-3 mt-6"},we=["disabled"],ke={key:0},_e={key:1},Ce={__name:"BookingDetail",setup(De){const w=B().props.id||1,m=b(!1),r=b(2),g=b(!1),o=b({id:w,vehicle:{id:101,name:"Toyota Camry 2022",location:"Manila",pricePerDay:1800,imageUrl:"/placeholder.svg?height=192&width=256"},owner:{name:"Juan Dela Cruz",email:"juan.d@example.com",phone:"09171234567",memberSince:"January 2023",avatarUrl:"/placeholder.svg?height=64&width=64"},pickupDate:"2025-07-20",returnDate:"2025-07-25",totalDays:5,totalPrice:9e3,message:"Looking forward to renting your car for my trip next week!",status:"Confirmed",hasReviewed:!1,pricePerHour:75}),k=P(()=>{if(o.value.status!=="Confirmed")return!1;const d=new Date(o.value.returnDate),t=new Date;return(d.getTime()-t.getTime())/(1e3*60*60)<=24}),i=d=>(d*o.value.pricePerHour).toLocaleString(),_=()=>{g.value=!0,T.post(`/bookings/${o.value.id}/extend`,{extend_hours:r.value},{onSuccess:d=>{m.value=!1,g.value=!1;const t=new Date(o.value.returnDate);t.setHours(t.getHours()+parseInt(r.value)),o.value.returnDate=t.toISOString().split("T")[0],o.value.totalPrice+=parseInt(r.value)*o.value.pricePerHour,alert(`Booking successfully extended by ${r.value} hours!`)},onError:d=>{g.value=!1,alert("Failed to extend booking. Please try again."),console.error(d)}})},C=()=>{confirm("Are you sure you want to cancel this booking? This action cannot be undone.")&&(o.value.status="Cancelled",alert("Booking cancelled! (Not actually updated in this demo)"))};return(d,t)=>(a(),y(U,null,{default:p(()=>[e("div",I,[e("aside",L,[t[5]||(t[5]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"Renter Tools",-1)),e("nav",M,[u(n(f),{href:"/my-bookings",class:"text-primary-600 font-medium hover:underline"},{default:p(()=>t[4]||(t[4]=[l("My Bookings")])),_:1,__:[4]})])]),e("div",z,[e("h1",N,"Booking Details #"+s(o.value.id),1),e("div",A,[e("div",null,[t[7]||(t[7]=e("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Vehicle Details",-1)),e("div",O,[e("img",{src:o.value.vehicle.imageUrl,alt:o.value.vehicle.name,class:"w-full h-48 object-cover rounded-md mb-4"},null,8,J),e("p",Q,s(o.value.vehicle.name),1),e("p",Y,s(o.value.vehicle.location),1),e("p",q,"$"+s(o.value.vehicle.pricePerDay)+"/day",1),u(n(f),{href:`/vehicles/${o.value.vehicle.id}`,class:"text-sm text-primary-600 hover:underline mt-2 inline-block"},{default:p(()=>t[6]||(t[6]=[l("View Vehicle Page")])),_:1,__:[6]},8,["href"])])]),e("div",null,[t[10]||(t[10]=e("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Owner Details",-1)),e("div",F,[e("div",X,[e("img",{src:o.value.owner.avatarUrl,alt:"Owner Avatar",class:"w-16 h-16 rounded-full object-cover"},null,8,G),e("div",null,[e("p",K,s(o.value.owner.name),1),e("p",W,s(o.value.owner.email),1)])]),e("p",Z,[t[8]||(t[8]=e("strong",null,"Contact:",-1)),l(" "+s(o.value.owner.phone),1)]),e("p",ee,[t[9]||(t[9]=e("strong",null,"Member Since:",-1)),l(" "+s(o.value.owner.memberSince),1)])])])]),t[28]||(t[28]=e("h2",{class:"text-2xl font-semibold text-gray-800 mb-4"},"Booking Summary",-1)),e("div",te,[e("div",oe,[e("div",null,[e("p",null,[t[11]||(t[11]=e("strong",null,"Pickup Date:",-1)),l(" "+s(o.value.pickupDate),1)]),e("p",null,[t[12]||(t[12]=e("strong",null,"Return Date:",-1)),l(" "+s(o.value.returnDate),1)]),e("p",null,[t[13]||(t[13]=e("strong",null,"Total Days:",-1)),l(" "+s(o.value.totalDays),1)])]),e("div",null,[e("p",null,[t[14]||(t[14]=e("strong",null,"Total Price:",-1)),t[15]||(t[15]=l()),e("span",se,"₱"+s(o.value.totalPrice.toLocaleString()),1)]),e("p",null,[t[16]||(t[16]=e("strong",null,"Status:",-1)),e("span",{class:S(["px-3 py-1 rounded-full text-xs font-medium ml-2",o.value.status==="Pending"?"bg-yellow-100 text-yellow-800":o.value.status==="Confirmed"?"bg-green-100 text-green-800":o.value.status==="Completed"?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"])},s(o.value.status),3)])])]),e("div",le,[t[17]||(t[17]=e("p",{class:"font-semibold text-gray-800"},"Your Message to Owner:",-1)),e("p",ne,'"'+s(o.value.message)+'"',1)])]),e("div",ae,[o.value.status==="Confirmed"?(a(),y(n(f),{key:0,href:`/my-bookings/${o.value.id}/receipt`,class:"bg-primary-600 text-white px-6 py-3 rounded-md font-semibold hover:bg-primary-700 transition-colors flex items-center justify-center gap-2"},{default:p(()=>[u(n($),{class:"h-5 w-5"}),t[18]||(t[18]=l(" Upload Proof of Payment "))]),_:1,__:[18]},8,["href"])):x("",!0),o.value.status==="Confirmed"&&k.value?(a(),v("button",{key:1,onClick:t[0]||(t[0]=c=>m.value=!0),class:"bg-green-600 text-white px-6 py-3 rounded-md font-semibold hover:bg-green-700 transition-colors flex items-center justify-center gap-2"},[u(n(R),{class:"h-5 w-5"}),t[19]||(t[19]=l(" Extend Booking "))])):x("",!0),o.value.status==="Completed"&&!o.value.hasReviewed?(a(),y(n(f),{key:2,href:`/my-bookings/${o.value.id}/review`,class:"bg-blue-600 text-white px-6 py-3 rounded-md font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2"},{default:p(()=>[u(n(V),{class:"h-5 w-5"}),t[20]||(t[20]=l(" Leave Review "))]),_:1,__:[20]},8,["href"])):x("",!0),o.value.status==="Pending"?(a(),v("button",{key:3,onClick:C,class:"bg-red-600 text-white px-6 py-3 rounded-md font-semibold hover:bg-red-700 transition-colors flex items-center justify-center gap-2"},[u(n(h),{class:"h-5 w-5"}),t[21]||(t[21]=l(" Cancel Booking "))])):x("",!0)]),m.value?(a(),v("div",re,[e("div",ie,[e("div",de,[t[22]||(t[22]=e("h3",{class:"text-lg font-semibold text-gray-800"},"Extend Your Booking",-1)),e("button",{onClick:t[1]||(t[1]=c=>m.value=!1),class:"text-gray-400 hover:text-gray-600"},[u(n(h),{class:"h-6 w-6"})])]),e("div",ue,[e("div",null,[e("p",me,[t[23]||(t[23]=l(" Current return date: ")),e("strong",null,s(o.value.returnDate),1)]),t[24]||(t[24]=e("p",{class:"text-sm text-gray-600 mb-4"}," Extend your booking to avoid overcharges if you need more time. ",-1))]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Extend by how many hours? ",-1)),E(e("select",{"onUpdate:modelValue":t[2]||(t[2]=c=>r.value=c),class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},[e("option",ge,"1 hour (₱"+s(i(1))+")",1),e("option",ce,"2 hours (₱"+s(i(2))+")",1),e("option",pe,"4 hours (₱"+s(i(4))+")",1),e("option",ve,"6 hours (₱"+s(i(6))+")",1),e("option",xe,"12 hours (₱"+s(i(12))+")",1),e("option",be,"24 hours (₱"+s(i(24))+")",1)],512),[[j,r.value]])]),e("div",fe,[e("p",ye,[t[26]||(t[26]=e("strong",null,"Extension Cost:",-1)),l(" ₱"+s(i(r.value)),1)]),t[27]||(t[27]=e("p",{class:"text-xs text-blue-600 mt-1"}," This will be added to your total booking cost. ",-1))])]),e("div",he,[e("button",{onClick:t[3]||(t[3]=c=>m.value=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800 font-medium"}," Cancel "),e("button",{onClick:_,disabled:g.value,class:"px-6 py-2 bg-green-600 text-white rounded-md font-semibold hover:bg-green-700 transition-colors disabled:opacity-50"},[g.value?(a(),v("span",ke,"Extending...")):(a(),v("span",_e,"Extend Booking"))],8,we)])])])):x("",!0)])])]),_:1}))}},Ve=D(Ce,[["__scopeId","data-v-cf55a2b7"]]);export{Ve as default};
