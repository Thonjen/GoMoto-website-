import{j as pe,r as u,c as me,q as be,M as ge,f as n,o as a,d as f,i as _,w as F,b as t,l as X,t as d,g as p,F as w,h as x,k as j,n as Z,e as g,v as C,B as ee,u as S,S as te,Q as he}from"./app-Bp2smfCm.js";import{O as ve}from"./OwnerLayout-CIxJgbS-.js";import{i as fe,v as we,u as xe,n as ye}from"./vue-leaflet.es-ChQYoYNx.js";import"./leaflet-icon-fix-UCOAst6i.js";import{C as ke}from"./CustomImageUploader-CpZMBOS5.js";import{t as _e}from"./throttle-Dasc37Bf.js";import"./Header-fek8bTNe.js";import"./Footer-BrurEhWM.js";import"./leaflet-src-BZIFbFto.js";/* empty css                                                                            */const Ce={class:"glass-card-dark p-6 rounded-lg shadow-glow max-w-4xl mx-auto"},Se={class:"w-full p-3 bg-white/10 border border-white/20 rounded-md text-white font-medium backdrop-blur-sm"},Ve={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Me=["value"],Pe=["disabled"],Te=["value"],Ue={key:0,class:"text-xs text-white/60 mt-1"},Le={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},je=["value"],ze={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},Ne=["value"],$e={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4"},Fe=["value"],qe=["placeholder"],Ae={key:0},Ee={key:1},Oe={class:"flex items-center"},Re={class:"main-photo-section border border-white/20 rounded-lg p-6 bg-white/5 backdrop-blur-sm shadow-glow space-y-4"},Be={key:0,class:"current-photo-display"},Ge={class:"flex items-start gap-4"},De={class:"relative group"},Ie=["src"],Ye={class:"photo-uploader-wrapper"},Je={class:"border border-white/20 rounded-lg p-4 bg-white/5 backdrop-blur-sm shadow-glow space-y-4"},He={class:"flex items-center justify-between"},Qe=["disabled"],We={key:0,class:"mt-2 bg-white border rounded-md shadow-lg max-h-40 overflow-y-auto"},Ke=["onClick"],Xe={class:"text-sm font-medium"},Ze={class:"text-xs text-gray-600"},et={class:"h-72 rounded overflow-hidden border shadow"},tt={class:"space-y-2 text-sm bg-white p-4 rounded shadow-inner border"},ot=["title"],lt={class:"text-gray-600"},it={class:"flex items-center gap-2"},st=["href"],nt={class:"border-t pt-6"},at={class:"flex items-center justify-between mb-4"},rt=["disabled"],dt={key:0},ut={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},ct=["value"],pt={class:"font-medium text-white"},mt={class:"text-sm white"},bt={key:1,class:"text-sm text-gray-500"},gt={key:2,class:"text-sm text-gray-500"},ht={class:"text-sm text-gray-300 mt-2"},vt={class:"border-t pt-6 flex space-x-4"},ft=["disabled"],wt={class:"glass-card-dark max-w-md w-full rounded-lg border border-white/20 shadow-glow"},xt={class:"p-5 border-b border-white/10 flex items-center justify-between"},yt={class:"p-5 text-white/90 space-y-3"},kt={class:"p-5 pt-0 flex justify-end gap-2"},Nt={__name:"Edit",props:{vehicle:Object,makes:Array,models:Array,types:Array,fuelTypes:Array,transmissions:Array},setup(m){const s=m,o=pe({make_id:s.vehicle.make_id,model_id:s.vehicle.model_id,type_id:s.vehicle.type_id,fuel_type_id:s.vehicle.fuel_type_id,transmission_id:s.vehicle.transmission_id,license_plate:s.vehicle.license_plate,year:s.vehicle.year,color:s.vehicle.color,engine_size:s.vehicle.engine_size??"",horsepower:s.vehicle.horsepower??"",doors:s.vehicle.doors??"",seats:s.vehicle.seats??"",description:s.vehicle.description,is_available:s.vehicle.is_available,main_photo_url:s.vehicle.main_photo_url,lat:s.vehicle.lat??9.785903415098108,lng:s.vehicle.lng??125.49062330098809,location_name:s.vehicle.location_name}),oe=u(s.makes||[]),V=u(s.models||[]),q=u([]),A=u((s.vehicle.pricing_tiers||[]).map(l=>l.id)),z=u(!1),N=u(!1),y=u(!1),E=u(null);u(null);const M=u(!1),h=u(!1),v=u("Your current location appears to be outside the supported service area."),P=u(""),T=u([]),le=me(()=>{var e,r;const l=(r=(e=s.vehicle)==null?void 0:e.type)==null?void 0:r.category;return l?(s.types||[]).filter(b=>b.category===l):s.types||[]}),O=_e(async()=>{if(o.lat&&o.lng&&!o.location_name)try{const e=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${o.lat}&lon=${o.lng}`)).json();o.location_name=e.display_name||""}catch(l){console.error("Failed to get location name:",l)}},1e3);let D=null;function ie(){if(clearTimeout(D),!P.value){T.value=[];return}D=setTimeout(async()=>{const e=`https://photon.komoot.io/api/?q=${encodeURIComponent(P.value)}&limit=5&bbox=125.25,9.77,125.50,9.80`;try{const b=await(await fetch(e)).json();T.value=b.features||[]}catch(r){console.error("Search failed:",r)}},300)}function se(l){o.lat=l.geometry.coordinates[1],o.lng=l.geometry.coordinates[0],P.value=l.properties.name+(l.properties.city?", "+l.properties.city:"")+(l.properties.country?", "+l.properties.country:""),T.value=[]}function ne(l){E.value=l}function ae(l){const e=l.latlng.lat,r=l.latlng.lng;if(!Y(e,r)){v.value="You can only place markers within the Surigao del Norte service area. Please click inside the highlighted boundary.",h.value=!0;return}o.lat=e,o.lng=r}function I(l,e=4){return l==null||isNaN(l)?"â€”":Number(l).toFixed(e)}function Y(l,e){var r,b,U,L;try{const c=(L=(U=(b=(r=Q.features)==null?void 0:r[0])==null?void 0:b.geometry)==null?void 0:U.coordinates)==null?void 0:L[0];if(!c||!Array.isArray(c))return!1;const i=e,k=l;let R=!1;for(let $=0,B=c.length-1;$<c.length;B=$++){const W=c[$][0],G=c[$][1],ce=c[B][0],K=c[B][1];G>k!=K>k&&i<(ce-W)*(k-G)/(K-G)+W&&(R=!R)}return R}catch(c){return console.error("Error checking if point is within city:",c),!1}}function re(){if(!("geolocation"in navigator)){v.value="Geolocation is not supported by your browser. Please set the location manually on the map.",h.value=!0;return}M.value=!0,navigator.geolocation.getCurrentPosition(l=>{M.value=!1;const{latitude:e,longitude:r}=l.coords;Y(e,r)?(o.lat=e,o.lng=r,O()):(v.value="Your current location is outside Surigao del Norte city bounds. Please pick a valid location within the highlighted area.",h.value=!0)},l=>{M.value=!1,l.code===1?v.value="Permission to access location was denied. You can enable it in your browser settings or set the location manually.":l.code===2?v.value="Position unavailable. Please try again or set the location manually.":l.code===3?v.value="Location request timed out. Please try again or set the location manually.":v.value="Unable to get your current location. Please set the location manually.",h.value=!0},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}async function J(){if(!o.make_id){o.model_id="",V.value=[];return}z.value=!0;try{const e=await(await fetch(`/api/vehicle-data/models/${o.make_id}`)).json();V.value=e||[],V.value.some(r=>r.id===o.model_id)||(o.model_id="")}catch(l){console.error("Failed to load models:",l),V.value=[],o.model_id=""}finally{z.value=!1}}async function H(){y.value=!0;try{const l=await fetch("/owner/pricing-tiers/list");if(l.ok){const e=await l.json();q.value=e.pricingTiers||[]}}catch(l){console.error("Failed to load pricing tiers:",l)}finally{y.value=!1}}be(async()=>{await H(),o.make_id&&await J()});async function de(){N.value=!0,await O();const l=new FormData;l.append("make_id",o.make_id),l.append("model_id",o.model_id),l.append("type_id",o.type_id),l.append("fuel_type_id",o.fuel_type_id),l.append("transmission_id",o.transmission_id),l.append("license_plate",o.license_plate||""),l.append("year",o.year),l.append("color",o.color),o.engine_size!==void 0&&o.engine_size!==null&&l.append("engine_size",o.engine_size),o.horsepower!==void 0&&o.horsepower!==null&&o.horsepower!==""&&l.append("horsepower",o.horsepower),o.doors!==void 0&&o.doors!==null&&o.doors!==""&&l.append("doors",o.doors),o.seats!==void 0&&o.seats!==null&&o.seats!==""&&l.append("seats",o.seats),l.append("description",o.description||""),l.append("is_available",o.is_available?"1":"0"),l.append("lat",o.lat),l.append("lng",o.lng),l.append("location_name",o.location_name||""),E.value&&l.append("main_photo",E.value),l.append("_method","PUT"),l.append("pricing_tier_ids",JSON.stringify(A.value)),he.post(`/owner/vehicles/${s.vehicle.id}`,l,{onFinish:()=>{N.value=!1},onSuccess:()=>{},onError:e=>{console.error("Update failed:",e)}})}const Q={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:[[[125.48262478637525,9.756059051678463],[125.43127642703769,9.790933650321918],[125.43368935603019,9.824558654805614],[125.44164551553729,9.826558849930976],[125.50466480111874,9.787610886673647],[125.50694880274585,9.76500759737057],[125.48263246790816,9.756027787360921],[125.48262478637525,9.756059051678463]]],type:"Polygon"}}]},ue=()=>({color:"#1976d2",weight:2,fill:!1});return ge(()=>[o.lat,o.lng],()=>{O()}),(l,e)=>(a(),n(w,null,[f(ve,null,{default:F(()=>{var r,b,U,L,c;return[t("div",Ce,[e[55]||(e[55]=t("h1",{class:"text-3xl font-bold text-white mb-6"},"Edit Vehicle",-1)),t("form",{onSubmit:X(de,["prevent"]),class:"space-y-6"},[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Vehicle Category",-1)),t("div",Se,d(((r=m.vehicle.type)==null?void 0:r.category)==="car"?"ðŸš— Car":"ðŸï¸ Motorcycle"),1),e[17]||(e[17]=t("p",{class:"text-xs text-white/70 mt-1"}," Vehicle category cannot be changed after creation ",-1))]),e[53]||(e[53]=t("h3",{class:"text-lg font-semibold text-white pt-2"},"Vehicle Details",-1)),t("div",Ve,[t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Make *",-1)),p(t("select",{"onUpdate:modelValue":e[0]||(e[0]=i=>o.make_id=i),onChange:J,class:"w-full p-3 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},[e[18]||(e[18]=t("option",{value:"",class:"bg-black/80 text-white"},"Select Make",-1)),(a(!0),n(w,null,x(oe.value,i=>(a(),n("option",{key:i.id,value:i.id,class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20"},d(i.name),9,Me))),128))],544),[[j,o.make_id]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Model *",-1)),p(t("select",{"onUpdate:modelValue":e[1]||(e[1]=i=>o.model_id=i),disabled:!o.make_id||z.value,class:"w-full p-3 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400 disabled:opacity-60",required:""},[e[20]||(e[20]=t("option",{value:"",class:"bg-black/80 text-white"},"Select Model",-1)),(a(!0),n(w,null,x(V.value,i=>(a(),n("option",{key:i.id,value:i.id,class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20"},d(i.name),9,Te))),128))],8,Pe),[[j,o.model_id]]),z.value?(a(),n("p",Ue,"Loading modelsâ€¦")):_("",!0)])]),t("div",Le,[t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Transmission *",-1)),p(t("select",{"onUpdate:modelValue":e[2]||(e[2]=i=>o.transmission_id=i),class:"w-full p-3 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},[e[22]||(e[22]=t("option",{value:"",class:"bg-black/80 text-white"},"Select Transmission",-1)),(a(!0),n(w,null,x(m.transmissions,i=>(a(),n("option",{key:i.id,value:i.id,class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20"},d(i.name),9,je))),128))],512),[[j,o.transmission_id]])])]),t("div",ze,[t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Fuel Type *",-1)),p(t("select",{"onUpdate:modelValue":e[3]||(e[3]=i=>o.fuel_type_id=i),class:"w-full p-3 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},[e[24]||(e[24]=t("option",{value:"",class:"bg-black/80 text-white"},"Select Fuel Type",-1)),(a(!0),n(w,null,x(m.fuelTypes,i=>(a(),n("option",{key:i.id,value:i.id,class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20"},d(i.name),9,Ne))),128))],512),[[j,o.fuel_type_id]])])]),t("div",$e,[t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Vehicle Sub-Type *",-1)),p(t("select",{"onUpdate:modelValue":e[4]||(e[4]=i=>o.type_id=i),class:"w-full p-3 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},[e[26]||(e[26]=t("option",{value:"",class:"bg-black/80 text-white"},"Select Sub-Type",-1)),(a(!0),n(w,null,x(le.value,i=>(a(),n("option",{key:i.id,value:i.id,class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20"},d(i.sub_type),9,Fe))),128))],512),[[j,o.type_id]])])]),e[54]||(e[54]=t("h3",{class:"text-lg font-semibold text-white pt-2"},"Specifications",-1)),t("div",{class:Z(["grid gap-4",((b=m.vehicle.type)==null?void 0:b.category)==="car"?"grid-cols-1 md:grid-cols-4":"grid-cols-1 md:grid-cols-2"])},[t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-white mb-1"},[g(" Engine Size "),t("span",{class:"text-white/60 text-xs"},"(optional)")],-1)),p(t("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>o.engine_size=i),type:"text",inputmode:"decimal",class:"w-full p-3 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400 placeholder-white/50",placeholder:((U=m.vehicle.type)==null?void 0:U.category)==="car"?"e.g., 2.0L":"e.g., 155cc"},null,8,qe),[[C,o.engine_size]])]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Horsepower",-1)),p(t("input",{"onUpdate:modelValue":e[6]||(e[6]=i=>o.horsepower=i),type:"number",min:"0",class:"w-full p-3 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400 placeholder-white/50",placeholder:"e.g., 150"},null,512),[[C,o.horsepower]])]),((L=m.vehicle.type)==null?void 0:L.category)==="car"?(a(),n("div",Ae,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Doors",-1)),p(t("input",{"onUpdate:modelValue":e[7]||(e[7]=i=>o.doors=i),type:"number",min:"1",max:"6",class:"w-full p-3 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400 placeholder-white/50",placeholder:"e.g., 4"},null,512),[[C,o.doors]])])):_("",!0),((c=m.vehicle.type)==null?void 0:c.category)==="car"?(a(),n("div",Ee,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Seats",-1)),p(t("input",{"onUpdate:modelValue":e[8]||(e[8]=i=>o.seats=i),type:"number",min:"1",max:"15",class:"w-full p-3 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400 placeholder-white/50",placeholder:"e.g., 5"},null,512),[[C,o.seats]])])):_("",!0)],2),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Description",-1)),p(t("textarea",{"onUpdate:modelValue":e[9]||(e[9]=i=>o.description=i),rows:"3",class:"w-full p-3 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400 placeholder-white/50",placeholder:"Optional description of your vehicle"},null,512),[[C,o.description]])]),t("div",Oe,[p(t("input",{"onUpdate:modelValue":e[10]||(e[10]=i=>o.is_available=i),type:"checkbox",id:"is_available",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,o.is_available]]),e[33]||(e[33]=t("label",{for:"is_available",class:"ml-2 block text-sm text-white"}," Vehicle is available for rental ",-1))]),t("div",Re,[e[37]||(e[37]=t("div",{class:"flex items-center justify-between"},[t("h3",{class:"text-lg font-semibold text-white"},"Main Vehicle Photo"),t("span",{class:"text-xs text-white/60 bg-white/10 px-2 py-1 rounded-full"},"Required")],-1)),o.main_photo_url?(a(),n("div",Be,[t("div",Ge,[t("div",De,[t("img",{src:o.main_photo_url,alt:"Current main photo",class:"w-32 h-24 sm:w-48 sm:h-32 object-cover rounded-lg border border-white/20 shadow-md transition-transform group-hover:scale-105"},null,8,Ie),e[34]||(e[34]=t("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100"},[t("span",{class:"text-white text-sm font-medium"},"Current Photo")],-1))]),e[35]||(e[35]=t("div",{class:"flex-1"},[t("p",{class:"text-sm font-medium text-white/90 mb-1"},"Current Main Photo"),t("p",{class:"text-xs text-white/60 mb-3"},"This is the main image renters will see first"),t("div",{class:"inline-flex items-center gap-2 text-xs text-green-400"},[t("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),g(" Photo uploaded ")])],-1))]),e[36]||(e[36]=t("div",{class:"mt-4 p-3 bg-blue-500/10 border border-blue-400/20 rounded-lg"},[t("p",{class:"text-xs text-blue-200"},[t("span",{class:"font-medium"},"Replace photo:"),g(" Upload a new photo below to replace the current main photo. The new photo will be automatically optimized for best performance. ")])],-1))])):_("",!0),t("div",Ye,[f(ke,{multiple:!1,onFileSelected:ne})]),e[38]||(e[38]=t("div",{class:"photo-guidelines bg-white/5 border border-white/10 rounded-lg p-4"},[t("h4",{class:"text-sm font-medium text-white mb-2"},"ðŸ“¸ Photo Guidelines"),t("ul",{class:"text-xs text-white/70 space-y-1"},[t("li",null,"â€¢ Use high-quality, well-lit photos"),t("li",null,"â€¢ Show the vehicle's exterior clearly"),t("li",null,"â€¢ Avoid blurry or dark images"),t("li",null,"â€¢ Recommended size: 1200x800px"),t("li",null,"â€¢ Supported formats: JPEG, PNG, WebP")])],-1))]),t("div",Je,[e[45]||(e[45]=t("h3",{class:"text-lg font-semibold text-white"}," Vehicle Location ",-1)),t("div",He,[e[40]||(e[40]=t("p",{class:"text-xs sm:text-sm text-white/70"},"Tip: Click on the map to set location manually.",-1)),t("button",{type:"button",onClick:re,disabled:M.value,class:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-white/20 bg-white/10 text-white hover:bg-white/15 disabled:opacity-50 disabled:cursor-not-allowed"},[e[39]||(e[39]=t("svg",{class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),g(" "+d(M.value?"Locatingâ€¦":"Use my current location"),1)],8,Qe)]),t("div",null,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Search Location",-1)),p(t("input",{"onUpdate:modelValue":e[11]||(e[11]=i=>P.value=i),onInput:ie,type:"text",placeholder:"Search for a location in Surigao del Norte",class:"w-full p-2 border border-white/20 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white/10 text-white backdrop-blur-sm placeholder-white/50"},null,544),[[C,P.value]]),T.value.length>0?(a(),n("div",We,[(a(!0),n(w,null,x(T.value,i=>(a(),n("div",{key:i.properties.osm_id,onClick:k=>se(i),class:"p-2 hover:bg-gray-100 cursor-pointer border-b last:border-b-0"},[t("div",Xe,d(i.properties.name),1),t("div",Ze,d(i.properties.city)+", "+d(i.properties.country),1)],8,Ke))),128))])):_("",!0)]),t("div",et,[f(S(fe),{style:{height:"100%"},zoom:16,center:[o.lat,o.lng],useGlobalLeaflet:!0,onClick:ae},{default:F(()=>[f(S(we),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),f(S(xe),{"lat-lng":[o.lat,o.lng]},null,8,["lat-lng"]),f(S(ye),{geojson:Q,"options-style":ue})]),_:1},8,["center"])]),t("div",tt,[t("div",null,[e[42]||(e[42]=t("span",{class:"font-medium text-gray-700"},"Coordinates:",-1)),t("span",{class:"text-gray-600",title:`Lat ${o.lat}, Lng ${o.lng}`},"Lat "+d(I(o.lat))+", Lng "+d(I(o.lng)),9,ot)]),t("div",null,[e[43]||(e[43]=t("span",{class:"font-medium text-gray-700"},"Location:",-1)),t("span",lt,d(o.location_name||"â€”"),1)]),t("div",it,[e[44]||(e[44]=t("span",{class:"font-medium text-gray-700"},"Map Link:",-1)),t("a",{href:`https://www.google.com/maps?q=${o.lat},${o.lng}`,target:"_blank",class:"text-blue-600 hover:text-blue-800 underline"}," View on Google Maps ",8,st)])])]),t("div",nt,[t("div",at,[e[47]||(e[47]=t("h3",{class:"text-lg text-white font-semibold"}," Pricing ",-1)),t("button",{type:"button",onClick:H,disabled:y.value,class:"text-white flex items-center px-3 py-1 text-sm text-blue-600 hover:text-blue-800 border border-blue-300 hover:border-blue-400 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[(a(),n("svg",{class:Z(["w-4 h-4 mr-1",{"animate-spin":y.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[46]||(e[46]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]),2)),g(" "+d(y.value?"Refreshing...":"Refresh"),1)],8,rt)]),q.value.length>0?(a(),n("div",dt,[e[48]||(e[48]=t("p",{class:"text-sm text-gray-600 mb-3 text-white"}," Select pricing tiers for this vehicle: ",-1)),t("div",ut,[(a(!0),n(w,null,x(q.value,i=>(a(),n("label",{key:i.id,class:"flex text-white items-center p-3 border rounded-md cursor-pointer hover:bg-gray-500"},[p(t("input",{type:"checkbox",value:i.id,"onUpdate:modelValue":e[12]||(e[12]=k=>A.value=k),class:"mr-3 h-4 w-4 text-blue-600"},null,8,ct),[[ee,A.value]]),t("div",null,[t("div",pt,d(i.duration_from)+" "+d(i.duration_unit),1),t("div",mt," â‚±"+d(i.price),1)])]))),128))])])):y.value?(a(),n("div",bt," Loading pricing tiers... ")):(a(),n("div",gt," No pricing tiers available. ")),t("p",ht,[e[50]||(e[50]=g(" You can manage pricing tiers in the ")),f(S(te),{href:"/owner/pricing-tiers",class:"text-blue-600 underline"},{default:F(()=>e[49]||(e[49]=[g("pricing management")])),_:1,__:[49]}),e[51]||(e[51]=g(" section. "))])]),t("div",vt,[t("button",{type:"submit",disabled:N.value,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium py-3 px-6 rounded-md transition-colors"},d(N.value?"Updating Vehicle...":"Update Vehicle"),9,ft),f(S(te),{href:`/owner/vehicles/${m.vehicle.id}`,class:"bg-gray-500 hover:bg-gray-600 text-white font-medium py-3 px-6 rounded-md transition-colors"},{default:F(()=>e[52]||(e[52]=[g(" Cancel ")])),_:1,__:[52]},8,["href"])])],32)])]}),_:1}),h.value?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",onClick:e[15]||(e[15]=X(r=>h.value=!1,["self"]))},[t("div",wt,[t("div",xt,[e[56]||(e[56]=t("h3",{class:"text-white font-semibold"},"Location Notice",-1)),t("button",{class:"text-white/70 hover:text-white",onClick:e[13]||(e[13]=r=>h.value=!1)}," âœ• ")]),t("div",yt,[t("p",null,d(v.value),1),e[57]||(e[57]=t("ul",{class:"list-disc list-inside text-white/70 text-sm space-y-1"},[t("li",null," Ensure location services are enabled and grant permission. "),t("li",null," If you are outside Surigao del Norte city limits, pick a valid in-city meeting point manually. ")],-1))]),t("div",kt,[t("button",{class:"px-4 py-2 rounded-md border border-white/20 text-white/90 hover:bg-white/10",onClick:e[14]||(e[14]=r=>h.value=!1)}," Close ")])])])):_("",!0)],64))}};export{Nt as default};
