import{r as _,q as ce,c as j,a as be,o,w as O,d as A,b as t,u as I,A as me,t as u,S as we,e as D,f as r,F as B,h as S,n as W,i as c,g as n,B as x,l as q,k as F,v as w,Q as E}from"./app-Bp2smfCm.js";import{A as ge}from"./AuthenticatedLayout-CeqprHFF.js";import{_ as R}from"./Modal-CXidzUsQ.js";import"./Footer-BrurEhWM.js";import"./Header-fek8bTNe.js";const he={class:"py-12"},ve={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},pe={class:"glass-card-dark overflow-hidden shadow-glow sm:rounded-lg mb-6"},fe={class:"p-6 border-b border-white/20"},ke={class:"flex items-center justify-between"},xe={class:"text-white/80 mt-1"},ye={class:"grid grid-cols-1 lg:grid-cols-4 gap-6"},_e={class:"lg:col-span-3"},De={class:"glass-card-dark overflow-hidden shadow-glow sm:rounded-lg"},Be={class:"p-6"},Se={class:"flex items-center justify-between mb-6"},Ve={class:"flex space-x-2"},Ce={class:"flex items-center px-4 py-2 bg-white/10 rounded-md backdrop-blur-sm border border-white/20"},Me={class:"font-medium text-white"},Te={class:"grid grid-cols-7 gap-1 mb-4"},Ue=["onClick"],je={key:0,class:"absolute top-1 left-1"},Oe={key:1,class:"absolute top-1 right-1"},Ae={key:2,class:"absolute bottom-0 left-0 text-xs text-red-300 font-bold"},Ee={key:3,class:"absolute bottom-1 left-1"},$e={key:4,class:"absolute inset-0 border-2 border-blue-500 rounded pointer-events-none"},Fe={class:"space-y-6"},qe={class:"glass-card-dark overflow-hidden shadow-glow sm:rounded-lg border border-white/20"},Re={class:"p-6"},He={class:"space-y-3"},Le={key:0,class:"mt-4 p-3 bg-blue-50 rounded-md"},Ne={class:"text-sm text-blue-700"},Pe={class:"glass-card-dark overflow-hidden shadow-glow sm:rounded-lg border border-white/20"},Ie={class:"p-6"},We={key:0,class:"flex items-center justify-between mb-4"},ze={class:"flex items-center"},Ye=["checked","indeterminate"],Qe={class:"ml-2 text-sm text-white"},Ge={key:1,class:"text-white/70 text-sm"},Je={key:2,class:"space-y-3 max-h-64 overflow-y-auto"},Ke={class:"flex items-start justify-between"},Xe={class:"flex items-start gap-3 flex-1"},Ze=["value"],et={class:"flex-1"},tt={class:"flex items-center gap-2 mb-1"},lt={class:"text-sm font-medium text-white"},st={key:0,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-400/20 text-purple-400"},ot={key:1,class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-400/20 text-blue-400"},rt={class:"text-xs text-white/70 capitalize"},it={key:0,class:"text-xs text-blue-400 mt-1"},nt={key:1,class:"text-xs text-purple-400 mt-1"},dt={key:0},at={key:1},ut={key:2},ct={key:2,class:"text-xs text-white/70 mt-1"},bt=["onClick"],mt={class:"p-6 bg-gray-600/100 border border-white/20 rounded-xl backdrop-blur-lg shadow-2xl"},wt={class:"space-y-4"},gt=["value"],ht={class:"flex items-center p-3 bg-white/10 rounded-lg border border-white/20"},vt={key:0,class:"space-y-4 p-4 bg-gray-900/50 rounded-lg border border-white/30"},pt=["value"],ft={key:0,class:"space-y-3"},kt={class:"grid grid-cols-2 gap-3"},xt=["value"],yt={class:"ml-2 text-sm text-white"},_t={class:"border-t border-white/30 pt-6"},Dt={class:"flex items-center mb-4 p-3 bg-gray-800/50 rounded-lg border border-white/20"},Bt={key:0,class:"space-y-4 p-4 bg-gray-900/30 rounded-lg border border-white/20"},St={class:"flex items-center p-3 bg-white/10 rounded-lg"},Vt={key:0,class:"grid grid-cols-2 gap-4"},Ct={class:"p-4 bg-white/5 rounded-lg backdrop-blur-sm border border-white/30"},Mt={class:"text-sm text-white/90 font-medium"},Tt={class:"flex justify-end space-x-4 mt-8 pt-6 border-t border-white/30"},Ut={class:"p-6 bg-gray-600/100 border border-white/20 rounded-xl backdrop-blur-lg shadow-2xl"},jt={class:"space-y-6"},Ot={class:"grid grid-cols-2 gap-4"},At=["min"],Et=["min"],$t=["value"],Ft={class:"border-t border-white/30 pt-6"},qt={class:"flex items-center mb-4 p-3 bg-gray-800/50 rounded-lg border border-white/20"},Rt={key:0,class:"space-y-4 p-4 bg-gray-900/30 rounded-lg border border-white/20"},Ht={class:"flex items-center p-3 bg-white/10 rounded-lg"},Lt={key:0,class:"grid grid-cols-2 gap-4"},Nt={class:"flex justify-end space-x-4 mt-8 pt-6 border-t border-white/30"},Pt={class:"p-6 bg-gray-600/100 border border-white/20 rounded-xl backdrop-blur-lg shadow-2xl"},It={class:"space-y-6"},Wt={class:"grid grid-cols-2 gap-4"},zt=["min"],Yt=["min"],Qt={class:"p-4 bg-gray-900/50 rounded-lg border border-white/30"},Gt={class:"grid grid-cols-2 gap-3"},Jt=["value"],Kt={class:"ml-3 text-sm text-white font-medium"},Xt=["value"],Zt={class:"border-t border-white/30 pt-6"},el={class:"flex items-center mb-4 p-3 bg-gray-800/50 rounded-lg border border-white/20"},tl={key:0,class:"space-y-4 p-4 bg-gray-900/30 rounded-lg border border-white/20"},ll={class:"flex items-center p-3 bg-white/10 rounded-lg"},sl={key:0,class:"grid grid-cols-2 gap-4"},ol={class:"flex justify-end space-x-4 mt-8 pt-6 border-t border-white/30"},ul={__name:"Availability",props:{vehicle:Object,blocks:Array,bookings:Array,blockTypes:Object,recurringTypes:Object,daysOfWeek:Object},setup(m){const p=m,k=_(new Date),v=_([]),g=_([]),C=_(!1),M=_(!1),T=_(!1);ce(()=>{const s=new Date;k.value=new Date(s.getFullYear(),s.getMonth(),1)});const i=_({block_type:"",reason:"",notes:"",is_recurring:!1,recurring_type:"",recurring_days:[],recurring_end_date:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}),b=_({start_date:"",end_date:"",block_type:"",reason:"",notes:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}),a=_({start_date:"",end_date:"",recurring_days:[],block_type:"",reason:"",notes:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}),$=j(()=>new Date().toISOString().split("T")[0]),H=j(()=>p.blocks.length>0&&g.value.length===p.blocks.length),z=j(()=>g.value.length>0&&g.value.length<p.blocks.length),Y=j(()=>k.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),Q=j(()=>{const s=k.value.getFullYear(),e=k.value.getMonth(),l=new Date(s,e,1),d=new Date(l);d.setDate(l.getDate()-l.getDay());const f=[],h=new Date(d),y=new Date().toISOString().split("T")[0],V=new Date;V.setHours(0,0,0,0);for(let N=0;N<42;N++){const U=h.toISOString().split("T")[0],P=new Date(h);P.setHours(0,0,0,0),f.push({date:U,day:h.getDate(),month:h.getMonth(),year:h.getFullYear(),isCurrentMonth:h.getMonth()===e,isToday:U===y,isPast:P<V,isSelected:v.value.includes(U),isBlocked:G(U),hasBookings:J(U)}),h.setDate(h.getDate()+1)}return f}),G=s=>p.blocks.some(l=>{const d=new Date(l.blocked_date).toISOString().split("T")[0],f=typeof s=="string"?s:new Date(s).toISOString().split("T")[0];if(d===f)return!0;if(l.is_recurring){const h=new Date(l.blocked_date),y=new Date(f);if(y<h)return!1;if(l.recurring_end_date){const V=new Date(l.recurring_end_date);if(y>V)return!1}switch(l.recurring_type){case"weekly":return h.getDay()===y.getDay();case"monthly":return h.getDate()===y.getDate();case"yearly":return h.getMonth()===y.getMonth()&&h.getDate()===y.getDate();case"custom_days":if(l.recurring_days&&Array.isArray(l.recurring_days)){const V=y.getDay();return f==="2024-09-22"&&console.log("Debug for Sep 22:",{date:f,dayOfWeek:V,recurringDays:l.recurring_days,blockType:l.block_type,includes:l.recurring_days.includes(V)}),l.recurring_days.includes(V)}break}}return!1}),J=s=>p.bookings.some(e=>new Date(e.pickup_datetime).toISOString().split("T")[0]===s),K=s=>{if(s.isPast||s.isBlocked||s.hasBookings)return;const e=s.date,l=v.value.indexOf(e);l>-1?v.value.splice(l,1):v.value.push(e)},X=()=>{v.value=[]},Z=()=>{k.value=new Date(k.value.getFullYear(),k.value.getMonth()-1,1)},ee=()=>{k.value=new Date(k.value.getFullYear(),k.value.getMonth()+1,1)},te=()=>{if(v.value.length===0)return;const s={dates:v.value,block_type:i.value.block_type,reason:i.value.reason,notes:i.value.notes,is_recurring:i.value.is_recurring,is_time_based:i.value.is_time_based,affects_whole_day:i.value.affects_whole_day};i.value.is_time_based&&!i.value.affects_whole_day&&(s.start_time=i.value.start_time,s.end_time=i.value.end_time),i.value.is_recurring&&(s.recurring_type=i.value.recurring_type,s.recurring_end_date=i.value.recurring_end_date,i.value.recurring_type==="custom_days"&&(s.recurring_days=i.value.recurring_days)),E.post(route("owner.vehicles.availability.store",p.vehicle.id),s,{onSuccess:e=>{alert(`Successfully blocked ${v.value.length} date(s)!`),C.value=!1,v.value=[],re(),location.reload()},onError:e=>{e.dates?alert(`Error: ${e.dates}`):alert("Error blocking dates. Please check the form and try again.")}})},le=()=>{E.post(route("owner.vehicles.availability.bulk",p.vehicle.id),b.value,{onSuccess:s=>{alert("Successfully blocked date range!"),M.value=!1,ie()},onError:s=>{s.dates?alert(`Error: ${s.dates}`):alert("Error blocking date range. Please check the form and try again.")}})},se=()=>{if(a.value.recurring_days.length===0){alert("Please select at least one day of the week.");return}E.post(route("owner.vehicles.availability.recurring-days",p.vehicle.id),a.value,{onSuccess:s=>{alert("Successfully created recurring availability blocks!"),T.value=!1,ne()},onError:s=>{s.recurring_days?alert(`Error: ${s.recurring_days}`):alert("Error creating recurring blocks. Please check the form and try again.")}})},oe=s=>{confirm("Are you sure you want to remove this availability block?")&&E.delete(route("owner.vehicles.availability.destroy",[p.vehicle.id,s.id]),{onSuccess:e=>{alert("Successfully removed availability block!")},onError:e=>{alert("Error removing block. Please check the console for details.")}})},re=()=>{i.value={block_type:"",reason:"",notes:"",is_recurring:!1,recurring_type:"",recurring_days:[],recurring_end_date:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}},ie=()=>{b.value={start_date:"",end_date:"",block_type:"",reason:"",notes:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}},ne=()=>{a.value={start_date:"",end_date:"",recurring_days:[],block_type:"",reason:"",notes:"",is_time_based:!1,affects_whole_day:!0,start_time:"",end_time:""}},de=()=>{H.value?g.value=[]:g.value=p.blocks.map(s=>s.id)},ae=()=>{if(g.value.length===0){alert("No blocks selected for deletion.");return}const s=g.value.length;confirm(`Are you sure you want to delete ${s} availability block(s)?`)&&E.delete(route("owner.vehicles.availability.batch-destroy",p.vehicle.id),{data:{block_ids:g.value},onSuccess:e=>{alert(`Successfully deleted ${s} availability block(s)!`),g.value=[]},onError:e=>{alert("Error deleting blocks. Please check the console for details.")}})},L=s=>new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),ue=s=>!s||!Array.isArray(s)?"":s.map(l=>{const d=p.daysOfWeek[l];return d?d.substring(0,3):""}).filter(Boolean).join(", ");return(s,e)=>(o(),be(ge,null,{default:O(()=>[A(I(me),{title:`Availability Calendar - ${m.vehicle.make.name} ${m.vehicle.model.name}`},null,8,["title"]),t("div",he,[t("div",ve,[t("div",pe,[t("div",fe,[t("div",ke,[t("div",null,[e[40]||(e[40]=t("h1",{class:"text-3xl font-bold text-white"}," Availability Calendar ",-1)),t("p",xe," Manage availability for "+u(m.vehicle.make.name)+" "+u(m.vehicle.model.name),1)]),A(I(we),{href:s.route("owner.vehicles.show",m.vehicle.id),class:"inline-flex items-center px-4 py-2 bg-white/20 text-white rounded-md hover:bg-white/30 transition-all duration-200 backdrop-blur-sm border border-white/30"},{default:O(()=>e[41]||(e[41]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),D(" Back to Vehicle ")])),_:1,__:[41]},8,["href"])])])]),t("div",ye,[t("div",_e,[t("div",De,[t("div",Be,[t("div",Se,[e[44]||(e[44]=t("h2",{class:"text-xl font-semibold text-white"},"Calendar View",-1)),t("div",Ve,[t("button",{onClick:Z,class:"p-2 bg-white/20 rounded-md hover:bg-white/30 transition-all duration-200 backdrop-blur-sm border border-white/30"},e[42]||(e[42]=[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),t("div",Ce,[t("span",Me,u(Y.value),1)]),t("button",{onClick:ee,class:"p-2 bg-white/20 rounded-md hover:bg-white/30 transition-all duration-200 backdrop-blur-sm border border-white/30"},e[43]||(e[43]=[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])]),t("div",Te,[(o(),r(B,null,S(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=>t("div",{key:l,class:"p-2 text-center text-sm font-medium text-white/70 border-b border-white/20"},u(l),1)),64)),(o(!0),r(B,null,S(Q.value,l=>(o(),r("div",{key:`${l.date}-${l.month}`,class:W(["relative p-2 h-24 border border-white/20 cursor-pointer hover:bg-white/10 transition-colors backdrop-blur-sm",{"text-white/50":!l.isCurrentMonth,"bg-blue-400/20 border-blue-400/50 shadow-glow":l.isToday,"bg-red-400/20 border-red-400/50":l.isBlocked,"bg-yellow-400/20 border-yellow-400/50":l.hasBookings,"bg-white/5":l.isPast}]),onClick:d=>K(l)},[t("div",{class:W(["text-sm font-medium text-white",{"text-blue-400 font-bold":l.isToday}])},u(l.day),3),l.isToday?(o(),r("div",je,e[45]||(e[45]=[t("div",{class:"w-2 h-2 bg-blue-400 rounded-full shadow-glow"},null,-1)]))):c("",!0),l.isBlocked?(o(),r("div",Oe,e[46]||(e[46]=[t("div",{class:"w-2 h-2 bg-red-500 rounded-full shadow-lg"},null,-1)]))):c("",!0),l.isBlocked?(o(),r("div",Ae," âš  ")):c("",!0),l.hasBookings?(o(),r("div",Ee,e[47]||(e[47]=[t("div",{class:"w-2 h-2 bg-yellow-500 rounded-full"},null,-1)]))):c("",!0),l.isSelected?(o(),r("div",$e)):c("",!0)],10,Ue))),128))]),e[48]||(e[48]=t("div",{class:"flex flex-wrap gap-4 text-sm text-white/80"},[t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 bg-red-400/20 border border-red-400/50 rounded mr-2"}),t("span",null,"Blocked")]),t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 bg-yellow-400/20 border border-yellow-400/50 rounded mr-2"}),t("span",null,"Booked")]),t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 bg-blue-400/20 border border-blue-400/50 rounded mr-2 relative"},[t("div",{class:"absolute top-0.5 left-0.5 w-2 h-2 bg-blue-400 rounded-full"})]),t("span",{class:"font-medium"},"Today")]),t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 bg-white/5 border border-white/20 rounded mr-2 backdrop-blur-sm"}),t("span",null,"Past Date")]),t("div",{class:"flex items-center"},[t("div",{class:"w-3 h-3 bg-blue-500/30 border border-blue-500/50 rounded mr-2 backdrop-blur-sm"}),t("span",null,"Selected")])],-1))])])]),t("div",Fe,[t("div",qe,[t("div",Re,[e[53]||(e[53]=t("h3",{class:"text-lg font-medium text-white mb-4"},"Quick Actions",-1)),t("div",He,[t("button",{onClick:e[0]||(e[0]=l=>C.value=!0),class:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors"},e[49]||(e[49]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1),D(" Block Selected Dates ")])),t("button",{onClick:e[1]||(e[1]=l=>M.value=!0),class:"w-full flex items-center justify-center px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors"},e[50]||(e[50]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),D(" Block Date Range ")])),t("button",{onClick:e[2]||(e[2]=l=>T.value=!0),class:"w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors"},e[51]||(e[51]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),D(" Recurring Days Block ")])),v.value.length>0?(o(),r("button",{key:0,onClick:X,class:"w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors"},e[52]||(e[52]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),D(" Clear Selection ")]))):c("",!0)]),v.value.length>0?(o(),r("div",Le,[t("p",Ne,u(v.value.length)+" date(s) selected ",1)])):c("",!0)])]),t("div",Pe,[t("div",Ie,[e[56]||(e[56]=t("h3",{class:"text-lg font-medium text-white mb-4"},"Active Blocks",-1)),m.blocks.length>0?(o(),r("div",We,[t("div",ze,[t("input",{type:"checkbox",checked:H.value,indeterminate:z.value,onChange:de,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-white/20 bg-white/10 rounded"},null,40,Ye),t("label",Qe," Select All ("+u(g.value.length)+"/"+u(m.blocks.length)+") ",1)]),g.value.length>0?(o(),r("button",{key:0,onClick:ae,class:"inline-flex items-center px-3 py-1.5 border border-red-400/50 text-sm font-medium rounded-md text-red-400 bg-red-400/10 hover:bg-red-400/20 focus:outline-none focus:ring-2 focus:ring-red-400/50 transition-colors"},[e[54]||(e[54]=t("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),D(" Delete Selected ("+u(g.value.length)+") ",1)])):c("",!0)])):c("",!0),m.blocks.length===0?(o(),r("div",Ge," No availability blocks set. ")):(o(),r("div",Je,[(o(!0),r(B,null,S(m.blocks,l=>(o(),r("div",{key:l.id,class:"p-3 border border-white/20 rounded-md bg-white/5 backdrop-blur-sm"},[t("div",Ke,[t("div",Xe,[n(t("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":e[3]||(e[3]=d=>g.value=d),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-white/20 bg-white/10 rounded mt-0.5"},null,8,Ze),[[x,g.value]]),t("div",et,[t("div",tt,[t("p",lt,u(L(l.blocked_date)),1),l.is_recurring?(o(),r("span",st," Recurring ")):c("",!0),l.is_time_based?(o(),r("span",ot," Time-based ")):c("",!0)]),t("p",rt,u(l.block_type.replace("_"," ")),1),l.is_time_based&&!l.affects_whole_day&&l.start_time?(o(),r("div",it," ðŸ• "+u(l.start_time)+" - "+u(l.end_time),1)):c("",!0),l.is_recurring?(o(),r("div",nt,[l.recurring_type==="custom_days"&&l.recurring_days?(o(),r("span",dt," ðŸ“… Every "+u(ue(l.recurring_days)),1)):l.recurring_type?(o(),r("span",at," ðŸ“… "+u(m.recurringTypes[l.recurring_type]),1)):c("",!0),l.recurring_end_date?(o(),r("span",ut," until "+u(L(l.recurring_end_date)),1)):c("",!0)])):c("",!0),l.reason?(o(),r("p",ct,u(l.reason),1)):c("",!0)])]),t("button",{onClick:d=>oe(l),class:"text-red-600 hover:text-red-800 transition-colors ml-2"},e[55]||(e[55]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,bt)])]))),128))]))])])])])])]),A(R,{show:C.value,onClose:e[16]||(e[16]=l=>C.value=!1)},{default:O(()=>[t("div",mt,[e[71]||(e[71]=t("h3",{class:"text-xl font-semibold text-white mb-6 flex items-center"},[t("svg",{class:"w-6 h-6 mr-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),D(" Block Selected Dates ")],-1)),t("form",{onSubmit:q(te,["prevent"])},[t("div",wt,[t("div",null,[e[58]||(e[58]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Block Type",-1)),n(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>i.value.block_type=l),class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},[e[57]||(e[57]=t("option",{value:"",class:"bg-black text-white"},"Select type...",-1)),(o(!0),r(B,null,S(m.blockTypes,(l,d)=>(o(),r("option",{key:d,value:d,class:"bg-black text-white"},u(l),9,gt))),128))],512),[[F,i.value.block_type]])]),t("div",null,[e[59]||(e[59]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Reason (Optional)",-1)),n(t("input",{"onUpdate:modelValue":e[5]||(e[5]=l=>i.value.reason=l),type:"text",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm placeholder-white/60 transition-all duration-200",placeholder:"Brief reason for blocking..."},null,512),[[w,i.value.reason]])]),t("div",null,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Notes (Optional)",-1)),n(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=l=>i.value.notes=l),rows:"3",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm placeholder-white/60 transition-all duration-200",placeholder:"Additional notes..."},null,512),[[w,i.value.notes]])]),t("div",ht,[n(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>i.value.is_recurring=l),type:"checkbox",class:"h-4 w-4 text-white border-white/50 rounded focus:ring-white bg-white/20"},null,512),[[x,i.value.is_recurring]]),e[61]||(e[61]=t("label",{class:"ml-3 block text-sm text-white font-medium"}," ðŸ” Make this a recurring block ",-1))]),i.value.is_recurring?(o(),r("div",vt,[t("div",null,[e[63]||(e[63]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Recurring Type",-1)),n(t("select",{"onUpdate:modelValue":e[8]||(e[8]=l=>i.value.recurring_type=l),class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200"},[e[62]||(e[62]=t("option",{value:"",class:"bg-black text-white"},"Select frequency...",-1)),(o(!0),r(B,null,S(m.recurringTypes,(l,d)=>(o(),r("option",{key:d,value:d,class:"bg-black text-white"},u(l),9,pt))),128))],512),[[F,i.value.recurring_type]])]),i.value.recurring_type==="custom_days"?(o(),r("div",ft,[e[64]||(e[64]=t("label",{class:"block text-sm font-medium text-white"},"Select Days",-1)),t("div",kt,[(o(!0),r(B,null,S(m.daysOfWeek,(l,d)=>(o(),r("label",{key:d,class:"flex items-center p-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors cursor-pointer"},[n(t("input",{"onUpdate:modelValue":e[9]||(e[9]=f=>i.value.recurring_days=f),value:parseInt(d),type:"checkbox",class:"h-4 w-4 text-white border-white/50 rounded focus:ring-white bg-white/20"},null,8,xt),[[x,i.value.recurring_days]]),t("span",yt,u(l),1)]))),128))])])):c("",!0),t("div",null,[e[65]||(e[65]=t("label",{class:"block text-sm font-medium text-white mb-2"},"End Date (Optional)",-1)),n(t("input",{"onUpdate:modelValue":e[10]||(e[10]=l=>i.value.recurring_end_date=l),type:"date",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200"},null,512),[[w,i.value.recurring_end_date]])])])):c("",!0),t("div",_t,[t("div",Dt,[n(t("input",{"onUpdate:modelValue":e[11]||(e[11]=l=>i.value.is_time_based=l),type:"checkbox",class:"h-4 w-4 text-white border-white/50 rounded focus:ring-white bg-white/20"},null,512),[[x,i.value.is_time_based]]),e[66]||(e[66]=t("label",{class:"ml-3 block text-sm text-white font-medium"}," â° Time-based restriction (block specific hours only) ",-1))]),i.value.is_time_based?(o(),r("div",Bt,[t("div",St,[n(t("input",{"onUpdate:modelValue":e[12]||(e[12]=l=>i.value.affects_whole_day=l),type:"checkbox",class:"h-4 w-4 text-white border-white/50 rounded focus:ring-white bg-white/20"},null,512),[[x,i.value.affects_whole_day]]),e[67]||(e[67]=t("label",{class:"ml-3 block text-sm text-white font-medium"}," Block entire day (ignores time settings) ",-1))]),i.value.affects_whole_day?c("",!0):(o(),r("div",Vt,[t("div",null,[e[68]||(e[68]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Start Time",-1)),n(t("input",{"onUpdate:modelValue":e[13]||(e[13]=l=>i.value.start_time=l),type:"time",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},null,512),[[w,i.value.start_time]])]),t("div",null,[e[69]||(e[69]=t("label",{class:"block text-sm font-medium text-white mb-2"},"End Time",-1)),n(t("input",{"onUpdate:modelValue":e[14]||(e[14]=l=>i.value.end_time=l),type:"time",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},null,512),[[w,i.value.end_time]])])]))])):c("",!0)]),t("div",Ct,[t("p",Mt," ðŸ“… Selected dates: "+u(v.value.join(", ")),1)])]),t("div",Tt,[t("button",{type:"button",onClick:e[15]||(e[15]=l=>C.value=!1),class:"px-6 py-3 border-2 border-white/50 rounded-lg text-white hover:bg-white/10 hover:border-white transition-all duration-200 backdrop-blur-sm font-medium"}," Cancel "),e[70]||(e[70]=t("button",{type:"submit",class:"px-6 py-3 bg-white text-black rounded-lg hover:bg-gray-200 transition-all duration-200 shadow-lg font-medium"}," ðŸš« Block Dates ",-1))])],32)])]),_:1},8,["show"]),A(R,{show:M.value,onClose:e[27]||(e[27]=l=>M.value=!1)},{default:O(()=>[t("div",Ut,[e[83]||(e[83]=t("h3",{class:"text-xl font-semibold text-white mb-6 flex items-center"},[t("svg",{class:"w-6 h-6 mr-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),D(" Block Date Range ")],-1)),t("form",{onSubmit:q(le,["prevent"])},[t("div",jt,[t("div",Ot,[t("div",null,[e[72]||(e[72]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Start Date",-1)),n(t("input",{"onUpdate:modelValue":e[17]||(e[17]=l=>b.value.start_date=l),type:"date",min:$.value,class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},null,8,At),[[w,b.value.start_date]])]),t("div",null,[e[73]||(e[73]=t("label",{class:"block text-sm font-medium text-white mb-2"},"End Date",-1)),n(t("input",{"onUpdate:modelValue":e[18]||(e[18]=l=>b.value.end_date=l),type:"date",min:b.value.start_date||$.value,class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},null,8,Et),[[w,b.value.end_date]])])]),t("div",null,[e[75]||(e[75]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Block Type",-1)),n(t("select",{"onUpdate:modelValue":e[19]||(e[19]=l=>b.value.block_type=l),class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},[e[74]||(e[74]=t("option",{value:"",class:"bg-black text-white"},"Select type...",-1)),(o(!0),r(B,null,S(m.blockTypes,(l,d)=>(o(),r("option",{key:d,value:d,class:"bg-black text-white"},u(l),9,$t))),128))],512),[[F,b.value.block_type]])]),t("div",null,[e[76]||(e[76]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Reason (Optional)",-1)),n(t("input",{"onUpdate:modelValue":e[20]||(e[20]=l=>b.value.reason=l),type:"text",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm placeholder-white/60 transition-all duration-200",placeholder:"Brief reason for blocking..."},null,512),[[w,b.value.reason]])]),t("div",null,[e[77]||(e[77]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Notes (Optional)",-1)),n(t("textarea",{"onUpdate:modelValue":e[21]||(e[21]=l=>b.value.notes=l),rows:"3",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm placeholder-white/60 transition-all duration-200",placeholder:"Additional notes..."},null,512),[[w,b.value.notes]])]),t("div",Ft,[t("div",qt,[n(t("input",{"onUpdate:modelValue":e[22]||(e[22]=l=>b.value.is_time_based=l),type:"checkbox",class:"h-4 w-4 text-white border-white/50 rounded focus:ring-white bg-white/20"},null,512),[[x,b.value.is_time_based]]),e[78]||(e[78]=t("label",{class:"ml-3 block text-sm text-white font-medium"}," â° Time-based restriction (block specific hours only) ",-1))]),b.value.is_time_based?(o(),r("div",Rt,[t("div",Ht,[n(t("input",{"onUpdate:modelValue":e[23]||(e[23]=l=>b.value.affects_whole_day=l),type:"checkbox",class:"h-4 w-4 text-white border-white/50 rounded focus:ring-white bg-white/20"},null,512),[[x,b.value.affects_whole_day]]),e[79]||(e[79]=t("label",{class:"ml-3 block text-sm text-white font-medium"}," Block entire day (ignores time settings) ",-1))]),b.value.affects_whole_day?c("",!0):(o(),r("div",Lt,[t("div",null,[e[80]||(e[80]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Start Time",-1)),n(t("input",{"onUpdate:modelValue":e[24]||(e[24]=l=>b.value.start_time=l),type:"time",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},null,512),[[w,b.value.start_time]])]),t("div",null,[e[81]||(e[81]=t("label",{class:"block text-sm font-medium text-white mb-2"},"End Time",-1)),n(t("input",{"onUpdate:modelValue":e[25]||(e[25]=l=>b.value.end_time=l),type:"time",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},null,512),[[w,b.value.end_time]])])]))])):c("",!0)])]),t("div",Nt,[t("button",{type:"button",onClick:e[26]||(e[26]=l=>M.value=!1),class:"px-6 py-3 border-2 border-white/50 rounded-lg text-white hover:bg-white/10 hover:border-white transition-all duration-200 backdrop-blur-sm font-medium"}," Cancel "),e[82]||(e[82]=t("button",{type:"submit",class:"px-6 py-3 bg-white text-black rounded-lg hover:bg-gray-200 transition-all duration-200 shadow-lg font-medium"}," ðŸ“… Block Date Range ",-1))])],32)])]),_:1},8,["show"]),A(R,{show:T.value,onClose:e[39]||(e[39]=l=>T.value=!1)},{default:O(()=>[t("div",Pt,[e[97]||(e[97]=t("h3",{class:"text-xl font-semibold text-white mb-4 flex items-center"},[t("svg",{class:"w-6 h-6 mr-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})]),D(" Block Recurring Days ")],-1)),e[98]||(e[98]=t("p",{class:"text-sm text-white/80 mb-6 p-3 bg-white/5 rounded-lg border border-white/20"}," ðŸ”„ Set up blocks that repeat on specific days of the week (e.g., every Tuesday and Friday for maintenance) ",-1)),t("form",{onSubmit:q(se,["prevent"])},[t("div",It,[t("div",Wt,[t("div",null,[e[84]||(e[84]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Start Date",-1)),n(t("input",{"onUpdate:modelValue":e[28]||(e[28]=l=>a.value.start_date=l),type:"date",min:$.value,class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},null,8,zt),[[w,a.value.start_date]])]),t("div",null,[e[85]||(e[85]=t("label",{class:"block text-sm font-medium text-white mb-2"},"End Date (Optional)",-1)),n(t("input",{"onUpdate:modelValue":e[29]||(e[29]=l=>a.value.end_date=l),type:"date",min:a.value.start_date||$.value,class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200"},null,8,Yt),[[w,a.value.end_date]])])]),t("div",Qt,[e[86]||(e[86]=t("label",{class:"block text-sm font-medium text-white mb-3"},"ðŸ“… Select Days to Block",-1)),t("div",Gt,[(o(!0),r(B,null,S(m.daysOfWeek,(l,d)=>(o(),r("label",{key:d,class:"flex items-center p-3 bg-white/10 rounded-lg hover:bg-white/20 transition-colors cursor-pointer border border-white/10"},[n(t("input",{"onUpdate:modelValue":e[30]||(e[30]=f=>a.value.recurring_days=f),value:parseInt(d),type:"checkbox",class:"h-4 w-4 text-white border-white/50 rounded focus:ring-white bg-white/20"},null,8,Jt),[[x,a.value.recurring_days]]),t("span",Kt,u(l),1)]))),128))]),e[87]||(e[87]=t("p",{class:"text-xs text-white/70 mt-3 p-2 bg-white/5 rounded-md"},' ðŸ’¡ Example: Select "Tuesday" and "Friday" for maintenance every Tuesday and Friday ',-1))]),t("div",null,[e[89]||(e[89]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Block Type",-1)),n(t("select",{"onUpdate:modelValue":e[31]||(e[31]=l=>a.value.block_type=l),class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},[e[88]||(e[88]=t("option",{value:"",class:"bg-black text-white"},"Select type...",-1)),(o(!0),r(B,null,S(m.blockTypes,(l,d)=>(o(),r("option",{key:d,value:d,class:"bg-black text-white"},u(l),9,Xt))),128))],512),[[F,a.value.block_type]])]),t("div",null,[e[90]||(e[90]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Reason (Optional)",-1)),n(t("input",{"onUpdate:modelValue":e[32]||(e[32]=l=>a.value.reason=l),type:"text",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm placeholder-white/60 transition-all duration-200",placeholder:"Brief reason for blocking..."},null,512),[[w,a.value.reason]])]),t("div",null,[e[91]||(e[91]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Notes (Optional)",-1)),n(t("textarea",{"onUpdate:modelValue":e[33]||(e[33]=l=>a.value.notes=l),rows:"3",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm placeholder-white/60 transition-all duration-200",placeholder:"Additional notes..."},null,512),[[w,a.value.notes]])]),t("div",Zt,[t("div",el,[n(t("input",{"onUpdate:modelValue":e[34]||(e[34]=l=>a.value.is_time_based=l),type:"checkbox",class:"h-4 w-4 text-white border-white/50 rounded focus:ring-white bg-white/20"},null,512),[[x,a.value.is_time_based]]),e[92]||(e[92]=t("label",{class:"ml-3 block text-sm text-white font-medium"}," â° Time-based restriction (block specific hours only) ",-1))]),a.value.is_time_based?(o(),r("div",tl,[t("div",ll,[n(t("input",{"onUpdate:modelValue":e[35]||(e[35]=l=>a.value.affects_whole_day=l),type:"checkbox",class:"h-4 w-4 text-white border-white/50 rounded focus:ring-white bg-white/20"},null,512),[[x,a.value.affects_whole_day]]),e[93]||(e[93]=t("label",{class:"ml-3 block text-sm text-white font-medium"}," Block entire day (ignores time settings) ",-1))]),a.value.affects_whole_day?c("",!0):(o(),r("div",sl,[t("div",null,[e[94]||(e[94]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Start Time",-1)),n(t("input",{"onUpdate:modelValue":e[36]||(e[36]=l=>a.value.start_time=l),type:"time",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},null,512),[[w,a.value.start_time]])]),t("div",null,[e[95]||(e[95]=t("label",{class:"block text-sm font-medium text-white mb-2"},"End Time",-1)),n(t("input",{"onUpdate:modelValue":e[37]||(e[37]=l=>a.value.end_time=l),type:"time",class:"mt-1 block w-full border-white/30 rounded-lg shadow-lg focus:border-white focus:ring-2 focus:ring-white/50 bg-white/10 text-white backdrop-blur-sm transition-all duration-200",required:""},null,512),[[w,a.value.end_time]])])]))])):c("",!0)])]),t("div",ol,[t("button",{type:"button",onClick:e[38]||(e[38]=l=>T.value=!1),class:"px-6 py-3 border-2 border-white/50 rounded-lg text-white hover:bg-white/10 hover:border-white transition-all duration-200 backdrop-blur-sm font-medium"}," Cancel "),e[96]||(e[96]=t("button",{type:"submit",class:"px-6 py-3 bg-white text-black rounded-lg hover:bg-gray-200 transition-all duration-200 shadow-lg font-medium"}," ðŸ”„ Create Recurring Block ",-1))])],32)])]),_:1},8,["show"])]),_:1}))}};export{ul as default};
