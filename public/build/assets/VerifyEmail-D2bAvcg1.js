import{p as S,z,c,q as A,a as j,o as s,w as p,d as f,b as e,u as o,A as E,f as a,i as h,e as n,t as u,l as L,n as N,S as P}from"./app-BJob6Gt2.js";import{G}from"./GuestLayout-DJUlx4fi.js";import{P as W}from"./PrimaryButton-D_HOZsSD.js";import"./Footer-B-Y8_Xin.js";const q={class:"flex items-center justify-center min-h-[calc(100vh-120px)] px-4"},H={class:"w-full max-w-md"},O={class:"text-center mb-8"},R={class:"text-3xl font-bold text-white mb-2"},T={key:0},D={key:1},J={key:2},Y={class:"glass-card p-8 animate-slide-up"},F={class:"text-center mb-6"},I={key:0,class:"text-white/90 leading-relaxed"},K={class:"font-semibold text-white"},Q={key:1,class:"text-white/90 leading-relaxed"},U={key:2,class:"text-white/90 leading-relaxed"},X={class:"font-semibold text-white"},Z={key:0,class:"mb-6 p-4 glass-card border border-green-400/30 rounded-lg"},$={key:0,class:"glass-card p-4 border border-white/20 rounded-lg mb-4"},ee={class:"flex items-center"},te={class:"text-sm text-white font-semibold"},se={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},oe={class:"text-center pt-4 border-t border-white/10"},ne={__name:"VerifyEmail",props:{status:{type:String},email:{type:String,default:""}},setup(B){var g,k;const i=S(),r=B,l=z({email:r.email||((k=(g=i.props.auth)==null?void 0:g.user)==null?void 0:k.email)||""}),M=()=>{l.post(route("verification.send"))},x=c(()=>r.status==="verification-link-sent"),m=c(()=>r.status==="registration-successful"),v=c(()=>r.status==="email-not-verified"),w=c(()=>i.props.auth&&i.props.auth.user);return A(()=>{var d,t;if(w.value&&i.props.auth.user.email_verified_at){window.location.href=route("dashboard");return}m.value&&(r.email||(t=(d=i.props.auth)==null?void 0:d.user)!=null&&t.email)&&!x.value&&l.post(route("verification.send"))}),(d,t)=>(s(),j(G,null,{default:p(()=>{var y,b,_,V,C;return[f(o(E),{title:"Email Verification"}),e("div",q,[e("div",H,[e("div",O,[t[0]||(t[0]=e("div",{class:"mx-auto w-16 h-16 glass-card rounded-2xl flex items-center justify-center mb-6 shadow-glow"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 7.89a2 2 0 002.83 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),e("h1",R,[m.value?(s(),a("span",T,"Account Created!")):v.value?(s(),a("span",D,"Verification Required")):(s(),a("span",J,"Verify Your Email"))]),t[1]||(t[1]=e("p",{class:"text-white/80 text-lg"},"Almost there! Just one more step",-1))]),e("div",Y,[e("div",F,[m.value?(s(),a("p",I,[t[2]||(t[2]=n(" Welcome to GoMOTO! We've sent a verification link to ")),e("span",K,u(r.email||((b=(y=o(i).props.auth)==null?void 0:y.user)==null?void 0:b.email)),1),t[3]||(t[3]=n(". Please check your inbox and click the link to activate your account. "))])):v.value?(s(),a("p",Q," Please verify your email address before logging in. Check your inbox for the verification link, or click below to send a new one. ")):(s(),a("p",U,[t[4]||(t[4]=n(" We need to verify your email address ")),e("span",X,u(r.email||((V=(_=o(i).props.auth)==null?void 0:_.user)==null?void 0:V.email)),1),t[5]||(t[5]=n(". Please check your inbox for the verification link, or click below to send a new one. "))]))]),x.value?(s(),a("div",Z,t[6]||(t[6]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 text-green-300 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})]),e("p",{class:"text-sm font-medium text-green-300"}," A new verification link has been sent to your email address. ")],-1)]))):h("",!0),e("form",{onSubmit:L(M,["prevent"]),class:"space-y-6"},[r.email||w.value&&o(i).props.auth.user.email?(s(),a("div",$,[e("div",ee,[t[8]||(t[8]=e("svg",{class:"w-5 h-5 text-white/80 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})],-1)),e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-white/80"},"Verification email for:",-1)),e("p",te,u(r.email||((C=o(i).props.auth.user)==null?void 0:C.email)),1)])])])):h("",!0),f(W,{class:N([{"opacity-75 cursor-not-allowed":o(l).processing},"btn-primary w-full py-3 text-lg font-semibold shadow-glow"]),disabled:o(l).processing},{default:p(()=>[o(l).processing?(s(),a("svg",se,t[9]||(t[9]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):h("",!0),n(" "+u(o(l).processing?"Sending...":"Resend Verification Email"),1)]),_:1},8,["class","disabled"]),e("div",oe,[f(o(P),{href:d.route("login"),class:"inline-flex items-center text-sm text-white/80 hover:text-white transition-colors"},{default:p(()=>t[10]||(t[10]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),n(" Back to Login ")])),_:1,__:[10]},8,["href"])])],32)])])])]}),_:1}))}};export{ne as default};
