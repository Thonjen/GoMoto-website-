import{r as f,z as S,f as i,o as r,d as A,u as l,A as $,w as v,b as e,i as u,F as h,h as M,t as o,n as B,a as _,S as k,e as z,l as p,g as N,v as V}from"./app-BJQR1LEl.js";import{O as I}from"./OwnerLayout-D00xRfNU.js";import"./Header-CJO43HsM.js";import"./Footer-Clo5IcIT.js";const W={class:"glass-card border border-white/20 rounded-lg shadow-glow"},Y={class:"p-6 text-white"},G={class:"glass-card-dark border border-white/20 rounded-lg shadow-glow mt-6"},J={class:"p-6"},K={key:0,class:"text-center py-8"},Q={key:1,class:"space-y-6"},X={class:"flex items-start justify-between mb-4"},Z={class:"flex items-center space-x-4"},ee={class:"text-lg font-semibold text-white"},te={class:"text-sm text-white/70"},se={class:"text-xs text-white/50"},oe={class:"bg-white/5 border border-white/20 rounded-lg p-4 mb-4 backdrop-blur-sm"},re={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ne={class:"text-center"},ie={class:"text-2xl font-bold text-blue-400"},le={class:"text-center"},de={class:"text-2xl font-bold text-green-400"},ae={class:"text-center"},ue={class:"font-medium text-white"},ce={key:0,class:"mb-4"},be={class:"text-white/80 bg-white/5 border border-white/20 rounded p-3 backdrop-blur-sm"},me={key:1,class:"mb-4"},xe={class:"text-white/80 bg-white/5 border border-white/20 rounded p-3 backdrop-blur-sm"},he={key:2,class:"flex justify-end space-x-3"},pe=["onClick"],we=["onClick"],ge={key:2,class:"mt-6"},fe={class:"flex items-center justify-between"},ve={class:"flex-1 flex justify-between sm:hidden"},_e={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ke={class:"text-sm text-white/70"},ye={class:"relative z-0 inline-flex shadow-sm rounded-md"},Re={class:"glass-card border border-white/20 rounded-lg max-w-md w-full mx-4 p-6 backdrop-blur-sm"},je={class:"text-white/70 mb-4"},Ce={class:"mb-4"},qe={class:"flex justify-end space-x-3"},Se=["disabled"],Ae={class:"glass-card border border-white/20 rounded-lg max-w-md w-full mx-4 p-6 backdrop-blur-sm"},Me={class:"text-white/70 mb-4"},Be={class:"mb-4"},ze={class:"flex justify-end space-x-3"},Ne=["disabled"],Le={__name:"Index",props:{extensionRequests:Object},setup(d){const w=f(!1),g=f(!1),a=f(null),c=S({owner_notes:""}),b=S({owner_notes:""}),E=n=>{switch(n){case"pending":return"bg-yellow-400/20 text-yellow-400 border-yellow-400/30";case"approved":return"bg-green-400/20 text-green-400 border-green-400/30";case"rejected":return"bg-red-400/20 text-red-400 border-red-400/30";default:return"bg-white/10 text-white/70 border-white/20"}},F=n=>n.charAt(0).toUpperCase()+n.slice(1),D=n=>parseFloat(n||0).toFixed(2),L=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),H=n=>{a.value=n,c.owner_notes="",w.value=!0},T=n=>{a.value=n,b.owner_notes="",g.value=!0},m=()=>{w.value=!1,g.value=!1,a.value=null},U=()=>{c.post(route("owner.extensionRequests.approve",a.value.id),{onSuccess:()=>{m()}})},O=()=>{b.post(route("owner.extensionRequests.reject",a.value.id),{onSuccess:()=>{m()}})};return(n,t)=>(r(),i(h,null,[A(l($),{title:"Extension Requests"}),A(I,null,{default:v(()=>{var y,R,j,C;return[e("div",W,[e("div",Y,[t[11]||(t[11]=e("h1",{class:"text-3xl font-bold text-white"}," Extension Requests ",-1)),t[12]||(t[12]=e("p",{class:"text-white/70 mt-2"}," Manage extension requests for your vehicles ",-1)),e("div",G,[e("div",J,[d.extensionRequests.data.length===0?(r(),i("div",K,t[2]||(t[2]=[e("svg",{class:"mx-auto h-12 w-12 text-white/40",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"mt-2 text-lg font-medium text-white"}," No extension requests ",-1),e("p",{class:"mt-1 text-white/60"}," When renters request to extend their bookings, they will appear here. ",-1)]))):(r(),i("div",Q,[(r(!0),i(h,null,M(d.extensionRequests.data,s=>{var x,q;return r(),i("div",{key:s.id,class:"glass-card border border-white/20 rounded-lg p-6 hover:bg-white/10 transition-all backdrop-blur-sm"},[e("div",X,[e("div",Z,[t[3]||(t[3]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-12 h-12 bg-blue-400/20 border border-blue-400/30 rounded-full flex items-center justify-center backdrop-blur-sm"},[e("svg",{class:"w-6 h-6 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])])],-1)),e("div",null,[e("h3",ee,o(s.booking.user.name),1),e("p",te,o((x=s.booking.vehicle.brand)==null?void 0:x.name)+" "+o((q=s.booking.vehicle.vehicle_type)==null?void 0:q.name),1),e("p",se," Booking #"+o(s.booking.id),1)])]),e("span",{class:B([E(s.status),"px-3 py-1 rounded-full text-sm font-medium backdrop-blur-sm"])},o(F(s.status)),3)]),e("div",oe,[e("div",re,[e("div",ne,[e("p",ie,o(s.requested_hours),1),t[4]||(t[4]=e("p",{class:"text-sm text-white/60"}," Hours Extension ",-1))]),e("div",le,[e("p",de," â‚±"+o(D(s.calculated_cost)),1),t[5]||(t[5]=e("p",{class:"text-sm text-white/60"}," Additional Cost ",-1))]),e("div",ae,[t[6]||(t[6]=e("p",{class:"text-sm text-white/60"}," Requested ",-1)),e("p",ue,o(L(s.created_at)),1)])])]),s.reason?(r(),i("div",ce,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-white mb-1"}," Reason: ",-1)),e("p",be,o(s.reason),1)])):u("",!0),s.owner_notes?(r(),i("div",me,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-white mb-1"}," Your Notes: ",-1)),e("p",xe,o(s.owner_notes),1)])):u("",!0),s.status==="pending"?(r(),i("div",he,[e("button",{onClick:P=>T(s),class:"px-4 py-2 bg-red-400/80 hover:bg-red-400 text-white text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-red-400/50 transition-colors backdrop-blur-sm"}," Reject ",8,pe),e("button",{onClick:P=>H(s),class:"px-6 py-2 bg-green-400/80 hover:bg-green-400 text-white text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-green-400/50 transition-colors backdrop-blur-sm"}," Approve ",8,we)])):u("",!0)])}),128))])),d.extensionRequests.links?(r(),i("div",ge,[e("nav",fe,[e("div",ve,[d.extensionRequests.prev_page_url?(r(),_(l(k),{key:0,href:d.extensionRequests.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-white/20 text-sm font-medium rounded-md text-white bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-colors"},{default:v(()=>t[9]||(t[9]=[z(" Previous ")])),_:1,__:[9]},8,["href"])):u("",!0),d.extensionRequests.next_page_url?(r(),_(l(k),{key:1,href:d.extensionRequests.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-white/20 text-sm font-medium rounded-md text-white bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-colors"},{default:v(()=>t[10]||(t[10]=[z(" Next ")])),_:1,__:[10]},8,["href"])):u("",!0)]),e("div",_e,[e("div",null,[e("p",ke," Showing "+o(d.extensionRequests.from)+" to "+o(d.extensionRequests.to)+" of "+o(d.extensionRequests.total)+" results ",1)]),e("div",null,[e("span",ye,[(r(!0),i(h,null,M(d.extensionRequests.links,(s,x)=>(r(),i(h,{key:x},[s&&s.url?(r(),_(l(k),{key:0,href:s.url,class:B([s.active?"bg-blue-400/20 border-blue-400/30 text-blue-400":"bg-white/10 border-white/20 text-white/70 hover:bg-white/20","relative inline-flex items-center px-4 py-2 border text-sm font-medium backdrop-blur-sm transition-colors"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):u("",!0)],64))),128))])])])])])):u("",!0)])])])]),w.value?(r(),i("div",{key:0,onClick:p(m,["self"]),class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},[e("div",Re,[t[14]||(t[14]=e("h3",{class:"text-lg font-medium text-white mb-4"}," Approve Extension Request ",-1)),e("p",je," Approve "+o((y=a.value)==null?void 0:y.requested_hours)+" hours extension for Booking #"+o((R=a.value)==null?void 0:R.booking.id)+"? ",1),e("form",{onSubmit:p(U,["prevent"])},[e("div",Ce,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-white mb-2"}," Notes to renter (optional) ",-1)),N(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=s=>l(c).owner_notes=s),rows:"3",class:"w-full bg-white/10 border-white/20 text-white placeholder-white/50 rounded-md shadow-sm focus:border-green-400 focus:ring-green-400/50 backdrop-blur-sm",placeholder:"Any additional notes or instructions..."},null,512),[[V,l(c).owner_notes]])]),e("div",qe,[e("button",{type:"button",onClick:m,class:"px-4 py-2 border border-white/20 rounded-md text-white/70 hover:bg-white/10 backdrop-blur-sm transition-colors"}," Cancel "),e("button",{type:"submit",disabled:l(c).processing,class:"px-4 py-2 bg-green-400/80 hover:bg-green-400 text-white rounded-md disabled:opacity-50 backdrop-blur-sm transition-colors"},o(l(c).processing?"Approving...":"Approve"),9,Se)])],32)])])):u("",!0),g.value?(r(),i("div",{key:1,onClick:p(m,["self"]),class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},[e("div",Ae,[t[16]||(t[16]=e("h3",{class:"text-lg font-medium text-white mb-4"}," Reject Extension Request ",-1)),e("p",Me," Reject "+o((j=a.value)==null?void 0:j.requested_hours)+" hours extension for Booking #"+o((C=a.value)==null?void 0:C.booking.id)+"? ",1),e("form",{onSubmit:p(O,["prevent"])},[e("div",Be,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-white mb-2"}," Reason for rejection ",-1)),N(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>l(b).owner_notes=s),rows:"3",class:"w-full bg-white/10 border-white/20 text-white placeholder-white/50 rounded-md shadow-sm focus:border-red-400 focus:ring-red-400/50 backdrop-blur-sm",placeholder:"Please explain why you're rejecting this request...",required:""},null,512),[[V,l(b).owner_notes]])]),e("div",ze,[e("button",{type:"button",onClick:m,class:"px-4 py-2 border border-white/20 rounded-md text-white/70 hover:bg-white/10 backdrop-blur-sm transition-colors"}," Cancel "),e("button",{type:"submit",disabled:l(b).processing,class:"px-4 py-2 bg-red-400/80 hover:bg-red-400 text-white rounded-md disabled:opacity-50 backdrop-blur-sm transition-colors"},o(l(b).processing?"Rejecting...":"Reject"),9,Ne)])],32)])])):u("",!0)]}),_:1})],64))}};export{Le as default};
