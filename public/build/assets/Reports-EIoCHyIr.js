import{r as V,c as r,a as S,o as n,w,b as t,g as U,d as z,k as C,u as R,S as L,e as A,t as o,f as i,F as g,h as x,Q as H}from"./app-D5PUyAMe.js";import{_ as T}from"./AdminLayout-Bs53sOM1.js";import"./Footer-DI0umZVU.js";import"./Header-DdPT2WJT.js";import"./ResponsiveNavLink-BCB-x7oE.js";const N={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},P={class:"mb-8"},O={class:"flex justify-between items-center"},F={class:"flex space-x-4"},Q={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},E={class:"bg-white overflow-hidden shadow rounded-lg"},K={class:"p-5"},Y={class:"flex items-center"},$={class:"ml-5 w-0 flex-1"},q={class:"text-lg font-medium text-gray-900"},G={class:"bg-white overflow-hidden shadow rounded-lg"},I={class:"p-5"},J={class:"flex items-center"},W={class:"ml-5 w-0 flex-1"},X={class:"text-lg font-medium text-gray-900"},Z={class:"bg-white overflow-hidden shadow rounded-lg"},tt={class:"p-5"},st={class:"flex items-center"},et={class:"ml-5 w-0 flex-1"},ot={class:"text-lg font-medium text-gray-900"},at={class:"bg-white overflow-hidden shadow rounded-lg"},nt={class:"p-5"},it={class:"flex items-center"},lt={class:"ml-5 w-0 flex-1"},dt={class:"text-lg font-medium text-gray-900"},rt={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ct={class:"bg-white shadow rounded-lg"},ut={class:"px-4 py-5 sm:p-6"},mt={class:"space-y-4"},gt={class:"flex items-center"},xt={class:"flex-shrink-0 h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center"},vt={class:"text-xs font-medium text-gray-700"},ht={class:"ml-3"},pt={class:"text-sm font-medium text-gray-900"},ft={class:"text-sm text-gray-500"},_t={class:"text-sm font-medium text-gray-900"},yt={class:"bg-white shadow rounded-lg"},wt={class:"px-4 py-5 sm:p-6"},kt={class:"space-y-4"},bt={class:"flex items-center"},jt={class:"flex-shrink-0 h-8 w-8 bg-gray-300 rounded-full flex items-center justify-center"},Bt={class:"text-xs font-medium text-gray-700"},Mt={class:"ml-3"},Dt={class:"text-sm font-medium text-gray-900"},Vt={class:"text-sm text-gray-500"},St={class:"text-sm font-medium text-gray-900"},Ut={class:"mt-8"},zt={class:"bg-white shadow rounded-lg"},Ct={class:"px-4 py-5 sm:p-6"},Rt={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Lt={class:"space-y-2"},At={class:"text-sm text-gray-600"},Ht={class:"text-sm font-medium"},Tt={class:"space-y-2"},Nt={class:"font-medium text-gray-900"},Pt={class:"grid grid-cols-2 gap-2 text-xs text-gray-600"},Ot={class:"space-y-2 text-sm"},Ft={class:"flex justify-between"},Qt={class:"font-medium"},Et={class:"flex justify-between"},Kt={class:"font-medium"},Yt={class:"flex justify-between"},$t={class:"font-medium"},Xt={__name:"Reports",props:{period:String,revenueData:Array,bookingData:Object,topUsers:Array,vehicleUtilization:Array},setup(u){const c=u,v=V(c.period),h=r(()=>c.revenueData.reduce((l,s)=>l+Number(s.total),0)),m=r(()=>Object.values(c.bookingData).reduce((l,s)=>l+s.reduce((e,a)=>e+a.count,0),0)),k=r(()=>c.topUsers.length),b=r(()=>c.vehicleUtilization.length),j=r(()=>m.value>0?h.value/m.value:0),B=r(()=>{const l=Object.values(c.bookingData).reduce((s,e)=>{const a=e.find(d=>d.status==="completed");return s+(a?a.count:0)},0);return m.value>0?Math.round(l/m.value*100):0}),M=r(()=>Math.round(Math.random()*30+60)),D=()=>{H.get(route("admin.reports"),{period:v.value},{preserveState:!0,replace:!0})},p=l=>new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric"});return(l,s)=>(n(),S(T,null,{default:w(()=>[t("div",N,[t("div",P,[t("div",O,[s[3]||(s[3]=t("div",null,[t("h1",{class:"text-3xl font-bold text-gray-900"},"Reports & Analytics"),t("p",{class:"mt-2 text-gray-600"},"System performance and analytics dashboard")],-1)),t("div",F,[U(t("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>v.value=e),onChange:D,class:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},s[1]||(s[1]=[t("option",{value:"7_days"},"Last 7 Days",-1),t("option",{value:"30_days"},"Last 30 Days",-1),t("option",{value:"90_days"},"Last 90 Days",-1),t("option",{value:"1_year"},"Last Year",-1)]),544),[[C,v.value]]),z(R(L),{href:l.route("admin.dashboard"),class:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"},{default:w(()=>s[2]||(s[2]=[A(" Back to Dashboard ")])),_:1,__:[2]},8,["href"])])])]),t("div",Q,[t("div",E,[t("div",K,[t("div",Y,[s[5]||(s[5]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),t("div",$,[t("dl",null,[s[4]||(s[4]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Revenue",-1)),t("dd",q,"â‚±"+o(h.value.toLocaleString()),1)])])])])]),t("div",G,[t("div",I,[t("div",J,[s[7]||(s[7]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),t("div",W,[t("dl",null,[s[6]||(s[6]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Bookings",-1)),t("dd",X,o(m.value),1)])])])])]),t("div",Z,[t("div",tt,[t("div",st,[s[9]||(s[9]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5 0a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),t("div",et,[t("dl",null,[s[8]||(s[8]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Active Users",-1)),t("dd",ot,o(k.value),1)])])])])]),t("div",at,[t("div",nt,[t("div",it,[s[11]||(s[11]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-6 w-6 text-yellow-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})])],-1)),t("div",lt,[t("dl",null,[s[10]||(s[10]=t("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Vehicles",-1)),t("dd",dt,o(b.value),1)])])])])])]),s[21]||(s[21]=t("div",{class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},[t("div",{class:"bg-white shadow rounded-lg"},[t("div",{class:"px-4 py-5 sm:p-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Revenue Trend"),t("div",{class:"h-64 flex items-center justify-center"},[t("div",{class:"text-center"},[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})]),t("p",{class:"mt-2 text-sm text-gray-500"},"Revenue chart placeholder"),t("p",{class:"text-xs text-gray-400"},"Chart.js integration needed")])])])]),t("div",{class:"bg-white shadow rounded-lg"},[t("div",{class:"px-4 py-5 sm:p-6"},[t("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Booking Status Distribution"),t("div",{class:"h-64 flex items-center justify-center"},[t("div",{class:"text-center"},[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})]),t("p",{class:"mt-2 text-sm text-gray-500"},"Pie chart placeholder"),t("p",{class:"text-xs text-gray-400"},"Chart.js integration needed")])])])])],-1)),t("div",rt,[t("div",ct,[t("div",ut,[s[12]||(s[12]=t("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Top Users by Bookings",-1)),t("div",mt,[(n(!0),i(g,null,x(u.topUsers,(e,a)=>(n(),i("div",{key:e.id,class:"flex items-center justify-between"},[t("div",gt,[t("div",xt,[t("span",vt,o(a+1),1)]),t("div",ht,[t("p",pt,o(e.first_name)+" "+o(e.last_name),1),t("p",ft,o(e.email),1)])]),t("div",_t,o(e.bookings_count)+" bookings",1)]))),128))])])]),t("div",yt,[t("div",wt,[s[13]||(s[13]=t("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Most Popular Vehicles",-1)),t("div",kt,[(n(!0),i(g,null,x(u.vehicleUtilization,(e,a)=>{var d,f,_,y;return n(),i("div",{key:e.id,class:"flex items-center justify-between"},[t("div",bt,[t("div",jt,[t("span",Bt,o(a+1),1)]),t("div",Mt,[t("p",Dt,o((d=e.make)==null?void 0:d.name)+" "+o((f=e.model)==null?void 0:f.name),1),t("p",Vt,o(e.license_plate)+" - "+o((_=e.owner)==null?void 0:_.first_name)+" "+o((y=e.owner)==null?void 0:y.last_name),1)])]),t("div",St,o(e.bookings_count)+" bookings",1)])}),128))])])])]),t("div",Ut,[t("div",zt,[t("div",Ct,[s[20]||(s[20]=t("h3",{class:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Period Summary",-1)),t("div",Rt,[t("div",null,[s[14]||(s[14]=t("h4",{class:"text-md font-medium text-gray-900 mb-2"},"Revenue Breakdown",-1)),t("div",Lt,[(n(!0),i(g,null,x(u.revenueData,e=>(n(),i("div",{key:e.date,class:"flex justify-between"},[t("span",At,o(p(e.date)),1),t("span",Ht,"â‚±"+o(Number(e.total).toLocaleString()),1)]))),128))])]),t("div",null,[s[15]||(s[15]=t("h4",{class:"text-md font-medium text-gray-900 mb-2"},"Booking Trends",-1)),t("div",Tt,[(n(!0),i(g,null,x(u.bookingData,(e,a)=>(n(),i("div",{key:a,class:"text-sm"},[t("div",Nt,o(p(a)),1),t("div",Pt,[(n(!0),i(g,null,x(e,d=>(n(),i("div",{key:d.status},o(d.status)+": "+o(d.count),1))),128))])]))),128))])]),t("div",null,[s[19]||(s[19]=t("h4",{class:"text-md font-medium text-gray-900 mb-2"},"Key Metrics",-1)),t("div",Ot,[t("div",Ft,[s[16]||(s[16]=t("span",{class:"text-gray-600"},"Avg. Booking Value:",-1)),t("span",Qt,"â‚±"+o(j.value.toLocaleString()),1)]),t("div",Et,[s[17]||(s[17]=t("span",{class:"text-gray-600"},"Completion Rate:",-1)),t("span",Kt,o(B.value)+"%",1)]),t("div",Yt,[s[18]||(s[18]=t("span",{class:"text-gray-600"},"Utilization Rate:",-1)),t("span",$t,o(M.value)+"%",1)])])])])])])])])]),_:1}))}};export{Xt as default};
