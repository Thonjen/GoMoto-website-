import{r as p,a as C,o as r,w as b,b as e,f as l,i as a,t as i,F as S,h as M,n as U,e as d,d as L,u as w,S as k,l as z,g as A,v as W,k as Q,Q as m}from"./app-D5PUyAMe.js";import{_ as G}from"./AuthenticatedLayout-B-cZbXuZ.js";import{_ as I}from"./RatingDisplay-y5BQACDO.js";import"./Footer-DI0umZVU.js";import"./Header-DdPT2WJT.js";import"./ResponsiveNavLink-BCB-x7oE.js";import"./star-BFcB2k8t.js";import"./createLucideIcon-B4NPXSPX.js";const Y={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Z={class:"space-y-8"},ee={class:"mb-8"},te={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},se={class:"flex gap-4"},oe={class:"text-center"},re={class:"text-2xl font-bold text-blue-600"},le={class:"text-center"},ie={class:"text-2xl font-bold text-green-600"},ne={class:"text-center"},ae={class:"text-2xl font-bold text-purple-600"},de={class:"mb-6"},ce={class:"border-b border-gray-200"},ue={class:"-mb-px flex space-x-8"},me=["onClick"],ve={class:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-xs"},fe=["onClick"],ge={key:0,class:"text-center py-16"},he={class:"text-2xl font-bold text-gray-900 mb-3"},xe={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},pe={class:"relative h-48 bg-gray-200"},be=["src","alt"],ye={key:1,class:"w-full h-full flex items-center justify-center text-gray-500"},we={class:"absolute top-3 left-3 bg-white bg-opacity-90 backdrop-blur-sm text-gray-800 px-2 py-1 rounded-full text-xs font-medium"},ke=["onClick"],_e={class:"p-5"},Ce={class:"mb-3"},Se={class:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors"},Me={class:"text-gray-600 font-normal"},Le={class:"text-sm text-gray-600"},Ve={key:0,class:"mb-3"},je={key:1,class:"flex items-center gap-2 text-purple-600 bg-purple-50 px-3 py-2 rounded-lg mb-3"},$e={class:"text-sm font-medium"},Te={key:2,class:"mb-4"},Ne={class:"flex items-center justify-between"},Ee={class:"text-2xl font-bold text-green-600"},Be={key:3,class:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},Oe={class:"text-sm text-yellow-800"},De={class:"flex gap-2"},ze=["onClick"],Ae={key:2,class:"flex justify-center"},Fe={class:"flex space-x-2"},qe={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Re={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},He={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Je={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Ke={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Xe={key:1,class:"fixed inset-0 z-50 overflow-y-auto"},Pe={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ue={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},We={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Qe={class:"text-sm text-gray-600 mb-4"},Ge=["value"],Ie={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},it={__name:"SavedVehicles",props:{savedVehicles:Object,wishlists:Array,currentList:String,stats:Object},setup(n){const v=p(!1),f=p(""),g=p(!1),c=p(null),u=p(""),F=o=>0,q=o=>{m.get(route("vehicles.saved"),{list:o})},R=o=>new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric"}),H=async o=>{var t,h;if(confirm(`Remove ${(t=o.vehicle.make)==null?void 0:t.name} ${(h=o.vehicle.model)==null?void 0:h.name} from ${o.list_name}?`))try{(await fetch("/api/vehicles/save",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({vehicle_id:o.vehicle.id,list_name:o.list_name})})).ok&&m.reload()}catch(x){console.error("Error removing save:",x)}},J=async()=>{if(f.value.trim())try{(await fetch("/api/vehicles/save/create-list",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({list_name:f.value.trim()})})).ok&&(v.value=!1,f.value="",m.reload())}catch(o){console.error("Error creating list:",o)}},K=o=>{c.value=o,u.value="",g.value=!0},X=async()=>{if(!(!u.value||!c.value))try{(await fetch("/api/vehicles/save/move",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({vehicle_id:c.value.vehicle.id,from_list:c.value.list_name,to_list:u.value})})).ok&&(g.value=!1,c.value=null,u.value="",m.reload())}catch(o){console.error("Error moving vehicle:",o)}},P=async o=>{if(o!=="My Saved Vehicles"&&confirm(`Delete the "${o}" list? All vehicles in this list will be moved to "My Saved Vehicles".`))try{(await fetch("/api/vehicles/save/delete-list",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({list_name:o})})).ok&&(currentList===o?m.get(route("vehicles.saved")):m.reload())}catch(t){console.error("Error deleting list:",t)}};return(o,t)=>(r(),C(G,null,{default:b(()=>{var h,x,V,j,$,T;return[e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[t[10]||(t[10]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"My Saved Vehicles"),e("p",{class:"text-gray-600 mt-1"}," Vehicles you've saved for future booking ")],-1)),e("div",se,[e("div",oe,[e("div",re,i(n.stats.total_saves),1),t[7]||(t[7]=e("div",{class:"text-xs text-gray-500"},"Total Saved",-1))]),e("div",le,[e("div",ie,i(n.stats.total_lists),1),t[8]||(t[8]=e("div",{class:"text-xs text-gray-500"},"Wishlists",-1))]),e("div",ne,[e("div",ae,i(n.stats.recent_saves),1),t[9]||(t[9]=e("div",{class:"text-xs text-gray-500"},"This Week",-1))])])])]),e("div",de,[e("div",ce,[e("nav",ue,[(r(!0),l(S,null,M(n.wishlists,s=>(r(),l("div",{key:s,class:"flex items-center"},[e("button",{onClick:y=>q(s),class:U(["py-2 px-1 border-b-2 font-medium text-sm transition-colors",n.currentList===s?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[d(i(s)+" ",1),e("span",ve,i(F(s)),1)],10,me),s!=="My Saved Vehicles"?(r(),l("button",{key:0,onClick:y=>P(s),class:"ml-1 text-red-400 hover:text-red-600 p-1 rounded transition-colors",title:"Delete this list"},t[11]||(t[11]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,fe)):a("",!0)]))),128)),e("button",{onClick:t[0]||(t[0]=s=>v.value=!0),class:"py-2 px-1 border-b-2 border-transparent text-gray-400 hover:text-gray-600 font-medium text-sm transition-colors flex items-center"},t[12]||(t[12]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),d(" New List ")]))])])]),n.savedVehicles.data.length===0?(r(),l("div",ge,[t[14]||(t[14]=e("div",{class:"mx-auto w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mb-6"},[e("svg",{class:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])],-1)),e("h3",he,"No saved vehicles in "+i(n.currentList),1),t[15]||(t[15]=e("p",{class:"text-gray-600 mb-6 max-w-md mx-auto"}," Start building your wishlist by saving vehicles you're interested in. ",-1)),L(w(k),{href:o.route("public.vehicles.index"),class:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors"},{default:b(()=>t[13]||(t[13]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),d(" Browse Vehicles ")])),_:1,__:[13]},8,["href"])])):(r(),l("div",xe,[(r(!0),l(S,null,M(n.savedVehicles.data,s=>{var y,N,E,B,O,D;return r(),l("div",{key:`${s.vehicle.id}-${s.list_name}`,class:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 group"},[e("div",pe,[s.vehicle.main_photo_url?(r(),l("img",{key:0,src:s.vehicle.main_photo_url,alt:`${(y=s.vehicle.make)==null?void 0:y.name} ${(N=s.vehicle.model)==null?void 0:N.name}`,class:"w-full h-full object-cover"},null,8,be)):(r(),l("div",ye,t[16]||(t[16]=[e("svg",{class:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 002 2z"})],-1)]))),e("div",we," Saved "+i(R(s.saved_at)),1),e("button",{onClick:_=>H(s),class:"absolute top-3 right-3 bg-red-500 bg-opacity-90 text-white p-2 rounded-full hover:bg-red-600 transition-colors opacity-0 group-hover:opacity-100",title:"Remove from list"},t[17]||(t[17]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,ke)]),e("div",_e,[e("div",Ce,[e("h3",Se,[d(i((E=s.vehicle.make)==null?void 0:E.name)+" "+i((B=s.vehicle.model)==null?void 0:B.name)+" ",1),e("span",Me,"("+i(s.vehicle.year)+")",1)]),e("p",Le,i((O=s.vehicle.type)==null?void 0:O.sub_type),1)]),s.vehicle.ratings_avg_rating>0?(r(),l("div",Ve,[L(I,{rating:s.vehicle.ratings_avg_rating,count:s.vehicle.ratings_count,size:"sm"},null,8,["rating","count"])])):a("",!0),s.vehicle.owner?(r(),l("div",je,[t[18]||(t[18]=e("svg",{class:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)),e("span",$e,"Owner: "+i(s.vehicle.owner.name),1)])):a("",!0),(D=s.vehicle.pricing_tiers)!=null&&D.length?(r(),l("div",Te,[e("div",Ne,[e("span",Ee," â‚±"+i(Math.min(...s.vehicle.pricing_tiers.map(_=>parseFloat(_.price)))),1),t[19]||(t[19]=e("span",{class:"text-sm text-gray-500"},"/day",-1))])])):a("",!0),s.notes?(r(),l("div",Be,[e("p",Oe,[t[20]||(t[20]=e("span",{class:"font-medium"},"My notes:",-1)),d(" "+i(s.notes),1)])])):a("",!0),e("div",De,[L(w(k),{href:o.route("public.vehicles.show",s.vehicle.id),class:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors text-center"},{default:b(()=>t[21]||(t[21]=[d(" View Details ")])),_:2,__:[21]},1032,["href"]),e("button",{onClick:_=>K(s),class:"bg-gray-100 text-gray-600 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors",title:"Move to different list"},t[22]||(t[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})],-1)]),8,ze)])])])}),128))])),n.savedVehicles.last_page>1?(r(),l("div",Ae,[e("nav",Fe,[n.savedVehicles.prev_page_url?(r(),C(w(k),{key:0,href:n.savedVehicles.prev_page_url,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors"},{default:b(()=>t[23]||(t[23]=[d(" Previous ")])),_:1,__:[23]},8,["href"])):a("",!0),n.savedVehicles.next_page_url?(r(),C(w(k),{key:1,href:n.savedVehicles.next_page_url,class:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors"},{default:b(()=>t[24]||(t[24]=[d(" Next ")])),_:1,__:[24]},8,["href"])):a("",!0)])])):a("",!0)])]),v.value?(r(),l("div",qe,[e("div",Re,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[1]||(t[1]=s=>v.value=!1)}),e("div",He,[e("form",{onSubmit:z(J,["prevent"])},[e("div",Je,[t[25]||(t[25]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Create New Wishlist",-1)),A(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>f.value=s),type:"text",placeholder:"Enter wishlist name...",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:"",maxlength:"100"},null,512),[[W,f.value]])]),e("div",Ke,[t[26]||(t[26]=e("button",{type:"submit",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"}," Create List ",-1)),e("button",{type:"button",onClick:t[3]||(t[3]=s=>v.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):a("",!0),g.value?(r(),l("div",Xe,[e("div",Pe,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:t[4]||(t[4]=s=>g.value=!1)}),e("div",Ue,[e("form",{onSubmit:z(X,["prevent"])},[e("div",We,[t[28]||(t[28]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Move Vehicle to List",-1)),e("p",Qe," Move "+i((V=(x=(h=c.value)==null?void 0:h.vehicle)==null?void 0:x.make)==null?void 0:V.name)+" "+i((T=($=(j=c.value)==null?void 0:j.vehicle)==null?void 0:$.model)==null?void 0:T.name)+" to a different list: ",1),A(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>u.value=s),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:""},[t[27]||(t[27]=e("option",{value:""},"Select destination list...",-1)),(r(!0),l(S,null,M(n.wishlists.filter(s=>s!==n.currentList),s=>(r(),l("option",{key:s,value:s},i(s),9,Ge))),128))],512),[[Q,u.value]])]),e("div",Ie,[t[29]||(t[29]=e("button",{type:"submit",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm"}," Move Vehicle ",-1)),e("button",{type:"button",onClick:t[6]||(t[6]=s=>g.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," Cancel ")])],32)])])])):a("",!0)]}),_:1}))}};export{it as default};
