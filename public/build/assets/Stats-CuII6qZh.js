import{f as i,o as a,d as w,u as c,y as B,w as m,b as e,t as o,i as d,F as x,h as k,e as h,n as g,a as y,S as p,Q as L}from"./app-D5PUyAMe.js";import{_ as M}from"./OwnerLayout-R8EC1rpz.js";import"./ResponsiveNavLink-BCB-x7oE.js";import"./Footer-DI0umZVU.js";import"./Header-DdPT2WJT.js";const V={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},j={class:"p-6 text-gray-900"},D={class:"bg-white border border-gray-200 rounded-lg shadow-sm mb-6"},N={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},O={class:"p-6"},P={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},H={class:"bg-green-50 rounded-lg p-4 text-center"},U={class:"text-2xl font-bold text-green-600"},F={class:"bg-yellow-50 rounded-lg p-4 text-center"},z={class:"text-2xl font-bold text-yellow-600"},A={class:"bg-red-50 rounded-lg p-4 text-center"},E={class:"text-2xl font-bold text-red-600"},Q={class:"bg-blue-50 rounded-lg p-4 text-center"},R={class:"text-2xl font-bold text-blue-600"},$={class:"bg-white border border-gray-200 rounded-lg shadow-sm"},W={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},q={class:"p-6"},G={class:"overflow-x-auto"},I={key:0,class:"text-center py-8"},J={key:1,class:"min-w-full divide-y divide-gray-200"},K={class:"bg-white divide-y divide-gray-200"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"text-sm font-medium text-gray-900"},Z={class:"text-sm text-gray-500"},ee={key:0,class:"text-xs bg-gray-100 px-1 rounded"},te={class:"px-6 py-4 whitespace-nowrap"},se={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},re={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"},ae={class:"px-6 py-4 whitespace-nowrap"},oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ie={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ne=["onClick"],de={key:1,class:"text-gray-400"},le={key:0,class:"mt-4"},ce={class:"flex items-center justify-between"},xe={class:"flex-1 flex justify-between sm:hidden"},ge={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ue={key:0},me={class:"text-sm text-gray-700"},he={class:"relative z-0 inline-flex shadow-sm rounded-md"},ye=["innerHTML"],ke={__name:"Stats",props:{overcharges:Object,stats:Object},setup(r){const S=n=>{switch(n){case"late_return":return"bg-red-100 text-red-800";case"out_of_city":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},C=n=>new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),u=n=>parseFloat(n||0).toFixed(2),T=n=>{confirm("Mark this overcharge as paid?")&&L.post(route("owner.overcharges.markPaid",n),{},{onSuccess:()=>{}})};return(n,s)=>(a(),i(x,null,[w(c(B),{title:"Overcharge Statistics"}),w(M,null,{default:m(()=>[e("div",V,[e("div",j,[s[10]||(s[10]=e("div",{class:"mb-6"},[e("h1",{class:"text-3xl font-bold text-gray-800"},"Overcharge"),e("p",{class:"text-gray-600 mt-2"}," See and manage your overcharge settings ")],-1)),e("div",D,[e("div",N,[e("div",O,[s[4]||(s[4]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Summary ",-1)),e("div",P,[e("div",H,[e("div",U," ₱"+o(u(r.stats.total_overcharges)),1),s[0]||(s[0]=e("div",{class:"text-sm text-gray-500"}," Total Earned ",-1))]),e("div",F,[e("div",z," ₱"+o(u(r.stats.unpaid_overcharges)),1),s[1]||(s[1]=e("div",{class:"text-sm text-gray-500"}," Unpaid ",-1))]),e("div",A,[e("div",E,o(r.stats.late_returns_count),1),s[2]||(s[2]=e("div",{class:"text-sm text-gray-500"}," Late Returns ",-1))]),e("div",Q,[e("div",R,o(r.stats.out_of_city_count),1),s[3]||(s[3]=e("div",{class:"text-sm text-gray-500"}," Out of City ",-1))])])])])]),e("div",$,[e("div",W,[e("div",q,[s[9]||(s[9]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Recent Overcharges ",-1)),e("div",G,[!r.overcharges.data||r.overcharges.data.length===0?(a(),i("div",I,s[5]||(s[5]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("p",{class:"mt-2 text-lg font-medium text-gray-900"}," No overcharges yet ",-1),e("p",{class:"mt-1 text-gray-500"}," When renters return vehicles late or outside the city, overcharges will appear here. ",-1)]))):(a(),i("table",J,[s[6]||(s[6]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Booking / Vehicle "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Type "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Details "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",K,[(a(!0),i(x,null,k(r.overcharges.data,t=>{var l,f,b,v,_;return a(),i("tr",{key:t.id},[e("td",X,[e("div",Y," Booking #"+o(t.booking.id),1),e("div",Z,[h(o(((f=(l=t.booking.vehicle)==null?void 0:l.brand)==null?void 0:f.name)||"Unknown Brand")+" "+o(((v=(b=t.booking.vehicle)==null?void 0:b.vehicle_type)==null?void 0:v.name)||"Unknown Type")+" ",1),(_=t.booking.vehicle)!=null&&_.license_plate?(a(),i("span",ee,o(t.booking.vehicle.license_plate),1)):d("",!0)])]),e("td",te,[e("span",{class:g([S(t.overcharge_type.name),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},o(t.overcharge_type.description),3)]),e("td",se,o(t.details),1),e("td",re," ₱"+o(u(t.amount)),1),e("td",ae,[e("span",{class:g([t.is_paid?"bg-green-100 text-green-800":"bg-red-100 text-red-800","px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},o(t.is_paid?"Paid":"Unpaid"),3)]),e("td",oe,o(C(t.occurred_at)),1),e("td",ie,[t.is_paid?(a(),i("span",de," Paid ")):(a(),i("button",{key:0,onClick:pe=>T(t.id),class:"text-green-600 hover:text-green-900"}," Mark as Paid ",8,ne))])])}),128))])]))]),r.overcharges.links&&r.overcharges.links.length>0?(a(),i("div",le,[e("nav",ce,[e("div",xe,[r.overcharges.prev_page_url?(a(),y(c(p),{key:0,href:r.overcharges.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:m(()=>s[7]||(s[7]=[h(" Previous ")])),_:1,__:[7]},8,["href"])):d("",!0),r.overcharges.next_page_url?(a(),y(c(p),{key:1,href:r.overcharges.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:m(()=>s[8]||(s[8]=[h(" Next ")])),_:1,__:[8]},8,["href"])):d("",!0)]),e("div",ge,[r.overcharges.from&&r.overcharges.to&&r.overcharges.total?(a(),i("div",ue,[e("p",me," Showing "+o(r.overcharges.from)+" to "+o(r.overcharges.to)+" of "+o(r.overcharges.total)+" results ",1)])):d("",!0),e("div",null,[e("span",he,[(a(!0),i(x,null,k(r.overcharges.links||[],(t,l)=>(a(),i(x,{key:l},[t&&t.url?(a(),y(c(p),{key:0,href:t.url,class:g([t.active?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50","relative inline-flex items-center px-4 py-2 border text-sm font-medium"]),innerHTML:t.label},null,8,["href","class","innerHTML"])):t&&!t.url&&t.label?(a(),i("span",{key:1,class:g([t.active?"bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500","relative inline-flex items-center px-4 py-2 border text-sm font-medium cursor-default"]),innerHTML:t.label},null,10,ye)):d("",!0)],64))),128))])])])])])):d("",!0)])])])])])]),_:1})],64))}};export{ke as default};
