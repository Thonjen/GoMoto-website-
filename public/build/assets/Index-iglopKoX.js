import{r as d,q as T,a as h,o as a,w as U,b as e,f as b,i as S,l as f,g as n,v as p,k as x,F as V,h as C,e as q,t as c,Q as m}from"./app-D5PUyAMe.js";import{_ as D}from"./OwnerLayout-R8EC1rpz.js";import"./ResponsiveNavLink-BCB-x7oE.js";import"./Footer-DI0umZVU.js";import"./Header-DdPT2WJT.js";const M={class:"max-w-2xl mx-auto bg-white p-6 rounded shadow"},P={class:"min-w-full bg-white border"},$={class:"border px-4 py-2"},B={class:"border px-4 py-2"},E={class:"border px-4 py-2"},F={class:"border px-4 py-2"},N=["onClick"],A=["onClick"],Q={key:0,class:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"},j={class:"bg-white p-6 rounded shadow-lg w-full max-w-sm"},z={class:"mb-2"},I={class:"mb-2"},L={class:"mb-2"},G={class:"flex gap-2 mt-4"},X={__name:"Index",setup(H){const v=d([]),i=d({duration_from:"",duration_unit:"hours",price:""}),l=d(!1),s=d({id:null,duration_from:"",duration_unit:"hours",price:""});function u(){m.get("/owner/pricing-tiers",{},{preserveState:!0,onSuccess:r=>{v.value=r.props.pricingTiers||[]}})}function y(){m.post("/owner/pricing-tiers",i.value,{onSuccess:()=>{i.value={duration_from:"",duration_unit:"hours",price:""},u()}})}function g(r){confirm("Delete this pricing tier?")&&m.delete(`/owner/pricing-tiers/${r}`,{onSuccess:u})}function w(r){s.value={...r},l.value=!0}function _(){m.post(`/owner/pricing-tiers/${s.value.id}`,{...s.value,_method:"PUT"},{onSuccess:()=>{l.value=!1,u()}})}return T(u),(r,t)=>(a(),h(D,null,{default:U(()=>[e("div",M,[t[17]||(t[17]=e("h1",{class:"text-2xl font-bold mb-4"},"My Pricing Tiers",-1)),e("form",{onSubmit:f(y,["prevent"]),class:"flex gap-2 mb-6"},[n(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>i.value.duration_from=o),type:"number",min:"1",placeholder:"Duration",class:"border p-1 w-20",required:""},null,512),[[p,i.value.duration_from]]),n(e("select",{"onUpdate:modelValue":t[1]||(t[1]=o=>i.value.duration_unit=o),class:"border p-1",required:""},t[7]||(t[7]=[e("option",{value:"minutes"},"minute(s)",-1),e("option",{value:"hours"},"hour(s)",-1),e("option",{value:"days"},"day(s)",-1)]),512),[[x,i.value.duration_unit]]),n(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>i.value.price=o),type:"number",min:"0",step:"0.01",placeholder:"Price",class:"border p-1 w-24",required:""},null,512),[[p,i.value.price]]),t[8]||(t[8]=e("button",{type:"submit",class:"bg-blue-600 text-white px-3 py-1 rounded"},"Add",-1))],32),e("table",P,[t[10]||(t[10]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2"},"Duration"),e("th",{class:"px-4 py-2"},"Unit"),e("th",{class:"px-4 py-2"},"Price"),e("th",{class:"px-4 py-2"},"Actions")])],-1)),e("tbody",null,[(a(!0),b(V,null,C(v.value,o=>(a(),b("tr",{key:o.id},[e("td",$,c(o.duration_from),1),e("td",B,c(o.duration_from==1?o.duration_unit.slice(0,-1):o.duration_unit),1),t[9]||(t[9]=q()),e("td",E,"â‚±"+c(o.price),1),e("td",F,[e("button",{onClick:k=>w(o),class:"text-blue-600 mr-2"},"Edit",8,N),e("button",{onClick:k=>g(o.id),class:"text-red-600"},"Delete",8,A)])]))),128))])]),l.value?(a(),b("div",Q,[e("div",j,[t[16]||(t[16]=e("h2",{class:"text-lg font-bold mb-4"},"Edit Pricing Tier",-1)),e("form",{onSubmit:f(_,["prevent"])},[e("div",z,[t[11]||(t[11]=e("label",{class:"block mb-1"},"Duration",-1)),n(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.value.duration_from=o),type:"number",min:"1",class:"border p-2 w-full",required:""},null,512),[[p,s.value.duration_from]])]),e("div",I,[t[13]||(t[13]=e("label",{class:"block mb-1"},"Unit",-1)),n(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.value.duration_unit=o),class:"border p-2 w-full",required:""},t[12]||(t[12]=[e("option",{value:"minutes"},"minute(s)",-1),e("option",{value:"hours"},"hour(s)",-1),e("option",{value:"days"},"day(s)",-1)]),512),[[x,s.value.duration_unit]])]),e("div",L,[t[14]||(t[14]=e("label",{class:"block mb-1"},"Price",-1)),n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.value.price=o),type:"number",min:"0",step:"0.01",class:"border p-2 w-full",required:""},null,512),[[p,s.value.price]])]),e("div",G,[t[15]||(t[15]=e("button",{type:"submit",class:"bg-blue-600 text-white px-4 py-2 rounded"},"Update",-1)),e("button",{type:"button",onClick:t[6]||(t[6]=o=>l.value=!1),class:"bg-gray-300 px-4 py-2 rounded"},"Cancel")])],32)])])):S("",!0)])]),_:1}))}};export{X as default};
