import{r as v,j as Ve,M as le,c as w,q as Le,f as i,o as n,d as N,i as g,w as W,b as t,x as ie,t as r,F as m,h as y,n as U,e as u,l as ne,g as c,u as E,k as x,v as F,B as re,N as Pe,S as Te,Q as $e}from"./app-Bp2smfCm.js";import{O as Ue}from"./OwnerLayout-CIxJgbS-.js";import{i as ze,v as Ae,u as Ee,n as Fe}from"./vue-leaflet.es-ChQYoYNx.js";import{C as De}from"./CustomImageUploader-CpZMBOS5.js";import{t as Re}from"./throttle-Dasc37Bf.js";import"./Header-fek8bTNe.js";import"./Footer-BrurEhWM.js";/* empty css                                                                            */const Ye={class:"min-h-screen py-8",style:{background:"linear-gradient(135deg, #535862 0%, #3a3f4a 100%)"}},Be={class:"glass-card-dark p-6 rounded-lg shadow-glow max-w-4xl mx-auto border border-white/20"},Ge={class:"mb-6"},Ie={class:"flex items-center justify-between"},Oe={class:"flex-1 mr-4"},qe={class:"w-full bg-white/10 rounded-full h-2 overflow-hidden"},He={class:"text-white/80 text-sm min-w-[130px] text-right"},Je={class:"mt-3 grid grid-cols-3 sm:grid-cols-7 gap-2"},Qe=["disabled","title","onClick"],We={class:"truncate"},Ke={key:0,class:"border border-white/20 rounded-lg p-4 bg-white/5 backdrop-blur-sm shadow-glow space-y-4"},Xe={class:"flex items-center justify-between"},Ze=["disabled"],et={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},tt={key:1,class:"h-4 w-4 animate-spin",viewBox:"0 0 24 24"},st={class:"h-72 rounded overflow-hidden border border-white/20 shadow-glow"},ot={class:"space-y-2 text-sm bg-white/10 backdrop-blur-sm p-4 rounded shadow-glow border border-white/20"},lt=["title"],it={class:"text-white/70"},nt={class:"flex items-center gap-2"},rt=["href"],at={key:1},dt={class:"grid grid-cols-2 gap-4"},ut={key:2,class:"space-y-5"},ct={class:"flex items-start justify-between gap-3 flex-wrap"},pt={class:"text-xs text-white/70"},bt={class:"w-full bg-white/10 rounded-full h-2 overflow-hidden"},vt={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},mt={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gt=["value"],ht=["disabled"],wt=["value"],ft={key:0,class:"text-xs text-white/60 mt-1"},yt={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xt=["value"],kt=["value"],_t=["value"],Ct=["value"],St={class:"relative"},Mt={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},jt={class:"md:col-span-1"},Nt={key:1,class:"md:col-span-2"},Vt={class:"md:col-span-2"},Lt={class:"md:col-span-2"},Pt={class:"inline-flex items-center gap-2 text-white/90"},Tt={class:"main-photo-section border border-white/20 rounded-lg p-6 bg-white/5 backdrop-blur-sm shadow-glow space-y-4"},$t={class:"photo-uploader-wrapper"},Ut={key:3,class:"border-t pt-6"},zt={class:"flex items-center justify-between mb-4"},At=["disabled"],Et={key:0},Ft={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Dt=["value"],Rt={class:"font-medium text-white"},Yt={class:"text-sm white"},Bt={key:1,class:"text-sm text-gray-500"},Gt={key:2,class:"text-sm text-gray-500"},It={class:"text-sm text-gray-300 mt-2"},Ot={key:4,class:"border border-white/20 rounded-lg p-4 bg-white/5 backdrop-blur-sm shadow-glow space-y-4"},qt={class:"space-y-3"},Ht={class:"bg-white/5 border border-white/10 rounded p-3"},Jt={class:"flex items-center justify-between"},Qt={class:"text-white/80 text-sm mt-2"},Wt=["title"],Kt={class:"bg-white/5 border border-white/10 rounded p-3"},Xt={class:"flex items-center justify-between"},Zt={class:"text-white/80 text-sm mt-2"},es={class:"bg-white/5 border border-white/10 rounded p-3"},ts={class:"flex items-center justify-between"},ss={class:"text-white/80 text-sm mt-2 grid grid-cols-1 sm:grid-cols-2 gap-y-1"},os={key:0},ls={class:"sm:col-span-2"},is={class:"sm:col-span-2 mt-2"},ns={key:1},rs={key:2},as={key:3},ds={class:"bg-white/5 border border-white/10 rounded p-3"},us={class:"flex items-center justify-between"},cs={class:"text-white/80 text-sm mt-2"},ps={key:0},bs={key:1},vs={class:"bg-white/5 border border-white/10 rounded p-3"},ms={class:"flex items-center justify-between"},gs={class:"text-white/80 text-sm mt-2"},hs={key:0},ws={key:1},fs={class:"border-t border-white/20 pt-6 flex items-center justify-between gap-3"},ys=["disabled"],xs={class:"ml-auto flex items-center gap-2"},ks=["disabled"],_s=["disabled"],Cs={class:"glass-card-dark max-w-md w-full rounded-lg border border-white/20 shadow-glow"},Ss={class:"p-5 border-b border-white/10 flex items-center justify-between"},Ms={class:"p-5 text-white/90 space-y-3"},js={class:"p-5 pt-0 flex justify-end gap-2"},Es={__name:"Create",props:{fuelTypes:Array,transmissions:Array,types:Array},setup(ae){const S=ae,h=[{key:"location",title:"Location"},{key:"type",title:"Type"},{key:"details",title:"Details"},{key:"photo",title:"Photo"},{key:"pricing",title:"Pricing"},{key:"review",title:"Review"}],d=v(0),D=["Make & Model","Core Specs","Attributes"],p=v(0);function de(l){var o;const e=(((o=l==null?void 0:l.target)==null?void 0:o.value)||"").trim();if(!e){s.color="";return}s.color=e.split(/\s+/).map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ")}const s=Ve({vehicle_type:"",make_id:"",model_id:"",type_id:"",fuel_type_id:"",transmission_id:"",year:"",license_plate:"",color:"",engine_size:"",horsepower:"",doors:"",seats:"",description:"",is_available:!0,lat:9.785903415098108,lng:125.49062330098809,location_name:"Surigao del Norte, Philippines"}),G=v([]),M=v([]),I=v([]),z=v([]),R=v(!1),V=v(!1),L=v(!1),k=v(null);v(null);const P=v(!1),_=v(!1),C=v("Your current location appears to be outside the supported service area."),K={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:[[[125.48262478637525,9.756059051678463],[125.43127642703769,9.790933650321918],[125.43368935603019,9.824558654805614],[125.44164551553729,9.826558849930976],[125.50466480111874,9.787610886673647],[125.50694880274585,9.76500759737057],[125.48263246790816,9.756027787360921],[125.48262478637525,9.756059051678463]]],type:"Polygon"}}]},ue=Re(async()=>{if(s.lat&&s.lng)try{const e=await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${s.lat}&lon=${s.lng}&format=json`)).json();s.location_name=e.display_name}catch{locationName.value="Unknown location",s.location_name=""}},1e3),ce=()=>({color:"#1976d2",weight:2,fill:!1});le(()=>[s.lat,s.lng],()=>{ue()},{immediate:!0});const pe=w(()=>{const l=new Date().getFullYear(),e=[];for(let o=l+1;o>=2e3;o--)e.push(o);return e}),be=w(()=>s.vehicle_type?G.value.filter(l=>l.vehicle_type===s.vehicle_type):[]),ve=w(()=>{if(!s.vehicle_type)return S.types||[];const e={car:"car",motorcycle:"motorcycle"}[s.vehicle_type];return(S.types||[]).filter(o=>o.category===e)});Le(async()=>{await me(),await X()}),le(()=>s.vehicle_type,()=>{s.make_id="",s.model_id="",s.type_id="",s.engine_size="",s.horsepower="",s.doors="",s.seats="",M.value=[],p.value=0});async function me(){try{const l=await fetch("/api/vehicle-data/makes/car");if(l.ok){const e=await l.json(),o=await fetch("/api/vehicle-data/makes/motorcycle");if(o.ok){const a=await o.json();G.value=[...e,...a]}}}catch(l){console.error("Error loading makes:",l)}}async function X(){L.value=!0;try{const l=await fetch("/owner/pricing-tiers/list");if(l.ok){const e=await l.json();I.value=e.pricingTiers||[]}}catch(l){console.error("Error loading pricing tiers:",l)}finally{L.value=!1}}async function ge(){if(!s.make_id){M.value=[];return}R.value=!0,s.model_id="";try{const l=await fetch(`/api/vehicle-data/models/${s.make_id}`);l.ok?M.value=await l.json():M.value=[]}catch(l){console.error("Error loading models:",l),M.value=[]}finally{R.value=!1}}function he(l){k.value=l}function we(l){const e=l.latlng.lat,o=l.latlng.lng;if(!Z(e,o)){C.value="You can only place markers within the Surigao del Norte service area. Please click inside the highlighted boundary.",_.value=!0;return}s.lat=e,s.lng=o,ee(s.lat,s.lng)}function Z(l,e){var o,a,f,j;try{const b=(j=(f=(a=(o=K.features)==null?void 0:o[0])==null?void 0:a.geometry)==null?void 0:f.coordinates)==null?void 0:j[0];if(!b||!Array.isArray(b))return!1;const je=e,q=l;let H=!1;for(let B=0,J=b.length-1;B<b.length;J=B++){const se=b[B][0],Q=b[B][1],Ne=b[J][0],oe=b[J][1];Q>q!=oe>q&&je<(Ne-se)*(q-Q)/(oe-Q)+se&&(H=!H)}return H}catch(b){return console.error("Error checking if point is within city:",b),!1}}function fe(){if(!("geolocation"in navigator)){C.value="Geolocation is not supported by your browser. Please set the location manually on the map.",_.value=!0;return}P.value=!0,navigator.geolocation.getCurrentPosition(l=>{P.value=!1;const{latitude:e,longitude:o}=l.coords;Z(e,o)?(s.lat=e,s.lng=o,ee(e,o)):(C.value="Your current location is outside Surigao del Norte city bounds. Please pick a valid location within the highlighted area.",_.value=!0)},l=>{P.value=!1,l.code===1?C.value="Permission to access location was denied. You can enable it in your browser settings or set the location manually.":l.code===2?C.value="Position unavailable. Please try again or set the location manually.":l.code===3?C.value="Location request timed out. Please try again or set the location manually.":C.value="Unable to get your current location. Please set the location manually.",_.value=!0},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})}async function ee(l,e){try{const o=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${l}&lon=${e}`);if(o.ok){const a=await o.json();s.location_name=a.display_name.split(",").slice(0,3).join(", ")}}catch(o){console.error("Reverse geocoding error:",o),s.location_name=`${l.toFixed(6)}, ${e.toFixed(6)}`}}const ye=w(()=>{const l=G.value.find(e=>String(e.id)===String(s.make_id));return(l==null?void 0:l.name)||""}),xe=w(()=>{const l=M.value.find(e=>String(e.id)===String(s.model_id));return(l==null?void 0:l.name)||""}),te=w(()=>{const l=(S.types||[]).find(e=>String(e.id)===String(s.type_id));return(l==null?void 0:l.name)||""}),ke=w(()=>{const l=(S.fuelTypes||[]).find(e=>String(e.id)===String(s.fuel_type_id));return(l==null?void 0:l.name)||""}),_e=w(()=>{const l=(S.transmissions||[]).find(e=>String(e.id)===String(s.transmission_id));return(l==null?void 0:l.name)||""});function Y(l,e=4){return l==null||isNaN(l)?"â€”":Number(l).toFixed(e)}const T=w(()=>{const l=h[d.value].key;return l==="location"?!!s.lat&&!!s.lng&&!!s.location_name:l==="type"?!!s.vehicle_type:l==="details"?p.value===0?!!s.make_id&&!!s.model_id:p.value===1?!!s.type_id&&!!s.year&&!!s.transmission_id&&!!s.fuel_type_id:p.value===2?!!s.color:!0:l==="photo"?!!k.value:l==="pricing"?!0:l==="review"?!!s.lat&&!!s.lng&&!!s.vehicle_type&&!!s.make_id&&!!s.model_id&&!!s.year&&!!s.transmission_id&&!!s.fuel_type_id&&!!s.color&&!!s.type_id&&!!k.value:!0}),A=w(()=>h.map(l=>{switch(l.key){case"location":return!!s.lat&&!!s.lng&&!!s.location_name;case"type":return!!s.vehicle_type;case"details":return!!s.make_id&&!!s.model_id&&!!s.type_id&&!!s.year&&!!s.transmission_id&&!!s.fuel_type_id&&!!s.color;case"photo":return!!k.value;case"pricing":return!0;case"review":return!!s.lat&&!!s.lng&&!!s.vehicle_type&&!!s.make_id&&!!s.model_id&&!!s.year&&!!s.transmission_id&&!!s.fuel_type_id&&!!s.color&&!!s.type_id&&!!k.value;default:return!0}}));function Ce(){if(!T.value)return;if(h[d.value].key==="details"&&p.value<D.length-1){p.value++;return}d.value<h.length-1&&d.value++}function Se(){if(h[d.value].key==="details"&&p.value>0){p.value--;return}d.value>0&&d.value--}function $(l){O(l)&&(d.value=l,h[l].key!=="details"&&(p.value=0))}function O(l){if(l<0||l>=h.length)return!1;if(l<=d.value)return!0;for(let e=0;e<l;e++)if(!A.value[e])return!1;return!0}function Me(){if(d.value<h.length-1){T.value&&d.value++;return}V.value=!0;const l=new FormData;Object.entries(s).forEach(([e,o])=>{e==="is_available"?l.append(e,o?"1":"0"):o!==null&&o!==""&&l.append(e,o)}),k.value&&l.append("main_photo",k.value),l.append("pricing_tier_ids",JSON.stringify(z.value)),$e.post("/owner/vehicles",l,{onFinish:()=>{V.value=!1},onError:e=>{console.error("Validation errors:",e)}})}return(l,e)=>(n(),i(m,null,[N(Ue,null,{default:W(()=>[t("div",Ye,[t("div",Be,[e[95]||(e[95]=t("h1",{class:"text-3xl font-bold text-white mb-6"}," Add New Vehicle ",-1)),t("div",Ge,[t("div",Ie,[t("div",Oe,[t("div",qe,[t("div",{class:"bg-blue-500 h-2 transition-all duration-300",style:ie({width:`${Math.round((d.value+1)/h.length*100)}%`})},null,4)])]),t("div",He," Step "+r(d.value+1)+" of "+r(h.length),1)]),t("div",Je,[(n(),i(m,null,y(h,(o,a)=>t("button",{key:o.key,type:"button",class:U(["flex items-center gap-2 px-2 py-1 rounded-md border transition-colors w-full justify-start",(()=>{const f=a<d.value,j=a===d.value,b=A.value[a];return j?[T.value?"bg-blue-500/20 border-blue-400/40 text-white":"bg-blue-500/10 border-red-400/60 text-white",""]:f&&b?"bg-emerald-500/15 border-emerald-400/30 text-emerald-200":f&&!b?"bg-red-500/10 border-red-400/50 text-red-200":"bg-white/5 border-white/10 text-white/70"})()]),disabled:!O(a),title:O(a)?"":"Complete previous steps first",onClick:f=>$(a)},[t("span",{class:U(["inline-flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold",(()=>{const f=a<d.value,j=a===d.value,b=A.value[a];return f&&b?"bg-emerald-600 text-white":f&&!b?"bg-red-600 text-white":j&&!T.value?"bg-red-500 text-white":j?"bg-blue-500 text-white":"bg-white/10 text-white/70"})()])},[a<d.value&&A.value[a]?(n(),i(m,{key:0},[u("âœ“")],64)):(a<d.value||a===d.value)&&!A.value[a]?(n(),i(m,{key:1},[u("!")],64)):(n(),i(m,{key:2},[u(r(a+1),1)],64))],2),t("span",We,r(o.title),1)],10,Qe)),64))])]),t("form",{onSubmit:ne(Me,["prevent"]),class:"space-y-6"},[d.value===0?(n(),i("div",Ke,[t("div",Xe,[e[30]||(e[30]=t("p",{class:"text-xs sm:text-sm text-white/70"}," Tip: Click anywhere on the map to set a manual location. ",-1)),t("button",{type:"button",onClick:fe,disabled:P.value,class:"inline-flex items-center gap-2 px-3 py-2 rounded-md border border-white/20 bg-white/10 text-white hover:bg-white/15 disabled:opacity-50 disabled:cursor-not-allowed"},[P.value?(n(),i("svg",tt,e[29]||(e[29]=[t("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none",class:"opacity-25"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]))):(n(),i("svg",et,e[28]||(e[28]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3"},null,-1)]))),t("span",null,r(P.value?"Locatingâ€¦":"Use my location"),1)],8,Ze)]),t("div",st,[N(E(ze),{zoom:14,center:[s.lat,s.lng],useGlobalLeaflet:!0,style:{height:"18rem"},onClick:we},{default:W(()=>[N(E(Ae),{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),N(E(Ee),{"lat-lng":[s.lat,s.lng]},null,8,["lat-lng"]),N(E(Fe),{geojson:K,"options-style":ce})]),_:1},8,["center"])]),t("div",ot,[t("div",null,[e[31]||(e[31]=t("span",{class:"font-medium text-white/90"},"Coordinates:",-1)),t("span",{class:"text-white/70",title:`Lat ${s.lat}, Lng ${s.lng}`},"Lat "+r(Y(s.lat))+", Lng "+r(Y(s.lng)),9,lt)]),t("div",null,[e[32]||(e[32]=t("span",{class:"font-medium text-white/90"},"Location:",-1)),t("span",it,r(s.location_name),1)]),t("div",nt,[e[34]||(e[34]=t("span",{class:"font-medium text-white/90"},"Map Link:",-1)),t("a",{href:`https://www.google.com/maps?q=${s.lat},${s.lng}`,target:"_blank",class:"text-blue-400 hover:text-blue-300 underline flex items-center transition-colors"},e[33]||(e[33]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A2 2 0 013 15.382V5a2 2 0 012-2h14a2 2 0 012 2v10.382a2 2 0 01-1.553 1.894L15 20l-3-1.5L9 20z"})],-1),t("span",null,"View on Google Maps",-1)]),8,rt)])])])):g("",!0),d.value===1?(n(),i("div",at,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-white mb-2"},"Vehicle Type *",-1)),t("div",dt,[t("button",{type:"button",onClick:e[0]||(e[0]=o=>s.vehicle_type="car"),class:U(["p-4 border-2 rounded-lg text-center font-medium transition-all backdrop-blur-sm",s.vehicle_type==="car"?"border-blue-400 bg-blue-400/20 text-blue-300":"border-white/30 hover:border-white/50 text-white/80 bg-white/10"])}," ðŸš— Car ",2),t("button",{type:"button",onClick:e[1]||(e[1]=o=>s.vehicle_type="motorcycle"),class:U(["p-4 border-2 rounded-lg text-center font-medium transition-all backdrop-blur-sm",s.vehicle_type==="motorcycle"?"border-blue-400 bg-blue-400/20 text-blue-300":"border-white/30 hover:border-white/50 text-white/80 bg-white/10"])}," ðŸï¸ Motorcycle ",2)])])):g("",!0),d.value===2?(n(),i("div",ut,[t("div",ct,[e[36]||(e[36]=t("h3",{class:"text-lg font-semibold text-white"}," Vehicle Details ",-1)),t("div",pt," Part "+r(p.value+1)+" of "+r(D.length),1)]),t("div",bt,[t("div",{class:"h-2 bg-emerald-400 transition-all",style:ie({width:(p.value+1)/D.length*100+"%"})},null,4)]),t("div",vt,[(n(),i(m,null,y(D,(o,a)=>t("div",{key:o,class:U(["text-xs px-2 py-1 rounded border",[a===p.value?"bg-white/15 border-white/30 text-white":"bg-white/5 border-white/10 text-white/70",a<p.value?"ring-1 ring-emerald-400/50":""]])},r(a+1)+". "+r(o),3)),64))]),p.value===0?(n(),i("div",mt,[t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-white mb-1"}," Make * ",-1)),c(t("select",{"onUpdate:modelValue":e[2]||(e[2]=o=>s.make_id=o),onChange:ge,class:"w-full px-3 py-2 rounded border border-white/20 bg-black/60 text-white focus:ring-2 focus:ring-white/40 focus:border-white/40"},[e[37]||(e[37]=t("option",{value:"",class:"bg-black/80 text-white"}," Select Make ",-1)),(n(!0),i(m,null,y(be.value,o=>(n(),i("option",{key:o.id,value:o.id,class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20"},r(o.name),9,gt))),128))],544),[[x,s.make_id]])]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-white mb-1"}," Model * ",-1)),c(t("select",{"onUpdate:modelValue":e[3]||(e[3]=o=>s.model_id=o),disabled:!s.make_id||R.value,class:"w-full px-3 py-2 rounded border border-white/20 bg-black/60 text-white disabled:opacity-60 focus:ring-2 focus:ring-white/40 focus:border-white/40"},[e[39]||(e[39]=t("option",{value:"",class:"bg-black/80 text-white"}," Select Model ",-1)),(n(!0),i(m,null,y(M.value,o=>(n(),i("option",{key:o.id,value:o.id,class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20"},r(o.name),9,wt))),128))],8,ht),[[x,s.model_id]]),R.value?(n(),i("p",ft," Loading modelsâ€¦ ")):g("",!0)])])):g("",!0),p.value===1?(n(),i("div",yt,[t("div",null,[e[42]||(e[42]=t("label",{class:"block text-sm font-medium text-white mb-1"}," Vehicle Sub-Type * ",-1)),c(t("select",{"onUpdate:modelValue":e[4]||(e[4]=o=>s.type_id=o),class:"w-full px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400",required:""},[e[41]||(e[41]=t("option",{value:"",class:"bg-black/80 text-white"},"Select Sub-Type",-1)),(n(!0),i(m,null,y(ve.value,o=>(n(),i("option",{key:o.id,value:o.id,class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20"},r(o.sub_type||o.name),9,xt))),128))],512),[[x,s.type_id]])]),t("div",null,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Year *",-1)),c(t("select",{"onUpdate:modelValue":e[5]||(e[5]=o=>s.year=o),class:"w-full px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400"},[e[43]||(e[43]=t("option",{value:"",class:"bg-black/80 text-white"},"Select Year",-1)),(n(!0),i(m,null,y(pe.value,o=>(n(),i("option",{key:o,value:o,class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20"},r(o),9,kt))),128))],512),[[x,s.year]])]),t("div",null,[e[46]||(e[46]=t("label",{class:"block text-sm font-medium text-white mb-1"}," Transmission * ",-1)),c(t("select",{"onUpdate:modelValue":e[6]||(e[6]=o=>s.transmission_id=o),class:"w-full px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400"},[e[45]||(e[45]=t("option",{value:"",class:"bg-black/80 text-white"},"Select Transmission",-1)),(n(!0),i(m,null,y(S.transmissions||[],o=>(n(),i("option",{key:o.id,value:o.id,class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20"},r(o.name),9,_t))),128))],512),[[x,s.transmission_id]])]),t("div",null,[e[48]||(e[48]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Fuel Type *",-1)),c(t("select",{"onUpdate:modelValue":e[7]||(e[7]=o=>s.fuel_type_id=o),class:"w-full px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400"},[e[47]||(e[47]=t("option",{value:"",class:"bg-black/80 text-white"},"Select Fuel",-1)),(n(!0),i(m,null,y(S.fuelTypes||[],o=>(n(),i("option",{key:o.id,value:o.id,class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20"},r(o.name),9,Ct))),128))],512),[[x,s.fuel_type_id]])]),t("div",null,[e[50]||(e[50]=t("label",{class:"block text-sm font-medium text-white mb-1"}," Engine Size (CC) ",-1)),t("div",St,[c(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>s.engine_size=o),type:"text",inputmode:"numeric",pattern:"\\\\d*",placeholder:"e.g. 1500",onInput:e[9]||(e[9]=o=>{const a=(o.target.value||"").replace(/\D/g,"");s.engine_size=a}),class:"w-full pr-12 px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400 placeholder-white/50"},null,544),[[F,s.engine_size]]),e[49]||(e[49]=t("span",{class:"absolute inset-y-0 right-3 flex items-center text-white/60 pointer-events-none"}," CC ",-1))])]),t("div",null,[e[51]||(e[51]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Horsepower",-1)),c(t("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>s.horsepower=o),type:"number",min:"0",max:"2000",step:"1",inputmode:"numeric",onInput:e[11]||(e[11]=o=>{const a=parseInt(o.target.value||"");isNaN(a)||(s.horsepower=Math.min(Math.max(a,0),2e3))}),class:"no-spinner w-full px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400 placeholder-white/50"},null,544),[[F,s.horsepower]])])])):g("",!0),p.value===2?(n(),i("div",Mt,[t("div",null,[e[52]||(e[52]=t("label",{class:"block text-sm font-medium text-white mb-1"},"License Plate",-1)),c(t("input",{"onUpdate:modelValue":e[12]||(e[12]=o=>s.license_plate=o),type:"text",placeholder:"e.g. ABC-1234",class:"w-full px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400 placeholder-white/50"},null,512),[[F,s.license_plate]])]),t("div",jt,[e[53]||(e[53]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Color *",-1)),c(t("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>s.color=o),type:"text",placeholder:"e.g. Red",onInput:de,class:"w-full px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400 placeholder-white/50"},null,544),[[F,s.color]])]),s.vehicle_type==="car"?(n(),i(m,{key:0},[t("div",null,[e[55]||(e[55]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Doors",-1)),c(t("select",{"onUpdate:modelValue":e[14]||(e[14]=o=>s.doors=o),class:"w-full px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400"},e[54]||(e[54]=[t("option",{value:"",class:"bg-black/80 text-white"},"Select Doors",-1),t("option",{class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20",value:"2"},"2",-1),t("option",{class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20",value:"3"},"3",-1),t("option",{class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20",value:"4"},"4",-1),t("option",{class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20",value:"5"},"5",-1)]),512),[[x,s.doors]])]),t("div",null,[e[57]||(e[57]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Seats",-1)),c(t("select",{"onUpdate:modelValue":e[15]||(e[15]=o=>s.seats=o),class:"w-full px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400"},e[56]||(e[56]=[t("option",{value:"",class:"bg-black/80 text-white"},"Select Seats",-1),t("option",{class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20",value:"2"},"2",-1),t("option",{class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20",value:"4"},"4",-1),t("option",{class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20",value:"5"},"5",-1),t("option",{class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20",value:"7"},"7",-1),t("option",{class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20",value:"8"},"8",-1)]),512),[[x,s.seats]])])],64)):(n(),i("div",Nt,[e[59]||(e[59]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Seats",-1)),c(t("select",{"onUpdate:modelValue":e[16]||(e[16]=o=>s.seats=o),class:"w-full px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400"},e[58]||(e[58]=[t("option",{value:"",class:"bg-black/80 text-white"},"Select Seats",-1),t("option",{class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20",value:"1"},"1",-1),t("option",{class:"bg-black/80 text-white hover:bg-white/10 active:bg-white/20",value:"2"},"2",-1)]),512),[[x,s.seats]])])),t("div",Vt,[e[60]||(e[60]=t("label",{class:"block text-sm font-medium text-white mb-1"},"Description",-1)),c(t("textarea",{"onUpdate:modelValue":e[17]||(e[17]=o=>s.description=o),rows:"4",placeholder:"Add any notes, condition, or special instructions",class:"w-full px-3 py-2 rounded-md bg-black/80 text-white border-none focus:outline-none focus:ring-2 focus:ring-blue-400 placeholder-white/50"},null,512),[[F,s.description]])]),t("div",Lt,[t("label",Pt,[c(t("input",{type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=o=>s.is_available=o),class:"rounded border-white/20 bg-white/10"},null,512),[[re,s.is_available]]),e[61]||(e[61]=t("span",null,"Available for booking",-1))])])])):g("",!0),e[62]||(e[62]=t("p",{class:"text-xs text-white/60"}," Use the Continue button below to proceed to the next mini-step. ",-1))])):g("",!0),c(t("div",Tt,[e[63]||(e[63]=t("div",{class:"flex items-center justify-between"},[t("h3",{class:"text-lg font-semibold text-white"}," Main Vehicle Photo "),t("span",{class:"text-xs text-white/60 bg-white/10 px-2 py-1 rounded-full"},"Required")],-1)),t("div",$t,[N(De,{multiple:!1,onFileSelected:he})]),e[64]||(e[64]=t("div",{class:"photo-guidelines bg-white/5 border border-white/10 rounded-lg p-4"},[t("h4",{class:"text-sm font-medium text-white mb-2"}," ðŸ“¸ Photo Guidelines "),t("ul",{class:"text-xs text-white/70 space-y-1"},[t("li",null,"â€¢ Use high-quality, well-lit photos"),t("li",null,"â€¢ Show the vehicle's exterior clearly"),t("li",null,"â€¢ Avoid blurry or dark images"),t("li",null,"â€¢ Recommended size: 1200x800px"),t("li",null,"â€¢ Supported formats: JPEG, PNG, WebP")])],-1))],512),[[Pe,d.value===3]]),d.value===4?(n(),i("div",Ut,[t("div",zt,[e[66]||(e[66]=t("h3",{class:"text-lg text-white font-semibold"}," Pricing ",-1)),t("button",{type:"button",onClick:X,disabled:L.value,class:"text-white flex items-center px-3 py-1 text-sm text-blue-600 hover:text-blue-800 border border-blue-300 hover:border-blue-400 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[(n(),i("svg",{class:U(["w-4 h-4 mr-1",{"animate-spin":L.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[65]||(e[65]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"},null,-1)]),2)),u(" "+r(L.value?"Refreshing...":"Refresh"),1)],8,At)]),I.value.length>0?(n(),i("div",Et,[e[67]||(e[67]=t("p",{class:"text-sm text-gray-600 mb-3 text-white"}," Select pricing tiers for this vehicle: ",-1)),t("div",Ft,[(n(!0),i(m,null,y(I.value,o=>(n(),i("label",{key:o.id,class:"flex text-white items-center p-3 border rounded-md cursor-pointer hover:bg-gray-500"},[c(t("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":e[19]||(e[19]=a=>z.value=a),class:"mr-3 h-4 w-4 text-blue-600"},null,8,Dt),[[re,z.value]]),t("div",null,[t("div",Rt,r(o.duration_from)+" "+r(o.duration_unit),1),t("div",Yt," â‚±"+r(o.price),1)])]))),128))])])):L.value?(n(),i("div",Bt," Loading pricing tiers... ")):(n(),i("div",Gt," No pricing tiers available. ")),t("p",It,[e[69]||(e[69]=u(" You can manage pricing tiers in the ")),N(E(Te),{href:"/owner/pricing-tiers",class:"text-blue-600 underline"},{default:W(()=>e[68]||(e[68]=[u("pricing management")])),_:1,__:[68]}),e[70]||(e[70]=u(" section. "))])])):g("",!0),d.value===5?(n(),i("div",Ot,[e[93]||(e[93]=t("h3",{class:"text-lg font-semibold text-white"}," Review & Confirm ",-1)),e[94]||(e[94]=t("p",{class:"text-white/70 text-sm"}," Please review your details before creating the vehicle. You can click Edit on any section to make changes. ",-1)),t("div",qt,[t("div",Ht,[t("div",Jt,[e[71]||(e[71]=t("h4",{class:"text-white font-medium"}," Location ",-1)),t("button",{type:"button",class:"text-blue-300 hover:text-blue-200 text-sm",onClick:e[20]||(e[20]=o=>$(0))}," Edit ")]),t("div",Qt,[t("div",null,[e[72]||(e[72]=t("span",{class:"text-white/60"},"Name:",-1)),u(" "+r(s.location_name||"â€”"),1)]),t("div",null,[e[73]||(e[73]=t("span",{class:"text-white/60"},"Coords:",-1)),t("span",{title:`Lat ${s.lat}, Lng ${s.lng}`},r(Y(s.lat))+", "+r(Y(s.lng)),9,Wt)])])]),t("div",Kt,[t("div",Xt,[e[74]||(e[74]=t("h4",{class:"text-white font-medium"}," Vehicle Type ",-1)),t("button",{type:"button",class:"text-blue-300 hover:text-blue-200 text-sm",onClick:e[21]||(e[21]=o=>$(1))}," Edit ")]),t("div",Zt,r(s.vehicle_type==="car"?"Car":s.vehicle_type==="motorcycle"?"Motorcycle":"â€”"),1)]),t("div",es,[t("div",ts,[e[75]||(e[75]=t("h4",{class:"text-white font-medium"}," Details ",-1)),t("button",{type:"button",class:"text-blue-300 hover:text-blue-200 text-sm",onClick:e[22]||(e[22]=o=>$(2))}," Edit ")]),t("div",ss,[t("div",null,[e[76]||(e[76]=t("span",{class:"text-white/60"},"Make:",-1)),u(" "+r(ye.value),1)]),t("div",null,[e[77]||(e[77]=t("span",{class:"text-white/60"},"Model:",-1)),u(" "+r(xe.value),1)]),t("div",null,[e[78]||(e[78]=t("span",{class:"text-white/60"},"Year:",-1)),u(" "+r(s.year||"â€”"),1)]),t("div",null,[e[79]||(e[79]=t("span",{class:"text-white/60"},"Transmission:",-1)),u(" "+r(_e.value),1)]),t("div",null,[e[80]||(e[80]=t("span",{class:"text-white/60"},"Fuel:",-1)),u(" "+r(ke.value),1)]),t("div",null,[e[81]||(e[81]=t("span",{class:"text-white/60"},"Color:",-1)),u(" "+r(s.color||"â€”"),1)]),te.value?(n(),i("div",os,[e[82]||(e[82]=t("span",{class:"text-white/60"},"Sub-Type:",-1)),u(" "+r(te.value),1)])):g("",!0),t("div",ls,[e[83]||(e[83]=t("span",{class:"text-white/60"},"License Plate:",-1)),u(" "+r(s.license_plate||"â€”"),1)]),t("div",is,[e[84]||(e[84]=t("span",{class:"text-white/60"},"Description:",-1)),u(" "+r(s.description||"â€”"),1)]),t("div",null,[e[85]||(e[85]=t("span",{class:"text-white/60"},"Availability:",-1)),u(" "+r(s.is_available?"Available":"Not available"),1)]),t("div",null,[e[86]||(e[86]=t("span",{class:"text-white/60"},"Engine Size:",-1)),u(" "+r(s.engine_size?s.engine_size+" CC":"â€”"),1)]),t("div",null,[e[87]||(e[87]=t("span",{class:"text-white/60"},"Horsepower:",-1)),u(" "+r(s.horsepower||"â€”"),1)]),s.vehicle_type==="car"?(n(),i("div",ns,[e[88]||(e[88]=t("span",{class:"text-white/60"},"Doors:",-1)),u(" "+r(s.doors||"â€”"),1)])):g("",!0),s.vehicle_type==="car"?(n(),i("div",rs,[e[89]||(e[89]=t("span",{class:"text-white/60"},"Seats:",-1)),u(" "+r(s.seats||"â€”"),1)])):s.vehicle_type==="motorcycle"?(n(),i("div",as,[e[90]||(e[90]=t("span",{class:"text-white/60"},"Seats:",-1)),u(" "+r(s.seats||"â€”"),1)])):g("",!0)])]),t("div",ds,[t("div",us,[e[91]||(e[91]=t("h4",{class:"text-white font-medium"}," Photo ",-1)),t("button",{type:"button",class:"text-blue-300 hover:text-blue-200 text-sm",onClick:e[23]||(e[23]=o=>$(3))}," Edit ")]),t("div",cs,[k.value?(n(),i("span",ps,"New photo selected")):(n(),i("span",bs,"No photo selected yet"))])]),t("div",vs,[t("div",ms,[e[92]||(e[92]=t("h4",{class:"text-white font-medium"}," Pricing Tiers ",-1)),t("button",{type:"button",class:"text-blue-300 hover:text-blue-200 text-sm",onClick:e[24]||(e[24]=o=>$(4))}," Edit ")]),t("div",gs,[z.value.length?(n(),i("span",hs,r(z.value.length)+" selected",1)):(n(),i("span",ws,"None selected"))])])])])):g("",!0),t("div",fs,[t("button",{type:"button",class:"px-4 py-2 rounded-md border border-white/20 bg-white/10 text-white hover:bg-white/15 disabled:opacity-50 disabled:cursor-not-allowed",disabled:d.value===0||V.value,onClick:Se}," Back ",8,ys),t("div",xs,[d.value<h.length-1?(n(),i("button",{key:0,type:"button",disabled:!T.value||V.value,class:"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 disabled:bg-gray-500 disabled:opacity-50 text-white shadow",onClick:Ce}," Continue ",8,ks)):(n(),i("button",{key:1,type:"submit",disabled:V.value||!T.value,class:"px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 disabled:bg-gray-500 disabled:opacity-50 text-white shadow"},r(V.value?"Creating Vehicle...":"Create Vehicle"),9,_s))])])],32)])])]),_:1}),_.value?(n(),i("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",onClick:e[27]||(e[27]=ne(o=>_.value=!1,["self"]))},[t("div",Cs,[t("div",Ss,[e[96]||(e[96]=t("h3",{class:"text-white font-semibold"},"Location Notice",-1)),t("button",{class:"text-white/70 hover:text-white",onClick:e[25]||(e[25]=o=>_.value=!1)}," âœ• ")]),t("div",Ms,[t("p",null,r(C.value),1),e[97]||(e[97]=t("ul",{class:"list-disc list-inside text-white/70 text-sm space-y-1"},[t("li",null," Ensure location services are enabled and grant permission. "),t("li",null," If you are outside Surigao del Norte city limits, pick a valid in-city meeting point manually. ")],-1))]),t("div",js,[t("button",{class:"px-4 py-2 rounded-md border border-white/20 text-white/90 hover:bg-white/10",onClick:e[26]||(e[26]=o=>_.value=!1)}," Close ")])])])):g("",!0)],64))}};export{Es as default};
