import{p as pe,r as c,j as K,q as he,s as we,a as N,o,w as y,b as e,d as Y,f as l,i as d,T as fe,n as j,t as r,u as M,S,e as A,g as $,v as q,k as ie,F as V,h as X,l as T,x as ge,Q as E}from"./app-BJQR1LEl.js";import{A as ke}from"./AdminLayout-BqLXnwJS.js";import"./Footer-Clo5IcIT.js";import"./Header-CJO43HsM.js";const _e={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},ye={class:"flex items-center"},je={class:"flex-shrink-0"},Ce={key:0,class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Me={key:1,class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Se={class:"ml-3 flex-1"},$e={class:"text-sm font-medium"},De={class:"mb-8"},Be={class:"flex flex-col space-y-4 sm:flex-row sm:justify-between sm:items-center sm:space-y-0"},ze={class:"flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-4"},Ue={class:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-8"},Re={class:"glass-card-dark"},Le={class:"bg-yellow-400/20 p-5"},Ne={class:"flex items-center"},Ae={class:"ml-5 w-0 flex-1"},Ve={class:"text-lg font-medium text-white"},Te={class:"glass-card-dark"},Ee={class:"bg-green-400/20 p-5"},Fe={class:"flex items-center"},He={class:"ml-5 w-0 flex-1"},Pe={class:"text-lg font-medium text-white"},Ie={class:"glass-card-dark"},Oe={class:"bg-red-400/20 p-5"},Ke={class:"flex items-center"},Ye={class:"ml-5 w-0 flex-1"},qe={class:"text-lg font-medium text-white"},Xe={class:"glass-card-dark"},Ze={class:"bg-blue-400/20 p-5"},Qe={class:"flex items-center"},We={class:"ml-5 w-0 flex-1"},Ge={class:"text-lg font-medium text-white"},Je={class:"glass-card-dark mb-6"},et={class:"px-4 py-5 sm:p-6"},tt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},st=["value"],ot={class:"glass-card-dark"},lt={class:"px-4 py-5 sm:p-6"},it={class:"overflow-x-auto"},nt={class:"min-w-full divide-y divide-white/20"},rt={class:"bg-transparent divide-y divide-white/10"},at={class:"px-6 py-4 whitespace-nowrap"},dt={class:"flex items-center"},ut={class:"flex-shrink-0 h-10 w-10"},ct={class:"h-10 w-10 rounded-full bg-white/20 flex items-center justify-center border border-white/20 backdrop-blur-sm"},mt={class:"text-sm font-medium text-white"},vt={class:"ml-4"},bt={class:"text-sm font-medium text-white"},xt={class:"text-sm text-white/70"},pt={class:"px-6 py-4 whitespace-nowrap"},ht={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-400/20 text-blue-300 border border-blue-400/30 backdrop-blur-sm"},wt={class:"px-6 py-4 whitespace-nowrap"},ft={class:"px-6 py-4 whitespace-nowrap text-sm text-white/70"},gt={class:"px-6 py-4 whitespace-nowrap text-sm text-white/70"},kt={class:"flex space-x-2"},_t={key:0,class:"text-green-400"},yt={key:1,class:"text-red-400"},jt={key:2,class:"text-green-400"},Ct={key:3,class:"text-red-400"},Mt={key:4,class:"text-green-400"},St={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},$t={class:"flex space-x-2"},Dt=["onClick"],Bt=["onClick"],zt=["onClick"],Ut=["onClick","disabled","title"],Rt={key:0,class:"inline-block animate-spin"},Lt={key:1},Nt={key:2},At=["onClick","disabled","title"],Vt={key:0,class:"inline-block animate-spin"},Tt={key:1},Et={key:2},Ft={class:"mt-6"},Ht={class:"flex items-center justify-between"},Pt={class:"flex-1 flex justify-between sm:hidden"},It={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Ot={class:"text-sm text-white/70"},Kt={class:"flex space-x-1"},Yt=["innerHTML"],qt={key:0,class:"fixed inset-0 bg-black/50 overflow-y-auto h-full w-full z-50 backdrop-blur-sm"},Xt={class:"relative top-20 mx-4 sm:mx-auto p-5 border border-white/20 w-11/12 max-w-4xl shadow-glow rounded-xl glass-card-dark"},Zt={class:"mt-3"},Qt={class:"flex justify-between items-center mb-4"},Wt={class:"text-lg font-medium text-white"},Gt={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},Jt={class:"p-4 rounded-lg max-w-2xl"},es={class:"mb-4"},ts={class:"text-xl font-bold text-white leading-snug"},ss={class:"mb-4"},os={class:"text-lg font-semibold text-white leading-snug"},ls={class:"mb-4"},is={class:"text-lg font-semibold text-white leading-snug"},ns={class:"mb-4"},rs={class:"text-lg font-semibold text-white leading-snug"},as={class:"mb-4"},ds={key:0,class:"mb-4"},us={class:"text-base font-semibold text-white leading-snug"},cs={key:1,class:"mb-4"},ms={class:"text-base font-semibold text-red-400 leading-snug"},vs={class:"p-4 rounded-lg max-w-2xl"},bs={class:"space-y-3"},xs={key:0},ps=["src"],hs={key:1},ws=["src"],fs={key:2},gs={class:"mt-6 flex justify-end space-x-3"},ks={key:1,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm"},_s={class:"p-5 border border-white/20 w-11/12 max-w-md mx-4 shadow-glow rounded-xl glass-card-dark"},ys={class:"mb-4"},js={class:"flex justify-end space-x-3"},Cs={key:2,class:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm"},Ms={class:"p-5 border border-white/20 w-11/12 max-w-md mx-4 shadow-glow rounded-xl glass-card-dark"},Ss={class:"mb-4"},$s={class:"flex justify-end space-x-3"},Ds={class:"relative max-w-5xl w-full bg-transparent rounded-lg shadow-2xl border border-white/20"},Bs={class:"flex justify-between items-center p-4 border-b border-white/20 bg-black/80 backdrop-blur-sm"},zs={class:"flex items-center space-x-3"},Us={class:"text-white font-medium text-sm"},Rs={class:"absolute inset-0 flex items-center justify-center p-8"},Ls=["src"],Es={__name:"KycVerifications",props:{users:Object,stats:Object,filters:Object,roles:Object},setup(u){const F=u,p=pe(),n=c(null),D=c(!1),B=c(!1),g=c(null),z=c(!1),Z=c(""),H=c("success"),v=c({}),a=c({}),U=c(!1),P=c(null),m=c(1),h=c({x:0,y:0}),k=c(!1),I=c({x:0,y:0}),b=K({search:F.filters.search||"",status:F.filters.status||"",role:F.filters.role||""}),R=K({reason:""}),L=K({reason:""});let Q=null;const f=(i,t="success")=>{Z.value=i,H.value=t,z.value=!0,setTimeout(()=>{z.value=!1},5e3)},ne=()=>{clearTimeout(Q),Q=setTimeout(()=>{C()},300)},C=()=>{E.get(route("admin.kyc.verifications"),b,{preserveState:!0,replace:!0})},re=()=>{b.search="",b.status="",b.role="",C()},ae=i=>{n.value=i},W=i=>{g.value=i,R.reason="",D.value=!0},G=i=>{g.value=i,L.reason="",B.value=!0},de=()=>{E.post(route("admin.kyc.approve",g.value.id),R,{onSuccess:()=>{var i;D.value=!1,n.value=null,g.value=null,(i=p.props.flash)!=null&&i.success&&f(p.props.flash.success,"success")}})},ue=()=>{E.post(route("admin.kyc.reject",g.value.id),L,{onSuccess:()=>{var i;B.value=!1,n.value=null,g.value=null,(i=p.props.flash)!=null&&i.success&&f(p.props.flash.success,"success")}})},J=(i,t)=>{const x=`${i.id}_${t}`;if(v.value[x]){f("Please wait, notification is being sent...","error");return}if(a.value[x]){const s=Date.now()-a.value[x],w=3e4;if(s<w){const _=Math.ceil((w-s)/1e3);f(`Please wait ${_} seconds before sending again`,"error");return}}v.value[x]=!0,E.post(route("admin.kyc.notify",i.id),{notification_type:t},{preserveState:!0,onSuccess:()=>{var s,w;a.value[x]=Date.now(),(s=p.props.flash)!=null&&s.success?f(p.props.flash.success,"success"):(w=p.props.flash)!=null&&w.error&&f(p.props.flash.error,"error"),v.value[x]=!1,C()},onError:()=>{f("Failed to send notification","error"),v.value[x]=!1}})},ce=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ee=i=>{P.value=i,U.value=!0,m.value=1,h.value={x:0,y:0}},O=()=>{U.value=!1,P.value=null,m.value=1,h.value={x:0,y:0},k.value=!1},te=()=>{m.value=Math.min(m.value+.25,5)},se=()=>{m.value=Math.max(m.value-.25,.5)},me=()=>{m.value=1,h.value={x:0,y:0}},ve=i=>{m.value>1&&(k.value=!0,I.value={x:i.clientX-h.value.x,y:i.clientY-h.value.y})},be=i=>{k.value&&m.value>1&&(h.value={x:i.clientX-I.value.x,y:i.clientY-I.value.y})},oe=()=>{k.value=!1},xe=i=>{i.preventDefault(),i.deltaY<0?te():se()},le=i=>{i.key==="Escape"&&U.value&&O()};return he(()=>{window.addEventListener("keydown",le)}),we(()=>{window.removeEventListener("keydown",le)}),(i,t)=>(o(),N(ke,null,{default:y(()=>{var x;return[e("div",_e,[Y(fe,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"transform translate-x-full opacity-0","enter-to-class":"transform translate-x-0 opacity-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"transform translate-x-0 opacity-100","leave-to-class":"transform translate-x-full opacity-0"},{default:y(()=>[z.value?(o(),l("div",{key:0,class:j(["fixed top-4 right-4 z-50 max-w-md p-4 rounded-lg shadow-2xl border backdrop-blur-sm mx-4",H.value==="success"?"bg-green-400/20 border-green-400/30 text-green-300":"bg-red-400/20 border-red-400/30 text-red-300"])},[e("div",ye,[e("div",je,[H.value==="success"?(o(),l("svg",Ce,t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):(o(),l("svg",Me,t[15]||(t[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))]),e("div",Se,[e("p",$e,r(Z.value),1)]),e("button",{onClick:t[0]||(t[0]=s=>z.value=!1),class:"ml-4 flex-shrink-0 inline-flex text-white/70 hover:text-white focus:outline-none"},t[16]||(t[16]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])],2)):d("",!0)]),_:1}),e("div",De,[e("div",Be,[t[19]||(t[19]=e("div",null,[e("h1",{class:"text-2xl sm:text-3xl font-bold text-white"}," Driver's License "),e("p",{class:"mt-2 text-white/70"}," Review and manage user verification requests ")],-1)),e("div",ze,[Y(M(S),{href:i.route("admin.kyc.logs"),class:"bg-blue-400/20 hover:bg-blue-400/30 text-blue-300 font-medium py-2 px-4 rounded-md border border-blue-400/30 transition-all duration-200 backdrop-blur-sm shadow-glow text-center"},{default:y(()=>t[17]||(t[17]=[A(" View Logs ")])),_:1,__:[17]},8,["href"]),Y(M(S),{href:i.route("admin.dashboard"),class:"bg-white/10 hover:bg-white/20 text-white font-medium py-2 px-4 rounded-md border border-white/20 transition-all duration-200 backdrop-blur-sm shadow-glow text-center"},{default:y(()=>t[18]||(t[18]=[A(" Back to Dashboard ")])),_:1,__:[18]},8,["href"])])])]),e("div",Ue,[e("div",Re,[e("div",Le,[e("div",Ne,[t[21]||(t[21]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Ae,[e("dl",null,[t[20]||(t[20]=e("dt",{class:"text-sm font-medium text-white/70 truncate"}," Pending Review ",-1)),e("dd",Ve,r(u.stats.pending_review),1)])])])])]),e("div",Te,[e("div",Ee,[e("div",Fe,[t[23]||(t[23]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",He,[e("dl",null,[t[22]||(t[22]=e("dt",{class:"text-sm font-medium text-white/70 truncate"}," Approved ",-1)),e("dd",Pe,r(u.stats.approved),1)])])])])]),e("div",Ie,[e("div",Oe,[e("div",Ke,[t[25]||(t[25]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Ye,[e("dl",null,[t[24]||(t[24]=e("dt",{class:"text-sm font-medium text-white/70 truncate"}," Rejected ",-1)),e("dd",qe,r(u.stats.rejected),1)])])])])]),e("div",Xe,[e("div",Ze,[e("div",Qe,[t[27]||(t[27]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-6 w-6 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",We,[e("dl",null,[t[26]||(t[26]=e("dt",{class:"text-sm font-medium text-white/70 truncate"}," Total Submissions ",-1)),e("dd",Ge,r(u.stats.total_submissions),1)])])])])])]),e("div",Je,[e("div",et,[e("div",tt,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-white"},"Search Users",-1)),$(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>b.search=s),onInput:ne,type:"text",placeholder:"Name or email...",class:"mt-1 block w-full bg-white/10 border border-white/20 rounded-md px-3 py-2 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 backdrop-blur-sm"},null,544),[[q,b.search]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-white"},"Status",-1)),$(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>b.status=s),onChange:C,class:"mt-1 block w-full bg-white/10 border border-white/20 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 backdrop-blur-sm"},t[29]||(t[29]=[e("option",{value:"",class:"bg-gray-800 text-white"}," All Statuses ",-1),e("option",{value:"under_review",class:"bg-gray-800 text-white"}," Under Review ",-1),e("option",{value:"approved",class:"bg-gray-800 text-white"}," Approved ",-1),e("option",{value:"rejected",class:"bg-gray-800 text-white"}," Rejected ",-1)]),544),[[ie,b.status]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-white"},"Role",-1)),$(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>b.role=s),onChange:C,class:"mt-1 block w-full bg-white/10 border border-white/20 rounded-md px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-400 backdrop-blur-sm"},[t[31]||(t[31]=e("option",{value:"",class:"bg-gray-800 text-white"}," All Roles ",-1)),(o(!0),l(V,null,X(u.roles,s=>(o(),l("option",{key:s.id,value:s.name,class:"bg-gray-800 text-white"},r(s.name.charAt(0).toUpperCase()+s.name.slice(1)),9,st))),128))],544),[[ie,b.role]])]),e("div",{class:"flex items-end"},[e("button",{onClick:re,class:"bg-white/10 hover:bg-white/20 text-white font-medium py-2 px-4 rounded-md border border-white/20 transition-all duration-200 backdrop-blur-sm shadow-glow"}," Clear Filters ")])])])]),e("div",ot,[e("div",lt,[e("div",it,[e("table",nt,[t[35]||(t[35]=e("thead",{class:"bg-white/5"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"}," User "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"}," Role "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"}," Submitted "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"}," Documents "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-white/70 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",rt,[(o(!0),l(V,null,X(u.users.data,s=>{var w;return o(),l("tr",{key:s.id,class:"hover:bg-white/5 transition-colors duration-150"},[e("td",at,[e("div",dt,[e("div",ut,[e("div",ct,[e("span",mt,r(s.first_name[0])+r(s.last_name[0]),1)])]),e("div",vt,[e("div",bt,r(s.first_name)+" "+r(s.last_name),1),e("div",xt,r(s.email),1)])])]),e("td",pt,[e("span",ht,r(((w=s.role)==null?void 0:w.name)||"N/A"),1)]),e("td",wt,[e("span",{class:j(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border backdrop-blur-sm",s.kyc_status==="approved"?"bg-green-400/20 text-green-300 border-green-400/30":s.kyc_status==="under_review"?"bg-blue-400/20 text-blue-300 border-blue-400/30":s.kyc_status==="rejected"?"bg-red-400/20 text-red-300 border-red-400/30":"bg-yellow-400/20 text-yellow-300 border-yellow-400/30"])},r(s.kyc_status.replace("_"," ").toUpperCase()),3)]),e("td",ft,r(s.license_submitted_at?ce(s.license_submitted_at):"Not submitted"),1),e("td",gt,[e("div",kt,[s.drivers_license_front?(o(),l("span",_t,"âœ“ Front")):(o(),l("span",yt,"âœ— Front")),s.drivers_license_back?(o(),l("span",jt,"âœ“ Back")):(o(),l("span",Ct,"âœ— Back")),s.bio?(o(),l("span",Mt,"âœ“ Bio")):d("",!0)])]),e("td",St,[e("div",$t,[e("button",{onClick:_=>ae(s),class:"text-blue-400 hover:text-blue-300 transition-colors duration-150"}," View ",8,Dt),s.kyc_status==="under_review"?(o(),l("button",{key:0,onClick:_=>W(s),class:"text-green-400 hover:text-green-300 transition-colors duration-150"}," Approve ",8,Bt)):d("",!0),s.kyc_status==="under_review"?(o(),l("button",{key:1,onClick:_=>G(s),class:"text-red-400 hover:text-red-300 transition-colors duration-150"}," Reject ",8,zt)):d("",!0),s.kyc_status==="approved"||s.kyc_status==="rejected"?(o(),l("button",{key:2,onClick:_=>J(s,"sms"),disabled:v.value[`${s.id}_sms`]||a.value[`${s.id}_sms`]&&Date.now()-a.value[`${s.id}_sms`]<3e4,class:j(["transition-all duration-150 flex items-center space-x-1",v.value[`${s.id}_sms`]?"text-indigo-300 cursor-wait":a.value[`${s.id}_sms`]&&Date.now()-a.value[`${s.id}_sms`]<3e4?"text-green-400 cursor-not-allowed":"text-indigo-400 hover:text-indigo-300 cursor-pointer"]),title:v.value[`${s.id}_sms`]?"Sending SMS...":a.value[`${s.id}_sms`]&&Date.now()-a.value[`${s.id}_sms`]<3e4?"SMS sent recently":"Send SMS Notification"},[v.value[`${s.id}_sms`]?(o(),l("span",Rt,"â³")):a.value[`${s.id}_sms`]&&Date.now()-a.value[`${s.id}_sms`]<3e4?(o(),l("span",Lt,"âœ“")):(o(),l("span",Nt,"ðŸ“±")),t[33]||(t[33]=e("span",{class:"text-xs"},"SMS",-1))],10,Ut)):d("",!0),s.kyc_status==="approved"||s.kyc_status==="rejected"?(o(),l("button",{key:3,onClick:_=>J(s,"email"),disabled:v.value[`${s.id}_email`]||a.value[`${s.id}_email`]&&Date.now()-a.value[`${s.id}_email`]<3e4,class:j(["transition-all duration-150 flex items-center space-x-1",v.value[`${s.id}_email`]?"text-purple-300 cursor-wait":a.value[`${s.id}_email`]&&Date.now()-a.value[`${s.id}_email`]<3e4?"text-green-400 cursor-not-allowed":"text-purple-400 hover:text-purple-300 cursor-pointer"]),title:v.value[`${s.id}_email`]?"Sending Email...":a.value[`${s.id}_email`]&&Date.now()-a.value[`${s.id}_email`]<3e4?"Email sent recently":"Send Email Notification"},[v.value[`${s.id}_email`]?(o(),l("span",Vt,"â³")):a.value[`${s.id}_email`]&&Date.now()-a.value[`${s.id}_email`]<3e4?(o(),l("span",Tt,"âœ“")):(o(),l("span",Et,"âœ‰ï¸")),t[34]||(t[34]=e("span",{class:"text-xs"},"Email",-1))],10,At)):d("",!0)])])])}),128))])])]),e("div",Ft,[e("nav",Ht,[e("div",Pt,[u.users.prev_page_url?(o(),N(M(S),{key:0,href:u.users.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-white/20 text-sm font-medium rounded-md text-white bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all duration-200"},{default:y(()=>t[36]||(t[36]=[A(" Previous ")])),_:1,__:[36]},8,["href"])):d("",!0),u.users.next_page_url?(o(),N(M(S),{key:1,href:u.users.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-white/20 text-sm font-medium rounded-md text-white bg-white/10 hover:bg-white/20 backdrop-blur-sm transition-all duration-200"},{default:y(()=>t[37]||(t[37]=[A(" Next ")])),_:1,__:[37]},8,["href"])):d("",!0)]),e("div",It,[e("div",null,[e("p",Ot," Showing "+r(u.users.from||0)+" to "+r(u.users.to||0)+" of "+r(u.users.total)+" results ",1)]),e("div",Kt,[(o(!0),l(V,null,X(u.users.links,s=>(o(),l(V,{key:s.label},[s.url?(o(),N(M(S),{key:0,href:s.url,innerHTML:s.label,class:j(["relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded backdrop-blur-sm transition-all duration-200",s.active?"z-10 bg-blue-400/20 border-blue-400/30 text-blue-300":"bg-white/10 border-white/20 text-white/70 hover:bg-white/20 hover:text-white"])},null,8,["href","innerHTML","class"])):(o(),l("span",{key:1,innerHTML:s.label,class:"relative inline-flex items-center px-4 py-2 border text-sm font-medium cursor-not-allowed opacity-50 bg-white/5 border-white/10 text-white/50 rounded backdrop-blur-sm"},null,8,Yt))],64))),128))])])])])])]),n.value?(o(),l("div",qt,[e("div",Xt,[e("div",Zt,[e("div",Qt,[e("h3",Wt," KYC Details - "+r(n.value.first_name)+" "+r(n.value.last_name),1),e("button",{onClick:t[4]||(t[4]=s=>n.value=null),class:"text-white/70 hover:text-white transition-colors duration-150"},t[38]||(t[38]=[e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Gt,[e("div",Jt,[t[46]||(t[46]=e("h4",{class:"text-xl font-bold text-white mb-4"}," User Information ",-1)),e("div",es,[t[39]||(t[39]=e("div",{class:"text-sm font-medium text-white/70 mb-1"},"Name",-1)),e("div",ts,r(n.value.first_name)+" "+r(n.value.last_name),1)]),e("div",ss,[t[40]||(t[40]=e("div",{class:"text-sm font-medium text-white/70 mb-1"},"Email",-1)),e("div",os,r(n.value.email),1)]),e("div",ls,[t[41]||(t[41]=e("div",{class:"text-sm font-medium text-white/70 mb-1"},"Phone",-1)),e("div",is,r(n.value.phone||"Not provided"),1)]),e("div",ns,[t[42]||(t[42]=e("div",{class:"text-sm font-medium text-white/70 mb-1"},"Role",-1)),e("div",rs,r(((x=n.value.role)==null?void 0:x.name)||"N/A"),1)]),e("div",as,[t[43]||(t[43]=e("div",{class:"text-sm font-medium text-white/70 mb-1"},"Status",-1)),e("div",null,[e("span",{class:j(["inline-flex items-center px-3 py-0.5 rounded-full text-base font-bold border backdrop-blur-sm",n.value.kyc_status==="approved"?"bg-green-400/20 text-green-300 border-green-400/30":n.value.kyc_status==="under_review"?"bg-blue-400/20 text-blue-300 border-blue-400/30":n.value.kyc_status==="rejected"?"bg-red-400/20 text-red-300 border-red-400/30":"bg-yellow-400/20 text-yellow-300 border-yellow-400/30"])},r(n.value.kyc_status.replace("_"," ").toUpperCase()),3)])]),n.value.bio?(o(),l("div",ds,[t[44]||(t[44]=e("div",{class:"text-sm font-medium text-white/70 mb-1"},"Bio",-1)),e("div",us,r(n.value.bio),1)])):d("",!0),n.value.kyc_rejection_reason?(o(),l("div",cs,[t[45]||(t[45]=e("div",{class:"text-sm font-medium text-red-400 mb-1"},"Rejection Reason",-1)),e("div",ms,r(n.value.kyc_rejection_reason),1)])):d("",!0)]),e("div",vs,[t[52]||(t[52]=e("h4",{class:"text-xl font-bold text-white mb-4"}," Uploaded Documents ",-1)),e("div",bs,[n.value.drivers_license_front?(o(),l("div",xs,[t[48]||(t[48]=e("div",{class:"text-sm font-medium text-white/70 mb-1"},"Driver's License (Front)",-1)),e("div",{onClick:t[5]||(t[5]=s=>ee(n.value.drivers_license_front)),class:"cursor-pointer hover:opacity-80 transition-opacity duration-200 relative group"},[e("img",{src:`/storage/${n.value.drivers_license_front}`,alt:"Driver's License Front",class:"max-w-full h-32 object-contain border border-white/20 rounded backdrop-blur-sm"},null,8,ps),t[47]||(t[47]=e("div",{class:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})])],-1))])])):d("",!0),n.value.drivers_license_back?(o(),l("div",hs,[t[50]||(t[50]=e("div",{class:"text-sm font-medium text-white/70 mb-1"},"Driver's License (Back)",-1)),e("div",{onClick:t[6]||(t[6]=s=>ee(n.value.drivers_license_back)),class:"cursor-pointer hover:opacity-80 transition-opacity duration-200 relative group"},[e("img",{src:`/storage/${n.value.drivers_license_back}`,alt:"Driver's License Back",class:"max-w-full h-32 object-contain border border-white/20 rounded backdrop-blur-sm"},null,8,ws),t[49]||(t[49]=e("div",{class:"absolute inset-0 flex items-center justify-center bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity duration-200 rounded"},[e("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})])],-1))])])):d("",!0),!n.value.drivers_license_front&&!n.value.drivers_license_back?(o(),l("div",fs,t[51]||(t[51]=[e("p",{class:"text-white/50"},"No documents uploaded",-1)]))):d("",!0)])])]),e("div",gs,[e("button",{onClick:t[7]||(t[7]=s=>n.value=null),class:"bg-white/10 hover:bg-white/20 text-white font-medium py-2 px-4 rounded-md border border-white/20 transition-all duration-200 backdrop-blur-sm shadow-glow"}," Close "),n.value.kyc_status==="under_review"?(o(),l("button",{key:0,onClick:t[8]||(t[8]=s=>G(n.value)),class:"bg-red-400/20 hover:bg-red-400/30 text-red-300 font-medium py-2 px-4 rounded-md border border-red-400/30 transition-all duration-200 backdrop-blur-sm shadow-glow"}," Reject ")):d("",!0),n.value.kyc_status==="under_review"?(o(),l("button",{key:1,onClick:t[9]||(t[9]=s=>W(n.value)),class:"bg-green-400/20 hover:bg-green-400/30 text-green-300 font-medium py-2 px-4 rounded-md border border-green-400/30 transition-all duration-200 backdrop-blur-sm shadow-glow"}," Approve ")):d("",!0)])])])])):d("",!0),D.value?(o(),l("div",ks,[e("div",_s,[t[55]||(t[55]=e("h3",{class:"text-lg font-medium text-white mb-4"}," Approve KYC ",-1)),e("form",{onSubmit:T(de,["prevent"])},[e("div",ys,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-white/70 mb-2"}," Approval Notes (Optional) ",-1)),$(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=s=>R.reason=s),rows:"3",class:"w-full bg-white/10 border border-white/20 rounded-md px-3 py-2 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-green-400 focus:border-green-400 backdrop-blur-sm",placeholder:"Add any notes about the approval..."},null,512),[[q,R.reason]])]),e("div",js,[e("button",{type:"button",onClick:t[11]||(t[11]=s=>D.value=!1),class:"bg-white/10 hover:bg-white/20 text-white font-medium py-2 px-4 rounded-md border border-white/20 transition-all duration-200 backdrop-blur-sm shadow-glow"}," Cancel "),t[54]||(t[54]=e("button",{type:"submit",class:"bg-green-400/20 hover:bg-green-400/30 text-green-300 font-medium py-2 px-4 rounded-md border border-green-400/30 transition-all duration-200 backdrop-blur-sm shadow-glow"}," Approve ",-1))])],32)])])):d("",!0),B.value?(o(),l("div",Cs,[e("div",Ms,[t[58]||(t[58]=e("h3",{class:"text-lg font-medium text-white mb-4"}," Reject KYC ",-1)),e("form",{onSubmit:T(ue,["prevent"])},[e("div",Ss,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-white/70 mb-2"}," Rejection Reason * ",-1)),$(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=s=>L.reason=s),rows:"3",required:"",class:"w-full bg-white/10 border border-white/20 rounded-md px-3 py-2 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-red-400 focus:border-red-400 backdrop-blur-sm",placeholder:"Please provide a clear reason for rejection..."},null,512),[[q,L.reason]])]),e("div",$s,[e("button",{type:"button",onClick:t[13]||(t[13]=s=>B.value=!1),class:"bg-white/10 hover:bg-white/20 text-white font-medium py-2 px-4 rounded-md border border-white/20 transition-all duration-200 backdrop-blur-sm shadow-glow"}," Cancel "),t[57]||(t[57]=e("button",{type:"submit",class:"bg-red-400/20 hover:bg-red-400/30 text-red-300 font-medium py-2 px-4 rounded-md border border-red-400/30 transition-all duration-200 backdrop-blur-sm shadow-glow"}," Reject ",-1))])],32)])])):d("",!0),U.value?(o(),l("div",{key:3,onClick:T(O,["self"]),class:"fixed inset-0 bg-black/90 z-[60] flex items-center justify-center p-4"},[e("div",Ds,[e("div",Bs,[e("div",zs,[e("button",{onClick:se,class:"bg-white/10 hover:bg-white/20 text-white p-2 rounded border border-white/20 transition-all",title:"Zoom Out (Scroll Down)"},t[59]||(t[59]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})],-1)])),e("span",Us,r(Math.round(m.value*100))+"%",1),e("button",{onClick:te,class:"bg-white/10 hover:bg-white/20 text-white p-2 rounded border border-white/20 transition-all",title:"Zoom In (Scroll Up)"},t[60]||(t[60]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})],-1)])),e("button",{onClick:me,class:"bg-white/10 hover:bg-white/20 text-white px-3 py-2 rounded border border-white/20 transition-all font-medium text-sm",title:"Reset View"}," Reset ")]),e("button",{onClick:O,class:"bg-red-400/20 hover:bg-red-400/30 text-red-300 p-2 rounded border border-red-400/30 transition-all",title:"Close (ESC)"},t[61]||(t[61]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",{class:"relative bg-transparent overflow-hidden",style:{height:"70vh"},onMousedown:ve,onMousemove:be,onMouseup:oe,onMouseleave:oe,onWheel:T(xe,["prevent"])},[e("div",Rs,[e("img",{src:`/storage/${P.value}`,alt:"License Document",style:ge({transform:`scale(${m.value}) translate(${h.value.x/m.value}px, ${h.value.y/m.value}px)`,cursor:m.value>1?k.value?"grabbing":"grab":"default",transition:k.value?"none":"transform 0.1s ease-out"}),class:"max-w-full max-h-full object-contain select-none",draggable:"false"},null,12,Ls)])],32),t[62]||(t[62]=e("div",{class:"p-3 border-t border-white/20 bg-black/80 backdrop-blur-sm"},[e("p",{class:"text-center text-white/60 text-xs"}," Scroll to zoom â€¢ Click and drag to pan when zoomed â€¢ Press ESC or click X to close ")],-1))])])):d("",!0)])]}),_:1}))}};export{Es as default};
