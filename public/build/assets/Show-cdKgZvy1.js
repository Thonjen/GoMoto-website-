import{r as O,x as le,c as h,f as r,o as l,b as e,i as u,t as n,n as x,F as T,h as j,l as oe,g as Z,v as ee,u as $,a as re,w as ae,e as m,d as M,Q as y}from"./app-D5PUyAMe.js";import{_ as de}from"./AuthenticatedLayout-B-cZbXuZ.js";import{M as ue}from"./map-pin-B2WUcedS.js";import{S as te}from"./star-BFcB2k8t.js";import"./Footer-DI0umZVU.js";import"./Header-DdPT2WJT.js";import"./ResponsiveNavLink-BCB-x7oE.js";import"./createLucideIcon-B4NPXSPX.js";const ce={class:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm"},me={class:"space-y-4 mb-6"},ge={class:"flex items-center"},xe={class:"ml-4"},be={class:"text-sm text-gray-500"},ve={class:"flex items-center"},fe={class:"ml-4"},ye={key:0,class:"text-xs text-red-600 font-medium"},ke={key:0,class:"flex items-center"},he={class:"ml-4"},pe={class:"text-sm text-gray-500"},we={key:0,class:"border-t pt-4"},$e={class:"space-y-2"},Ce={class:"text-sm font-medium text-red-800"},Re={class:"text-xs text-red-600"},Me={class:"text-right"},Te={class:"text-sm font-bold text-red-800"},je={key:0,class:"mt-3 pt-3 border-t border-red-200"},Be={class:"flex justify-between items-center"},Se={class:"text-lg font-bold text-red-800"},_e={key:1,class:"border-t pt-4"},De={class:"space-y-2"},Oe={class:"text-sm font-medium text-yellow-800"},Pe={class:"text-xs text-yellow-600"},Ee={class:"text-right"},Le={class:"text-sm font-bold text-yellow-800"},Ne={key:2,class:"border-t pt-4 mt-4"},Ae={key:0,class:"mb-4 space-y-3"},ze={class:"flex"},Ve={class:"flex-shrink-0"},Ue={key:0,class:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor"},Fe={key:1,class:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},He={key:2,class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},Ie={class:"ml-3"},Ye={key:0,class:"mt-1"},qe={key:1,class:"mt-1"},Qe={key:2,class:"mt-1"},We={key:3,class:"mt-2 font-medium"},Ge=["max"],Je={class:"mt-1 text-xs text-gray-500"},Ke={key:0,class:"bg-blue-50 p-3 rounded-md"},Xe={class:"text-sm text-blue-800"},Ze={class:"text-sm text-blue-600"},et=["disabled"],tt={__name:"OverchargeInfo",props:{booking:Object,expectedReturnTime:String,potentialOvercharges:Array,canExtend:{type:Boolean,default:!1}},setup(t){const a=t,g=O(4),p=O(""),v=le({requested_hours:4,reason:""}),f=h(()=>a.booking.return_time?new Date(a.booking.return_time)>new Date(a.expectedReturnTime):new Date>new Date(a.expectedReturnTime)),k=d=>d?new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",B=()=>{const d=new Date,s=new Date(a.expectedReturnTime),i=Math.floor((d-s)/(1e3*60*60));return i<1?"Overdue by less than an hour":`Overdue by ${i} hour${i>1?"s":""}`},w=d=>d==null||isNaN(d)?"0.00":parseFloat(d).toFixed(2),S=d=>({1:"Late Return",2:"Out of City Use"})[d]||"Unknown",_=()=>{if(!g.value||!a.booking.pricing_tier)return 0;let d=a.booking.pricing_tier.price;return a.booking.pricing_tier.duration_unit==="days"?d=a.booking.pricing_tier.price/24:a.booking.pricing_tier.duration_unit==="minutes"&&(d=a.booking.pricing_tier.price*60),(g.value*d).toFixed(2)},D=()=>{if(!g.value)return"N/A";const d=new Date(a.expectedReturnTime);return d.setHours(d.getHours()+parseInt(g.value)),k(d.toISOString())},C=h(()=>{var d;return((d=a.booking.vehicle)==null?void 0:d.max_extension_hours)||72}),R=()=>{v.requested_hours=g.value,v.reason=p.value,v.post(route("bookings.requestExtension",a.booking.id),{onSuccess:()=>{alert("Extension request submitted successfully! The vehicle owner will review your request."),location.reload()},onError:d=>{console.error("Extension request failed:",d);const s=Object.values(d)[0]||"Failed to submit extension request. Please try again.";alert(s)}})};return(d,s)=>(l(),r("div",ce,[s[19]||(s[19]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"}," Booking Timeline & Overcharges ",-1)),e("div",me,[e("div",ge,[s[3]||(s[3]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),e("div",xe,[s[2]||(s[2]=e("p",{class:"text-sm font-medium text-gray-900"},"Pickup Time",-1)),e("p",be,n(k(t.booking.pickup_datetime)),1)])]),e("div",ve,[e("div",{class:x(["flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",f.value?"bg-red-100":"bg-yellow-100"])},[(l(),r("svg",{class:x(["w-4 h-4",f.value?"text-red-600":"text-yellow-600"]),fill:"currentColor",viewBox:"0 0 20 20"},s[4]||(s[4]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"},null,-1)]),2))],2),e("div",fe,[e("p",{class:x(["text-sm font-medium",f.value?"text-red-600":"text-gray-900"])}," Expected Return ",2),e("p",{class:x(["text-sm",f.value?"text-red-500":"text-gray-500"])},n(k(t.expectedReturnTime)),3),f.value?(l(),r("p",ye,n(B()),1)):u("",!0)])]),t.booking.return_time?(l(),r("div",ke,[s[6]||(s[6]=e("div",{class:"flex-shrink-0 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-4 h-4 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1)),e("div",he,[s[5]||(s[5]=e("p",{class:"text-sm font-medium text-gray-900"},"Actual Return",-1)),e("p",pe,n(k(t.booking.return_time)),1)])])):u("",!0)]),t.booking.overcharges&&t.booking.overcharges.length>0?(l(),r("div",we,[s[8]||(s[8]=e("h5",{class:"text-md font-medium text-red-600 mb-3"},"Applied Overcharges",-1)),e("div",$e,[(l(!0),r(T,null,j(t.booking.overcharges,i=>(l(),r("div",{key:i.id,class:"flex justify-between items-center p-3 bg-red-50 rounded-md"},[e("div",null,[e("p",Ce,n(i.overcharge_type.description),1),e("p",Re,n(i.details),1)]),e("div",Me,[e("p",Te,"â‚±"+n(w(i.amount)),1),e("p",{class:x(["text-xs",i.is_paid?"text-green-600":"text-red-600"])},n(i.is_paid?"Paid":"Unpaid"),3)])]))),128))]),t.booking.total_overcharges>0?(l(),r("div",je,[e("div",Be,[s[7]||(s[7]=e("span",{class:"text-sm font-medium text-red-800"},"Total Overcharges:",-1)),e("span",Se,"â‚±"+n(w(t.booking.total_overcharges)),1)])])):u("",!0)])):t.potentialOvercharges&&t.potentialOvercharges.length>0?(l(),r("div",_e,[s[10]||(s[10]=e("h5",{class:"text-md font-medium text-yellow-600 mb-3"},"Potential Overcharges",-1)),e("div",De,[(l(!0),r(T,null,j(t.potentialOvercharges,i=>(l(),r("div",{key:`potential-${i.overcharge_type_id}`,class:"flex justify-between items-center p-3 bg-yellow-50 rounded-md"},[e("div",null,[e("p",Oe,n(S(i.overcharge_type_id)),1),e("p",Pe,n(i.details),1)]),e("div",Ee,[e("p",Le,"â‚±"+n(i.amount),1),s[9]||(s[9]=e("p",{class:"text-xs text-yellow-600"},"If charged now",-1))])]))),128))])])):u("",!0),t.canExtend?(l(),r("div",Ne,[s[17]||(s[17]=e("h5",{class:"text-md font-medium text-blue-600 mb-3"},"Request Booking Extension",-1)),s[18]||(s[18]=e("p",{class:"text-sm text-gray-600 mb-4"}," Request additional time from the vehicle owner to avoid late return charges. ",-1)),t.booking.extension_requests&&t.booking.extension_requests.length>0?(l(),r("div",Ae,[(l(!0),r(T,null,j(t.booking.extension_requests,i=>(l(),r("div",{key:i.id,class:x([{"bg-yellow-50 border-yellow-200":i.status==="pending","bg-green-50 border-green-200":i.status==="approved","bg-red-50 border-red-200":i.status==="rejected"},"border rounded-md p-4"])},[e("div",ze,[e("div",Ve,[i.status==="pending"?(l(),r("svg",Ue,s[11]||(s[11]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"},null,-1)]))):i.status==="approved"?(l(),r("svg",Fe,s[12]||(s[12]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},null,-1)]))):(l(),r("svg",He,s[13]||(s[13]=[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"},null,-1)])))]),e("div",Ie,[e("h3",{class:x([{"text-yellow-800":i.status==="pending","text-green-800":i.status==="approved","text-red-800":i.status==="rejected"},"text-sm font-medium"])}," Extension Request "+n(i.status==="pending"?"Pending":i.status==="approved"?"Approved":"Rejected"),3),e("div",{class:x([{"text-yellow-700":i.status==="pending","text-green-700":i.status==="approved","text-red-700":i.status==="rejected"},"mt-2 text-sm"])},[e("p",null,n(i.requested_hours)+" hours extension (â‚±"+n(w(i.calculated_cost))+")",1),i.status==="pending"?(l(),r("p",Ye,"Waiting for owner approval.")):i.status==="approved"?(l(),r("p",qe,"Your extension has been approved!")):(l(),r("p",Qe,"Extension request was rejected.")),i.owner_notes?(l(),r("p",We," Owner notes: "+n(i.owner_notes),1)):u("",!0)],2)])])],2))),128))])):u("",!0),t.booking.pending_extension_request?u("",!0):(l(),r("form",{key:1,onSubmit:oe(R,["prevent"]),class:"space-y-4"},[e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700"}," Request extension (hours) ",-1)),Z(e("input",{type:"number",min:"1",max:C.value,"onUpdate:modelValue":s[0]||(s[0]=i=>g.value=i),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"4"},null,8,Ge),[[ee,g.value]]),e("p",Je," Maximum "+n(C.value)+" hours allowed for this vehicle ",1)]),e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700"}," Reason for extension (optional) ",-1)),Z(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=i=>p.value=i),rows:"3",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Please explain why you need the extension..."},null,512),[[ee,p.value]])]),g.value>0?(l(),r("div",Ke,[e("p",Xe," Estimated cost: â‚±"+n(_()),1),e("p",Ze," New return time: "+n(D()),1),s[16]||(s[16]=e("p",{class:"text-xs text-blue-600 mt-1"}," *Subject to owner approval ",-1))])):u("",!0),e("button",{type:"submit",disabled:$(v).processing||!g.value,class:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50"},n($(v).processing?"Submitting Request...":"Request Extension"),9,et)],32))])):u("",!0)]))}},ot={class:"py-12"},nt={class:"max-w-5xl mx-auto sm:px-6 lg:px-8"},st={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},it={class:"p-6 text-gray-900"},lt={class:"mb-6"},rt={class:"mb-6"},at={class:"text-3xl font-bold text-gray-800"},dt={class:"flex items-center space-x-4 mt-2"},ut={key:0,class:"text-sm text-gray-500"},ct={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},mt={class:"lg:col-span-2 space-y-6"},gt={class:"bg-gray-50 rounded-lg p-6"},xt={class:"flex space-x-4"},bt=["src","alt"],vt={class:"flex-1"},ft={class:"text-lg font-semibold"},yt={key:0,class:"text-gray-600"},kt={class:"text-gray-600 mb-3"},ht={class:"grid grid-cols-2 gap-4 text-sm text-gray-600"},pt={class:"mt-3"},wt={class:"w-5xl h-56 bg-gray-200 rounded-lg overflow-hidden"},$t=["src"],Ct={key:1,class:"flex items-center justify-center h-full text-gray-500"},Rt={class:"bg-gray-50 rounded-lg p-6"},Mt={class:"grid grid-cols-2 gap-6"},Tt={class:"font-semibold"},jt={class:"text-xl font-bold text-green-600"},Bt={class:"font-semibold"},St={class:"font-semibold"},_t={class:"bg-gray-50 rounded-lg p-6"},Dt={class:"flex items-center space-x-4"},Ot={class:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold"},Pt={class:"font-semibold"},Et={class:"text-sm text-gray-600"},Lt={key:0,class:"text-sm text-gray-600"},Nt=["href"],At={class:"lg:col-span-1"},zt={class:"bg-white border rounded-lg p-6 mb-6"},Vt={class:"space-y-3"},Ut={class:"font-semibold"},Ft={key:0},Ht={class:"font-mono text-sm"},It={key:1},Yt={class:"mt-2"},qt=["src"],Qt={class:"space-y-3"},Wt={key:1,class:"w-full p-3 bg-green-50 border border-green-200 rounded-lg"},Gt={class:"flex items-center justify-between"},Jt={class:"flex items-center space-x-1"},Kt={key:0,class:"text-green-700 text-sm mt-1"},Xt={class:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-auto"},Zt={class:"p-4 text-center"},eo=["src"],uo={__name:"Show",props:{booking:Object,expectedReturnTime:String,potentialOvercharges:Array},setup(t){const a=t,g=O(!1),p=h(()=>a.booking.status==="pending"&&a.booking.payment&&!a.booking.payment.paid_at&&a.booking.payment.type==="gcash"),v=h(()=>{const c=new Date(a.booking.pickup_datetime),o=a.booking.pricing_tier;let b=new Date(c);switch(o.duration_unit){case"minutes":b.setMinutes(b.getMinutes()+o.duration_from);break;case"hours":b.setHours(b.getHours()+o.duration_from);break;case"days":b.setDate(b.getDate()+o.duration_from);break}return b.toLocaleString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),f=h(()=>{var c;return a.booking.status==="confirmed"&&!a.booking.return_time&&((c=a.booking.vehicle)==null?void 0:c.allow_extensions)!==!1}),k=h(()=>a.booking.status==="completed"&&a.booking.return_time&&!a.booking.rating);function B(c){return{pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"}[c]||"bg-gray-100 text-gray-800"}function w(c){return c?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}function S(c){return{pending:"Pending",confirmed:"Confirmed",completed:"Completed",cancelled:"Cancelled"}[c]||c}function _(c){return new Date(c).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function D(c){return new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function C(){g.value=!0}function R(){g.value=!1}function d(){y.visit(route("bookings.index"))}function s(){y.visit(route("admin.bookings"))}function i(){y.visit(route("bookings.payment",a.booking.id))}function ne(){y.visit(`/vehicles/${a.booking.vehicle.id}`)}function se(){y.visit(route("ratings.create",a.booking.id))}function ie(){confirm("Are you sure you want to cancel this booking?")&&y.post(route("bookings.cancel",a.booking.id),{},{onSuccess:()=>{y.visit(route("bookings.index"))}})}return(c,o)=>(l(),re(de,null,{default:ae(()=>{var b,P,E,L,N,A,z,V,U,F,H,I,Y,q,Q,W,G,J,K;return[e("div",ot,[e("div",nt,[e("div",st,[e("div",it,[e("div",lt,[c.$is("renter","owner")?(l(),r("button",{key:0,onClick:d,class:"inline-flex items-center text-blue-600 hover:text-blue-800 font-semibold transition-colors"},o[0]||(o[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),m(" Back to My Bookings ")]))):u("",!0),c.$is("admin")?(l(),r("button",{key:1,onClick:s,class:"inline-flex items-center text-blue-600 hover:text-blue-800 font-semibold transition-colors"},o[1]||(o[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),m(" Back to My Bookings ")]))):u("",!0)]),e("div",rt,[e("h1",at," Booking #"+n(t.booking.id),1),e("div",dt,[e("span",{class:x([B(t.booking.status),"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium"])},n(S(t.booking.status)),3),t.booking.payment?(l(),r("span",ut," Created "+n(D(t.booking.created_at)),1)):u("",!0)])]),e("div",ct,[e("div",mt,[e("div",gt,[o[13]||(o[13]=e("h2",{class:"text-xl font-semibold mb-4"}," Vehicle Details ",-1)),e("div",xt,[e("img",{src:t.booking.vehicle.main_photo_url||"/images/placeholder-vehicle.jpg",alt:`${(b=t.booking.vehicle.make)==null?void 0:b.name} ${((P=t.booking.vehicle.model)==null?void 0:P.name)||((E=t.booking.vehicle.type)==null?void 0:E.name)}`,class:"w-32 h-32 object-cover rounded-lg"},null,8,bt),e("div",vt,[e("h3",ft,[m(n((L=t.booking.vehicle.make)==null?void 0:L.name)+" "+n((N=t.booking.vehicle.model)==null?void 0:N.name)+" ",1),t.booking.vehicle.year?(l(),r("span",yt,"("+n(t.booking.vehicle.year)+")",1)):u("",!0)]),e("p",kt,n(t.booking.vehicle.description),1),e("div",ht,[e("div",null,[o[2]||(o[2]=e("span",{class:"font-medium"},"Make:",-1)),m(" "+n(((A=t.booking.vehicle.make)==null?void 0:A.name)||"Unknown"),1)]),e("div",null,[o[3]||(o[3]=e("span",{class:"font-medium"},"Model:",-1)),m(" "+n(((z=t.booking.vehicle.model)==null?void 0:z.name)||"Unknown"),1)]),e("div",null,[o[4]||(o[4]=e("span",{class:"font-medium"},"Category:",-1)),m(" "+n(((V=t.booking.vehicle.type)==null?void 0:V.category)==="car"?"ðŸš— Car":"ðŸï¸ Motorcycle"),1)]),e("div",null,[o[5]||(o[5]=e("span",{class:"font-medium"},"Sub-Type:",-1)),m(" "+n(((U=t.booking.vehicle.type)==null?void 0:U.sub_type)||"N/A"),1)]),e("div",null,[o[6]||(o[6]=e("span",{class:"font-medium"},"Year:",-1)),m(" "+n(t.booking.vehicle.year),1)]),e("div",null,[o[7]||(o[7]=e("span",{class:"font-medium"},"Color:",-1)),m(" "+n(t.booking.vehicle.color),1)]),e("div",null,[o[8]||(o[8]=e("span",{class:"font-medium"},"Fuel Type:",-1)),m(" "+n(((F=t.booking.vehicle.fuelType)==null?void 0:F.name)||((H=t.booking.vehicle.fuel_type)==null?void 0:H.name)||"N/A"),1)]),e("div",null,[o[9]||(o[9]=e("span",{class:"font-medium"},"Transmission:",-1)),m(" "+n(((I=t.booking.vehicle.transmission)==null?void 0:I.name)||"N/A"),1)]),e("div",null,[o[10]||(o[10]=e("span",{class:"font-medium"},"License Plate:",-1)),m(" "+n(t.booking.vehicle.license_plate||"Not Set"),1)])]),e("div",pt,[o[11]||(o[11]=e("span",{class:"font-medium"},"Location:",-1)),m(" "+n(t.booking.vehicle.location_name),1)])])]),o[14]||(o[14]=e("h2",{class:"text-xl font-semibold mb-4"}," Location Map ",-1)),e("div",wt,[t.booking.vehicle.lat&&t.booking.vehicle.lng?(l(),r("iframe",{key:0,src:`https://maps.google.com/maps?q=${t.booking.vehicle.lat},${t.booking.vehicle.lng}&z=18&t=k&output=embed`,class:"w-full h-full border-0",loading:"lazy",allowfullscreen:""},null,8,$t)):(l(),r("div",Ct,[M($(ue),{class:"h-8 w-8 mr-2"}),o[12]||(o[12]=e("span",null,"Location not available",-1))]))])]),e("div",Rt,[o[19]||(o[19]=e("h2",{class:"text-xl font-semibold mb-4"}," Booking Information ",-1)),e("div",Mt,[e("div",null,[o[15]||(o[15]=e("span",{class:"text-sm text-gray-500"},"Duration",-1)),e("div",Tt,n(t.booking.pricing_tier.duration_from)+" "+n(t.booking.pricing_tier.duration_from===1?t.booking.pricing_tier.duration_unit.slice(0,-1):t.booking.pricing_tier.duration_unit),1)]),e("div",null,[o[16]||(o[16]=e("span",{class:"text-sm text-gray-500"},"Total Amount",-1)),e("div",jt," â‚±"+n(t.booking.total_amount),1)]),e("div",null,[o[17]||(o[17]=e("span",{class:"text-sm text-gray-500"},"Pickup Date & Time",-1)),e("div",Bt,n(_(t.booking.pickup_datetime)),1)]),e("div",null,[o[18]||(o[18]=e("span",{class:"text-sm text-gray-500"},"Estimated Return",-1)),e("div",St,n(v.value),1)])])]),e("div",_t,[o[20]||(o[20]=e("h2",{class:"text-xl font-semibold mb-4"}," Vehicle Owner ",-1)),e("div",Dt,[e("div",Ot,n(t.booking.vehicle.owner.first_name.charAt(0))+n(t.booking.vehicle.owner.last_name.charAt(0)),1),e("div",null,[e("div",Pt,n(t.booking.vehicle.owner.first_name)+" "+n(t.booking.vehicle.owner.last_name),1),e("div",Et,n(t.booking.vehicle.owner.email),1),t.booking.vehicle.owner.phone?(l(),r("div",Lt,[e("a",{href:`tel:${t.booking.vehicle.owner.phone}`,class:"text-blue-600 hover:text-blue-800"},n(t.booking.vehicle.owner.phone),9,Nt)])):u("",!0)])])])]),e("div",At,[e("div",zt,[o[25]||(o[25]=e("h2",{class:"text-xl font-semibold mb-4"}," Payment Information ",-1)),e("div",Vt,[e("div",null,[o[21]||(o[21]=e("span",{class:"text-sm text-gray-500"},"Payment Method",-1)),e("div",Ut,n(((q=(Y=t.booking.payment)==null?void 0:Y.payment_mode)==null?void 0:q.name)||"N/A"),1)]),e("div",null,[o[22]||(o[22]=e("span",{class:"text-sm text-gray-500"},"Payment Status",-1)),e("div",null,[e("span",{class:x([w((Q=t.booking.payment)==null?void 0:Q.paid_at),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},n((W=t.booking.payment)!=null&&W.paid_at?"Payment Confirmed":"Payment Pending"),3)])]),(G=t.booking.payment)!=null&&G.reference_number?(l(),r("div",Ft,[o[23]||(o[23]=e("span",{class:"text-sm text-gray-500"},"Reference Number",-1)),e("div",Ht,n(t.booking.payment.reference_number),1)])):u("",!0),(J=t.booking.payment)!=null&&J.receipt_image?(l(),r("div",It,[o[24]||(o[24]=e("span",{class:"text-sm text-gray-500"},"Payment Proof",-1)),e("div",Yt,[e("img",{src:t.booking.payment.receipt_image,alt:"Payment Receipt",class:"w-full rounded border cursor-pointer",onClick:C},null,8,qt)])])):u("",!0)])]),M(tt,{booking:t.booking,expectedReturnTime:t.expectedReturnTime,potentialOvercharges:t.potentialOvercharges,canExtend:f.value},null,8,["booking","expectedReturnTime","potentialOvercharges","canExtend"]),e("div",Qt,[t.booking.status==="completed"&&!t.booking.rating&&k.value?(l(),r("button",{key:0,onClick:se,class:"w-full py-2 px-4 bg-yellow-500 hover:bg-yellow-600 text-white font-semibold rounded-lg transition-colors flex items-center justify-center gap-2"},[M($(te),{class:"h-4 w-4"}),o[26]||(o[26]=m(" Rate Your Experience "))])):u("",!0),t.booking.rating?(l(),r("div",Wt,[e("div",Gt,[o[27]||(o[27]=e("span",{class:"text-green-800 font-medium"},"You rated this rental",-1)),e("div",Jt,[(l(),r(T,null,j(5,X=>M($(te),{key:X,class:x(["h-4 w-4",X<=t.booking.rating.rating?"text-yellow-400 fill-yellow-400":"text-gray-300"])},null,8,["class"])),64))])]),t.booking.rating.comment?(l(),r("p",Kt,' "'+n(t.booking.rating.comment)+'" ',1)):u("",!0)])):u("",!0),p.value?(l(),r("button",{key:2,onClick:i,class:"w-full py-2 px-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition-colors"}," Complete Payment ")):u("",!0),t.booking.status==="pending"?(l(),r("button",{key:3,onClick:ie,class:"w-full py-2 px-4 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg transition-colors"}," Cancel Booking ")):u("",!0),e("button",{onClick:ne,class:"w-full py-2 px-4 border border-gray-300 text-gray-700 hover:bg-gray-50 font-semibold rounded-lg transition-colors"}," View Vehicle ")])])])])])])]),g.value?(l(),r("div",{key:0,onClick:oe(R,["self"]),class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},[e("div",Xt,[e("div",{class:"p-4 border-b flex justify-between items-center"},[o[29]||(o[29]=e("h3",{class:"text-lg font-semibold"},"Payment Receipt",-1)),e("button",{onClick:R,class:"text-gray-400 hover:text-gray-600"},o[28]||(o[28]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",Zt,[e("img",{src:(K=t.booking.payment)==null?void 0:K.receipt_image,alt:"Payment Receipt",class:"max-w-full h-auto mx-auto rounded border"},null,8,eo)])])])):u("",!0)]}),_:1}))}};export{uo as default};
